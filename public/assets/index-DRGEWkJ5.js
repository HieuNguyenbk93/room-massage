var Ek=Object.defineProperty;var Tk=(t,e,n)=>e in t?Ek(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ik=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var dn=(t,e,n)=>Tk(t,typeof e!="symbol"?e+"":e,n);var L9=Ik((jn,Un)=>{function Sk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ak=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ry(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var IT={exports:{}},rf={},ST={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gc=Symbol.for("react.element"),bk=Symbol.for("react.portal"),Ck=Symbol.for("react.fragment"),kk=Symbol.for("react.strict_mode"),Rk=Symbol.for("react.profiler"),Pk=Symbol.for("react.provider"),xk=Symbol.for("react.context"),Nk=Symbol.for("react.forward_ref"),Ok=Symbol.for("react.suspense"),Dk=Symbol.for("react.memo"),Lk=Symbol.for("react.lazy"),e0=Symbol.iterator;function Vk(t){return t===null||typeof t!="object"?null:(t=e0&&t[e0]||t["@@iterator"],typeof t=="function"?t:null)}var AT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bT=Object.assign,CT={};function _l(t,e,n){this.props=t,this.context=e,this.refs=CT,this.updater=n||AT}_l.prototype.isReactComponent={};_l.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_l.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kT(){}kT.prototype=_l.prototype;function iy(t,e,n){this.props=t,this.context=e,this.refs=CT,this.updater=n||AT}var sy=iy.prototype=new kT;sy.constructor=iy;bT(sy,_l.prototype);sy.isPureReactComponent=!0;var t0=Array.isArray,RT=Object.prototype.hasOwnProperty,oy={current:null},PT={key:!0,ref:!0,__self:!0,__source:!0};function xT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)RT.call(e,r)&&!PT.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:gc,type:t,key:s,ref:o,props:i,_owner:oy.current}}function Mk(t,e){return{$$typeof:gc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ay(t){return typeof t=="object"&&t!==null&&t.$$typeof===gc}function Fk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var n0=/\/+/g;function xp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Fk(""+t.key):e.toString(36)}function Fh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gc:case bk:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+xp(o,0):r,t0(i)?(n="",t!=null&&(n=t.replace(n0,"$&/")+"/"),Fh(i,e,n,"",function(h){return h})):i!=null&&(ay(i)&&(i=Mk(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(n0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",t0(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+xp(s,l);o+=Fh(s,e,n,u,i)}else if(u=Vk(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+xp(s,l++),o+=Fh(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function hh(t,e,n){if(t==null)return t;var r=[],i=0;return Fh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function $k(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gn={current:null},$h={transition:null},jk={ReactCurrentDispatcher:gn,ReactCurrentBatchConfig:$h,ReactCurrentOwner:oy};function NT(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:hh,forEach:function(t,e,n){hh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hh(t,function(){e++}),e},toArray:function(t){return hh(t,function(e){return e})||[]},only:function(t){if(!ay(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ke.Component=_l;ke.Fragment=Ck;ke.Profiler=Rk;ke.PureComponent=iy;ke.StrictMode=kk;ke.Suspense=Ok;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jk;ke.act=NT;ke.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=bT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=oy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)RT.call(e,u)&&!PT.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:gc,type:t.type,key:i,ref:s,props:r,_owner:o}};ke.createContext=function(t){return t={$$typeof:xk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Pk,_context:t},t.Consumer=t};ke.createElement=xT;ke.createFactory=function(t){var e=xT.bind(null,t);return e.type=t,e};ke.createRef=function(){return{current:null}};ke.forwardRef=function(t){return{$$typeof:Nk,render:t}};ke.isValidElement=ay;ke.lazy=function(t){return{$$typeof:Lk,_payload:{_status:-1,_result:t},_init:$k}};ke.memo=function(t,e){return{$$typeof:Dk,type:t,compare:e===void 0?null:e}};ke.startTransition=function(t){var e=$h.transition;$h.transition={};try{t()}finally{$h.transition=e}};ke.unstable_act=NT;ke.useCallback=function(t,e){return gn.current.useCallback(t,e)};ke.useContext=function(t){return gn.current.useContext(t)};ke.useDebugValue=function(){};ke.useDeferredValue=function(t){return gn.current.useDeferredValue(t)};ke.useEffect=function(t,e){return gn.current.useEffect(t,e)};ke.useId=function(){return gn.current.useId()};ke.useImperativeHandle=function(t,e,n){return gn.current.useImperativeHandle(t,e,n)};ke.useInsertionEffect=function(t,e){return gn.current.useInsertionEffect(t,e)};ke.useLayoutEffect=function(t,e){return gn.current.useLayoutEffect(t,e)};ke.useMemo=function(t,e){return gn.current.useMemo(t,e)};ke.useReducer=function(t,e,n){return gn.current.useReducer(t,e,n)};ke.useRef=function(t){return gn.current.useRef(t)};ke.useState=function(t){return gn.current.useState(t)};ke.useSyncExternalStore=function(t,e,n){return gn.current.useSyncExternalStore(t,e,n)};ke.useTransition=function(){return gn.current.useTransition()};ke.version="18.3.1";ST.exports=ke;var $=ST.exports;const Ze=ry($),Uk=Sk({__proto__:null,default:Ze},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bk=$,zk=Symbol.for("react.element"),qk=Symbol.for("react.fragment"),Hk=Object.prototype.hasOwnProperty,Wk=Bk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gk={key:!0,ref:!0,__self:!0,__source:!0};function OT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Hk.call(e,r)&&!Gk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zk,type:t,key:s,ref:o,props:i,_owner:Wk.current}}rf.Fragment=qk;rf.jsx=OT;rf.jsxs=OT;IT.exports=rf;var B=IT.exports,DT={exports:{}},qn={},LT={exports:{}},VT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(X,ce){var j=X.length;X.push(ce);e:for(;0<j;){var Ae=j-1>>>1,me=X[Ae];if(0<i(me,ce))X[Ae]=ce,X[j]=me,j=Ae;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ce=X[0],j=X.pop();if(j!==ce){X[0]=j;e:for(var Ae=0,me=X.length,Ie=me>>>1;Ae<Ie;){var xe=2*(Ae+1)-1,Me=X[xe],$e=xe+1,dt=X[$e];if(0>i(Me,j))$e<me&&0>i(dt,Me)?(X[Ae]=dt,X[$e]=j,Ae=$e):(X[Ae]=Me,X[xe]=j,Ae=xe);else if($e<me&&0>i(dt,j))X[Ae]=dt,X[$e]=j,Ae=$e;else break e}}return ce}function i(X,ce){var j=X.sortIndex-ce.sortIndex;return j!==0?j:X.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],h=[],p=1,g=null,y=3,C=!1,P=!1,x=!1,O=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(X){for(var ce=n(h);ce!==null;){if(ce.callback===null)r(h);else if(ce.startTime<=X)r(h),ce.sortIndex=ce.expirationTime,e(u,ce);else break;ce=n(h)}}function F(X){if(x=!1,A(X),!P)if(n(u)!==null)P=!0,ln(Q);else{var ce=n(h);ce!==null&&ot(F,ce.startTime-X)}}function Q(X,ce){P=!1,x&&(x=!1,I(w),w=-1),C=!0;var j=y;try{for(A(ce),g=n(u);g!==null&&(!(g.expirationTime>ce)||X&&!N());){var Ae=g.callback;if(typeof Ae=="function"){g.callback=null,y=g.priorityLevel;var me=Ae(g.expirationTime<=ce);ce=t.unstable_now(),typeof me=="function"?g.callback=me:g===n(u)&&r(u),A(ce)}else r(u);g=n(u)}if(g!==null)var Ie=!0;else{var xe=n(h);xe!==null&&ot(F,xe.startTime-ce),Ie=!1}return Ie}finally{g=null,y=j,C=!1}}var H=!1,S=null,w=-1,b=5,R=-1;function N(){return!(t.unstable_now()-R<b)}function L(){if(S!==null){var X=t.unstable_now();R=X;var ce=!0;try{ce=S(!0,X)}finally{ce?k():(H=!1,S=null)}}else H=!1}var k;if(typeof v=="function")k=function(){v(L)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,It=Ve.port2;Ve.port1.onmessage=L,k=function(){It.postMessage(null)}}else k=function(){O(L,0)};function ln(X){S=X,H||(H=!0,k())}function ot(X,ce){w=O(function(){X(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){P||C||(P=!0,ln(Q))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(X){switch(y){case 1:case 2:case 3:var ce=3;break;default:ce=y}var j=y;y=ce;try{return X()}finally{y=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,ce){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var j=y;y=X;try{return ce()}finally{y=j}},t.unstable_scheduleCallback=function(X,ce,j){var Ae=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?Ae+j:Ae):j=Ae,X){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=j+me,X={id:p++,callback:ce,priorityLevel:X,startTime:j,expirationTime:me,sortIndex:-1},j>Ae?(X.sortIndex=j,e(h,X),n(u)===null&&X===n(h)&&(x?(I(w),w=-1):x=!0,ot(F,j-Ae))):(X.sortIndex=me,e(u,X),P||C||(P=!0,ln(Q))),X},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(X){var ce=y;return function(){var j=y;y=ce;try{return X.apply(this,arguments)}finally{y=j}}}})(VT);LT.exports=VT;var Kk=LT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qk=$,zn=Kk;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var MT=new Set,Mu={};function Ho(t,e){el(t,e),el(t+"Capture",e)}function el(t,e){for(Mu[t]=e,t=0;t<e.length;t++)MT.add(e[t])}var ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Am=Object.prototype.hasOwnProperty,Yk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r0={},i0={};function Xk(t){return Am.call(i0,t)?!0:Am.call(r0,t)?!1:Yk.test(t)?i0[t]=!0:(r0[t]=!0,!1)}function Jk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Zk(t,e,n,r){if(e===null||typeof e>"u"||Jk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gt[t]=new yn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gt[e]=new yn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gt[t]=new yn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gt[t]=new yn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gt[t]=new yn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gt[t]=new yn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gt[t]=new yn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gt[t]=new yn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gt[t]=new yn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ly=/[\-:]([a-z])/g;function uy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ly,uy);Gt[e]=new yn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ly,uy);Gt[e]=new yn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ly,uy);Gt[e]=new yn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gt[t]=new yn(t,1,!1,t.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gt[t]=new yn(t,1,!1,t.toLowerCase(),null,!0,!0)});function cy(t,e,n,r){var i=Gt.hasOwnProperty(e)?Gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Zk(e,n,i,r)&&(n=null),r||i===null?Xk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Mi=Qk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dh=Symbol.for("react.element"),Ra=Symbol.for("react.portal"),Pa=Symbol.for("react.fragment"),hy=Symbol.for("react.strict_mode"),bm=Symbol.for("react.profiler"),FT=Symbol.for("react.provider"),$T=Symbol.for("react.context"),dy=Symbol.for("react.forward_ref"),Cm=Symbol.for("react.suspense"),km=Symbol.for("react.suspense_list"),fy=Symbol.for("react.memo"),ls=Symbol.for("react.lazy"),jT=Symbol.for("react.offscreen"),s0=Symbol.iterator;function ru(t){return t===null||typeof t!="object"?null:(t=s0&&t[s0]||t["@@iterator"],typeof t=="function"?t:null)}var mt=Object.assign,Np;function du(t){if(Np===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Np=e&&e[1]||""}return`
`+Np+t}var Op=!1;function Dp(t,e){if(!t||Op)return"";Op=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Op=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?du(t):""}function eR(t){switch(t.tag){case 5:return du(t.type);case 16:return du("Lazy");case 13:return du("Suspense");case 19:return du("SuspenseList");case 0:case 2:case 15:return t=Dp(t.type,!1),t;case 11:return t=Dp(t.type.render,!1),t;case 1:return t=Dp(t.type,!0),t;default:return""}}function Rm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pa:return"Fragment";case Ra:return"Portal";case bm:return"Profiler";case hy:return"StrictMode";case Cm:return"Suspense";case km:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $T:return(t.displayName||"Context")+".Consumer";case FT:return(t._context.displayName||"Context")+".Provider";case dy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fy:return e=t.displayName||null,e!==null?e:Rm(t.type)||"Memo";case ls:e=t._payload,t=t._init;try{return Rm(t(e))}catch{}}return null}function tR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rm(e);case 8:return e===hy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ds(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function UT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nR(t){var e=UT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fh(t){t._valueTracker||(t._valueTracker=nR(t))}function BT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=UT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ud(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pm(t,e){var n=e.checked;return mt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function o0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ds(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zT(t,e){e=e.checked,e!=null&&cy(t,"checked",e,!1)}function xm(t,e){zT(t,e);var n=Ds(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Nm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Nm(t,e.type,Ds(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function a0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Nm(t,e,n){(e!=="number"||ud(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fu=Array.isArray;function za(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ds(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Om(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return mt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function l0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(fu(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ds(n)}}function qT(t,e){var n=Ds(e.value),r=Ds(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function u0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function HT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?HT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ph,WT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ph=ph||document.createElement("div"),ph.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ph.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rR=["Webkit","ms","Moz","O"];Object.keys(wu).forEach(function(t){rR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wu[e]=wu[t]})});function GT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wu.hasOwnProperty(t)&&wu[t]?(""+e).trim():e+"px"}function KT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=GT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var iR=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lm(t,e){if(e){if(iR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function Vm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mm=null;function py(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fm=null,qa=null,Ha=null;function c0(t){if(t=vc(t)){if(typeof Fm!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=uf(e),Fm(t.stateNode,t.type,e))}}function QT(t){qa?Ha?Ha.push(t):Ha=[t]:qa=t}function YT(){if(qa){var t=qa,e=Ha;if(Ha=qa=null,c0(t),e)for(t=0;t<e.length;t++)c0(e[t])}}function XT(t,e){return t(e)}function JT(){}var Lp=!1;function ZT(t,e,n){if(Lp)return t(e,n);Lp=!0;try{return XT(t,e,n)}finally{Lp=!1,(qa!==null||Ha!==null)&&(JT(),YT())}}function $u(t,e){var n=t.stateNode;if(n===null)return null;var r=uf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var $m=!1;if(ki)try{var iu={};Object.defineProperty(iu,"passive",{get:function(){$m=!0}}),window.addEventListener("test",iu,iu),window.removeEventListener("test",iu,iu)}catch{$m=!1}function sR(t,e,n,r,i,s,o,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(p){this.onError(p)}}var Eu=!1,cd=null,hd=!1,jm=null,oR={onError:function(t){Eu=!0,cd=t}};function aR(t,e,n,r,i,s,o,l,u){Eu=!1,cd=null,sR.apply(oR,arguments)}function lR(t,e,n,r,i,s,o,l,u){if(aR.apply(this,arguments),Eu){if(Eu){var h=cd;Eu=!1,cd=null}else throw Error(Y(198));hd||(hd=!0,jm=h)}}function Wo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function e1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function h0(t){if(Wo(t)!==t)throw Error(Y(188))}function uR(t){var e=t.alternate;if(!e){if(e=Wo(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return h0(i),t;if(s===r)return h0(i),e;s=s.sibling}throw Error(Y(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function t1(t){return t=uR(t),t!==null?n1(t):null}function n1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=n1(t);if(e!==null)return e;t=t.sibling}return null}var r1=zn.unstable_scheduleCallback,d0=zn.unstable_cancelCallback,cR=zn.unstable_shouldYield,hR=zn.unstable_requestPaint,Tt=zn.unstable_now,dR=zn.unstable_getCurrentPriorityLevel,my=zn.unstable_ImmediatePriority,i1=zn.unstable_UserBlockingPriority,dd=zn.unstable_NormalPriority,fR=zn.unstable_LowPriority,s1=zn.unstable_IdlePriority,sf=null,Kr=null;function pR(t){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot(sf,t,void 0,(t.current.flags&128)===128)}catch{}}var br=Math.clz32?Math.clz32:yR,mR=Math.log,gR=Math.LN2;function yR(t){return t>>>=0,t===0?32:31-(mR(t)/gR|0)|0}var mh=64,gh=4194304;function pu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=pu(l):(s&=o,s!==0&&(r=pu(s)))}else o=n&~i,o!==0?r=pu(o):s!==0&&(r=pu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-br(e),i=1<<n,r|=t[n],e&=~i;return r}function _R(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-br(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=_R(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function Um(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function o1(){var t=mh;return mh<<=1,!(mh&4194240)&&(mh=64),t}function Vp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-br(e),t[e]=n}function wR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-br(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function gy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-br(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ke=0;function a1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var l1,yy,u1,c1,h1,Bm=!1,yh=[],Es=null,Ts=null,Is=null,ju=new Map,Uu=new Map,hs=[],ER="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function f0(t,e){switch(t){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":Ts=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":ju.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uu.delete(e.pointerId)}}function su(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=vc(e),e!==null&&yy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function TR(t,e,n,r,i){switch(e){case"focusin":return Es=su(Es,t,e,n,r,i),!0;case"dragenter":return Ts=su(Ts,t,e,n,r,i),!0;case"mouseover":return Is=su(Is,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ju.set(s,su(ju.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Uu.set(s,su(Uu.get(s)||null,t,e,n,r,i)),!0}return!1}function d1(t){var e=Io(t.target);if(e!==null){var n=Wo(e);if(n!==null){if(e=n.tag,e===13){if(e=e1(n),e!==null){t.blockedOn=e,h1(t.priority,function(){u1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Mm=r,n.target.dispatchEvent(r),Mm=null}else return e=vc(n),e!==null&&yy(e),t.blockedOn=n,!1;e.shift()}return!0}function p0(t,e,n){jh(t)&&n.delete(e)}function IR(){Bm=!1,Es!==null&&jh(Es)&&(Es=null),Ts!==null&&jh(Ts)&&(Ts=null),Is!==null&&jh(Is)&&(Is=null),ju.forEach(p0),Uu.forEach(p0)}function ou(t,e){t.blockedOn===e&&(t.blockedOn=null,Bm||(Bm=!0,zn.unstable_scheduleCallback(zn.unstable_NormalPriority,IR)))}function Bu(t){function e(i){return ou(i,t)}if(0<yh.length){ou(yh[0],t);for(var n=1;n<yh.length;n++){var r=yh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Es!==null&&ou(Es,t),Ts!==null&&ou(Ts,t),Is!==null&&ou(Is,t),ju.forEach(e),Uu.forEach(e),n=0;n<hs.length;n++)r=hs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<hs.length&&(n=hs[0],n.blockedOn===null);)d1(n),n.blockedOn===null&&hs.shift()}var Wa=Mi.ReactCurrentBatchConfig,pd=!0;function SR(t,e,n,r){var i=Ke,s=Wa.transition;Wa.transition=null;try{Ke=1,_y(t,e,n,r)}finally{Ke=i,Wa.transition=s}}function AR(t,e,n,r){var i=Ke,s=Wa.transition;Wa.transition=null;try{Ke=4,_y(t,e,n,r)}finally{Ke=i,Wa.transition=s}}function _y(t,e,n,r){if(pd){var i=zm(t,e,n,r);if(i===null)Wp(t,e,r,md,n),f0(t,r);else if(TR(i,t,e,n,r))r.stopPropagation();else if(f0(t,r),e&4&&-1<ER.indexOf(t)){for(;i!==null;){var s=vc(i);if(s!==null&&l1(s),s=zm(t,e,n,r),s===null&&Wp(t,e,r,md,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Wp(t,e,r,null,n)}}var md=null;function zm(t,e,n,r){if(md=null,t=py(r),t=Io(t),t!==null)if(e=Wo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=e1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return md=t,null}function f1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dR()){case my:return 1;case i1:return 4;case dd:case fR:return 16;case s1:return 536870912;default:return 16}default:return 16}}var gs=null,vy=null,Uh=null;function p1(){if(Uh)return Uh;var t,e=vy,n=e.length,r,i="value"in gs?gs.value:gs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Uh=i.slice(t,1<r?1-r:void 0)}function Bh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _h(){return!0}function m0(){return!1}function Hn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_h:m0,this.isPropagationStopped=m0,this}return mt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_h)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_h)},persist:function(){},isPersistent:_h}),e}var vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wy=Hn(vl),_c=mt({},vl,{view:0,detail:0}),bR=Hn(_c),Mp,Fp,au,of=mt({},_c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ey,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==au&&(au&&t.type==="mousemove"?(Mp=t.screenX-au.screenX,Fp=t.screenY-au.screenY):Fp=Mp=0,au=t),Mp)},movementY:function(t){return"movementY"in t?t.movementY:Fp}}),g0=Hn(of),CR=mt({},of,{dataTransfer:0}),kR=Hn(CR),RR=mt({},_c,{relatedTarget:0}),$p=Hn(RR),PR=mt({},vl,{animationName:0,elapsedTime:0,pseudoElement:0}),xR=Hn(PR),NR=mt({},vl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OR=Hn(NR),DR=mt({},vl,{data:0}),y0=Hn(DR),LR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MR[t])?!!e[t]:!1}function Ey(){return FR}var $R=mt({},_c,{key:function(t){if(t.key){var e=LR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?VR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ey,charCode:function(t){return t.type==="keypress"?Bh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jR=Hn($R),UR=mt({},of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_0=Hn(UR),BR=mt({},_c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ey}),zR=Hn(BR),qR=mt({},vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),HR=Hn(qR),WR=mt({},of,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GR=Hn(WR),KR=[9,13,27,32],Ty=ki&&"CompositionEvent"in window,Tu=null;ki&&"documentMode"in document&&(Tu=document.documentMode);var QR=ki&&"TextEvent"in window&&!Tu,m1=ki&&(!Ty||Tu&&8<Tu&&11>=Tu),v0=" ",w0=!1;function g1(t,e){switch(t){case"keyup":return KR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function y1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xa=!1;function YR(t,e){switch(t){case"compositionend":return y1(e);case"keypress":return e.which!==32?null:(w0=!0,v0);case"textInput":return t=e.data,t===v0&&w0?null:t;default:return null}}function XR(t,e){if(xa)return t==="compositionend"||!Ty&&g1(t,e)?(t=p1(),Uh=vy=gs=null,xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return m1&&e.locale!=="ko"?null:e.data;default:return null}}var JR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JR[t.type]:e==="textarea"}function _1(t,e,n,r){QT(r),e=gd(e,"onChange"),0<e.length&&(n=new wy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Iu=null,zu=null;function ZR(t){R1(t,0)}function af(t){var e=Da(t);if(BT(e))return t}function eP(t,e){if(t==="change")return e}var v1=!1;if(ki){var jp;if(ki){var Up="oninput"in document;if(!Up){var T0=document.createElement("div");T0.setAttribute("oninput","return;"),Up=typeof T0.oninput=="function"}jp=Up}else jp=!1;v1=jp&&(!document.documentMode||9<document.documentMode)}function I0(){Iu&&(Iu.detachEvent("onpropertychange",w1),zu=Iu=null)}function w1(t){if(t.propertyName==="value"&&af(zu)){var e=[];_1(e,zu,t,py(t)),ZT(ZR,e)}}function tP(t,e,n){t==="focusin"?(I0(),Iu=e,zu=n,Iu.attachEvent("onpropertychange",w1)):t==="focusout"&&I0()}function nP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return af(zu)}function rP(t,e){if(t==="click")return af(e)}function iP(t,e){if(t==="input"||t==="change")return af(e)}function sP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pr=typeof Object.is=="function"?Object.is:sP;function qu(t,e){if(Pr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Am.call(e,i)||!Pr(t[i],e[i]))return!1}return!0}function S0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function A0(t,e){var n=S0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=S0(n)}}function E1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?E1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function T1(){for(var t=window,e=ud();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ud(t.document)}return e}function Iy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oP(t){var e=T1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&E1(n.ownerDocument.documentElement,n)){if(r!==null&&Iy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=A0(n,s);var o=A0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aP=ki&&"documentMode"in document&&11>=document.documentMode,Na=null,qm=null,Su=null,Hm=!1;function b0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hm||Na==null||Na!==ud(r)||(r=Na,"selectionStart"in r&&Iy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Su&&qu(Su,r)||(Su=r,r=gd(qm,"onSelect"),0<r.length&&(e=new wy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Na)))}function vh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Oa={animationend:vh("Animation","AnimationEnd"),animationiteration:vh("Animation","AnimationIteration"),animationstart:vh("Animation","AnimationStart"),transitionend:vh("Transition","TransitionEnd")},Bp={},I1={};ki&&(I1=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function lf(t){if(Bp[t])return Bp[t];if(!Oa[t])return t;var e=Oa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in I1)return Bp[t]=e[n];return t}var S1=lf("animationend"),A1=lf("animationiteration"),b1=lf("animationstart"),C1=lf("transitionend"),k1=new Map,C0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bs(t,e){k1.set(t,e),Ho(e,[t])}for(var zp=0;zp<C0.length;zp++){var qp=C0[zp],lP=qp.toLowerCase(),uP=qp[0].toUpperCase()+qp.slice(1);Bs(lP,"on"+uP)}Bs(S1,"onAnimationEnd");Bs(A1,"onAnimationIteration");Bs(b1,"onAnimationStart");Bs("dblclick","onDoubleClick");Bs("focusin","onFocus");Bs("focusout","onBlur");Bs(C1,"onTransitionEnd");el("onMouseEnter",["mouseout","mouseover"]);el("onMouseLeave",["mouseout","mouseover"]);el("onPointerEnter",["pointerout","pointerover"]);el("onPointerLeave",["pointerout","pointerover"]);Ho("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ho("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ho("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ho("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ho("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ho("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cP=new Set("cancel close invalid load scroll toggle".split(" ").concat(mu));function k0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lR(r,e,void 0,t),t.currentTarget=null}function R1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;k0(i,l,h),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;k0(i,l,h),s=u}}}if(hd)throw t=jm,hd=!1,jm=null,t}function at(t,e){var n=e[Ym];n===void 0&&(n=e[Ym]=new Set);var r=t+"__bubble";n.has(r)||(P1(e,t,2,!1),n.add(r))}function Hp(t,e,n){var r=0;e&&(r|=4),P1(n,t,r,e)}var wh="_reactListening"+Math.random().toString(36).slice(2);function Hu(t){if(!t[wh]){t[wh]=!0,MT.forEach(function(n){n!=="selectionchange"&&(cP.has(n)||Hp(n,!1,t),Hp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wh]||(e[wh]=!0,Hp("selectionchange",!1,e))}}function P1(t,e,n,r){switch(f1(e)){case 1:var i=SR;break;case 4:i=AR;break;default:i=_y}n=i.bind(null,e,n,t),i=void 0,!$m||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Wp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Io(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}ZT(function(){var h=s,p=py(n),g=[];e:{var y=k1.get(t);if(y!==void 0){var C=wy,P=t;switch(t){case"keypress":if(Bh(n)===0)break e;case"keydown":case"keyup":C=jR;break;case"focusin":P="focus",C=$p;break;case"focusout":P="blur",C=$p;break;case"beforeblur":case"afterblur":C=$p;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=g0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=kR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=zR;break;case S1:case A1:case b1:C=xR;break;case C1:C=HR;break;case"scroll":C=bR;break;case"wheel":C=GR;break;case"copy":case"cut":case"paste":C=OR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=_0}var x=(e&4)!==0,O=!x&&t==="scroll",I=x?y!==null?y+"Capture":null:y;x=[];for(var v=h,A;v!==null;){A=v;var F=A.stateNode;if(A.tag===5&&F!==null&&(A=F,I!==null&&(F=$u(v,I),F!=null&&x.push(Wu(v,F,A)))),O)break;v=v.return}0<x.length&&(y=new C(y,P,null,n,p),g.push({event:y,listeners:x}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",C=t==="mouseout"||t==="pointerout",y&&n!==Mm&&(P=n.relatedTarget||n.fromElement)&&(Io(P)||P[Ri]))break e;if((C||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,C?(P=n.relatedTarget||n.toElement,C=h,P=P?Io(P):null,P!==null&&(O=Wo(P),P!==O||P.tag!==5&&P.tag!==6)&&(P=null)):(C=null,P=h),C!==P)){if(x=g0,F="onMouseLeave",I="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(x=_0,F="onPointerLeave",I="onPointerEnter",v="pointer"),O=C==null?y:Da(C),A=P==null?y:Da(P),y=new x(F,v+"leave",C,n,p),y.target=O,y.relatedTarget=A,F=null,Io(p)===h&&(x=new x(I,v+"enter",P,n,p),x.target=A,x.relatedTarget=O,F=x),O=F,C&&P)t:{for(x=C,I=P,v=0,A=x;A;A=Ta(A))v++;for(A=0,F=I;F;F=Ta(F))A++;for(;0<v-A;)x=Ta(x),v--;for(;0<A-v;)I=Ta(I),A--;for(;v--;){if(x===I||I!==null&&x===I.alternate)break t;x=Ta(x),I=Ta(I)}x=null}else x=null;C!==null&&R0(g,y,C,x,!1),P!==null&&O!==null&&R0(g,O,P,x,!0)}}e:{if(y=h?Da(h):window,C=y.nodeName&&y.nodeName.toLowerCase(),C==="select"||C==="input"&&y.type==="file")var Q=eP;else if(E0(y))if(v1)Q=iP;else{Q=nP;var H=tP}else(C=y.nodeName)&&C.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(Q=rP);if(Q&&(Q=Q(t,h))){_1(g,Q,n,p);break e}H&&H(t,y,h),t==="focusout"&&(H=y._wrapperState)&&H.controlled&&y.type==="number"&&Nm(y,"number",y.value)}switch(H=h?Da(h):window,t){case"focusin":(E0(H)||H.contentEditable==="true")&&(Na=H,qm=h,Su=null);break;case"focusout":Su=qm=Na=null;break;case"mousedown":Hm=!0;break;case"contextmenu":case"mouseup":case"dragend":Hm=!1,b0(g,n,p);break;case"selectionchange":if(aP)break;case"keydown":case"keyup":b0(g,n,p)}var S;if(Ty)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else xa?g1(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(m1&&n.locale!=="ko"&&(xa||w!=="onCompositionStart"?w==="onCompositionEnd"&&xa&&(S=p1()):(gs=p,vy="value"in gs?gs.value:gs.textContent,xa=!0)),H=gd(h,w),0<H.length&&(w=new y0(w,t,null,n,p),g.push({event:w,listeners:H}),S?w.data=S:(S=y1(n),S!==null&&(w.data=S)))),(S=QR?YR(t,n):XR(t,n))&&(h=gd(h,"onBeforeInput"),0<h.length&&(p=new y0("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:h}),p.data=S))}R1(g,e)})}function Wu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=$u(t,n),s!=null&&r.unshift(Wu(t,s,i)),s=$u(t,e),s!=null&&r.push(Wu(t,s,i))),t=t.return}return r}function Ta(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function R0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&h!==null&&(l=h,i?(u=$u(n,s),u!=null&&o.unshift(Wu(n,u,l))):i||(u=$u(n,s),u!=null&&o.push(Wu(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var hP=/\r\n?/g,dP=/\u0000|\uFFFD/g;function P0(t){return(typeof t=="string"?t:""+t).replace(hP,`
`).replace(dP,"")}function Eh(t,e,n){if(e=P0(e),P0(t)!==e&&n)throw Error(Y(425))}function yd(){}var Wm=null,Gm=null;function Km(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qm=typeof setTimeout=="function"?setTimeout:void 0,fP=typeof clearTimeout=="function"?clearTimeout:void 0,x0=typeof Promise=="function"?Promise:void 0,pP=typeof queueMicrotask=="function"?queueMicrotask:typeof x0<"u"?function(t){return x0.resolve(null).then(t).catch(mP)}:Qm;function mP(t){setTimeout(function(){throw t})}function Gp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Bu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Bu(e)}function Ss(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function N0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wl=Math.random().toString(36).slice(2),Gr="__reactFiber$"+wl,Gu="__reactProps$"+wl,Ri="__reactContainer$"+wl,Ym="__reactEvents$"+wl,gP="__reactListeners$"+wl,yP="__reactHandles$"+wl;function Io(t){var e=t[Gr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ri]||n[Gr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=N0(t);t!==null;){if(n=t[Gr])return n;t=N0(t)}return e}t=n,n=t.parentNode}return null}function vc(t){return t=t[Gr]||t[Ri],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Da(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function uf(t){return t[Gu]||null}var Xm=[],La=-1;function zs(t){return{current:t}}function ct(t){0>La||(t.current=Xm[La],Xm[La]=null,La--)}function st(t,e){La++,Xm[La]=t.current,t.current=e}var Ls={},sn=zs(Ls),kn=zs(!1),Vo=Ls;function tl(t,e){var n=t.type.contextTypes;if(!n)return Ls;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Rn(t){return t=t.childContextTypes,t!=null}function _d(){ct(kn),ct(sn)}function O0(t,e,n){if(sn.current!==Ls)throw Error(Y(168));st(sn,e),st(kn,n)}function x1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Y(108,tR(t)||"Unknown",i));return mt({},n,r)}function vd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ls,Vo=sn.current,st(sn,t),st(kn,kn.current),!0}function D0(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=x1(t,e,Vo),r.__reactInternalMemoizedMergedChildContext=t,ct(kn),ct(sn),st(sn,t)):ct(kn),st(kn,n)}var mi=null,cf=!1,Kp=!1;function N1(t){mi===null?mi=[t]:mi.push(t)}function _P(t){cf=!0,N1(t)}function qs(){if(!Kp&&mi!==null){Kp=!0;var t=0,e=Ke;try{var n=mi;for(Ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}mi=null,cf=!1}catch(i){throw mi!==null&&(mi=mi.slice(t+1)),r1(my,qs),i}finally{Ke=e,Kp=!1}}return null}var Va=[],Ma=0,wd=null,Ed=0,ir=[],sr=0,Mo=null,vi=1,wi="";function vo(t,e){Va[Ma++]=Ed,Va[Ma++]=wd,wd=t,Ed=e}function O1(t,e,n){ir[sr++]=vi,ir[sr++]=wi,ir[sr++]=Mo,Mo=t;var r=vi;t=wi;var i=32-br(r)-1;r&=~(1<<i),n+=1;var s=32-br(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,vi=1<<32-br(e)+i|n<<i|r,wi=s+t}else vi=1<<s|n<<i|r,wi=t}function Sy(t){t.return!==null&&(vo(t,1),O1(t,1,0))}function Ay(t){for(;t===wd;)wd=Va[--Ma],Va[Ma]=null,Ed=Va[--Ma],Va[Ma]=null;for(;t===Mo;)Mo=ir[--sr],ir[sr]=null,wi=ir[--sr],ir[sr]=null,vi=ir[--sr],ir[sr]=null}var Bn=null,Mn=null,ht=!1,Ar=null;function D1(t,e){var n=or(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function L0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bn=t,Mn=Ss(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bn=t,Mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Mo!==null?{id:vi,overflow:wi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=or(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Bn=t,Mn=null,!0):!1;default:return!1}}function Jm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zm(t){if(ht){var e=Mn;if(e){var n=e;if(!L0(t,e)){if(Jm(t))throw Error(Y(418));e=Ss(n.nextSibling);var r=Bn;e&&L0(t,e)?D1(r,n):(t.flags=t.flags&-4097|2,ht=!1,Bn=t)}}else{if(Jm(t))throw Error(Y(418));t.flags=t.flags&-4097|2,ht=!1,Bn=t}}}function V0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bn=t}function Th(t){if(t!==Bn)return!1;if(!ht)return V0(t),ht=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Km(t.type,t.memoizedProps)),e&&(e=Mn)){if(Jm(t))throw L1(),Error(Y(418));for(;e;)D1(t,e),e=Ss(e.nextSibling)}if(V0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Mn=Ss(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Mn=null}}else Mn=Bn?Ss(t.stateNode.nextSibling):null;return!0}function L1(){for(var t=Mn;t;)t=Ss(t.nextSibling)}function nl(){Mn=Bn=null,ht=!1}function by(t){Ar===null?Ar=[t]:Ar.push(t)}var vP=Mi.ReactCurrentBatchConfig;function lu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function Ih(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function M0(t){var e=t._init;return e(t._payload)}function V1(t){function e(I,v){if(t){var A=I.deletions;A===null?(I.deletions=[v],I.flags|=16):A.push(v)}}function n(I,v){if(!t)return null;for(;v!==null;)e(I,v),v=v.sibling;return null}function r(I,v){for(I=new Map;v!==null;)v.key!==null?I.set(v.key,v):I.set(v.index,v),v=v.sibling;return I}function i(I,v){return I=ks(I,v),I.index=0,I.sibling=null,I}function s(I,v,A){return I.index=A,t?(A=I.alternate,A!==null?(A=A.index,A<v?(I.flags|=2,v):A):(I.flags|=2,v)):(I.flags|=1048576,v)}function o(I){return t&&I.alternate===null&&(I.flags|=2),I}function l(I,v,A,F){return v===null||v.tag!==6?(v=tm(A,I.mode,F),v.return=I,v):(v=i(v,A),v.return=I,v)}function u(I,v,A,F){var Q=A.type;return Q===Pa?p(I,v,A.props.children,F,A.key):v!==null&&(v.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===ls&&M0(Q)===v.type)?(F=i(v,A.props),F.ref=lu(I,v,A),F.return=I,F):(F=Qh(A.type,A.key,A.props,null,I.mode,F),F.ref=lu(I,v,A),F.return=I,F)}function h(I,v,A,F){return v===null||v.tag!==4||v.stateNode.containerInfo!==A.containerInfo||v.stateNode.implementation!==A.implementation?(v=nm(A,I.mode,F),v.return=I,v):(v=i(v,A.children||[]),v.return=I,v)}function p(I,v,A,F,Q){return v===null||v.tag!==7?(v=Ro(A,I.mode,F,Q),v.return=I,v):(v=i(v,A),v.return=I,v)}function g(I,v,A){if(typeof v=="string"&&v!==""||typeof v=="number")return v=tm(""+v,I.mode,A),v.return=I,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case dh:return A=Qh(v.type,v.key,v.props,null,I.mode,A),A.ref=lu(I,null,v),A.return=I,A;case Ra:return v=nm(v,I.mode,A),v.return=I,v;case ls:var F=v._init;return g(I,F(v._payload),A)}if(fu(v)||ru(v))return v=Ro(v,I.mode,A,null),v.return=I,v;Ih(I,v)}return null}function y(I,v,A,F){var Q=v!==null?v.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return Q!==null?null:l(I,v,""+A,F);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case dh:return A.key===Q?u(I,v,A,F):null;case Ra:return A.key===Q?h(I,v,A,F):null;case ls:return Q=A._init,y(I,v,Q(A._payload),F)}if(fu(A)||ru(A))return Q!==null?null:p(I,v,A,F,null);Ih(I,A)}return null}function C(I,v,A,F,Q){if(typeof F=="string"&&F!==""||typeof F=="number")return I=I.get(A)||null,l(v,I,""+F,Q);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case dh:return I=I.get(F.key===null?A:F.key)||null,u(v,I,F,Q);case Ra:return I=I.get(F.key===null?A:F.key)||null,h(v,I,F,Q);case ls:var H=F._init;return C(I,v,A,H(F._payload),Q)}if(fu(F)||ru(F))return I=I.get(A)||null,p(v,I,F,Q,null);Ih(v,F)}return null}function P(I,v,A,F){for(var Q=null,H=null,S=v,w=v=0,b=null;S!==null&&w<A.length;w++){S.index>w?(b=S,S=null):b=S.sibling;var R=y(I,S,A[w],F);if(R===null){S===null&&(S=b);break}t&&S&&R.alternate===null&&e(I,S),v=s(R,v,w),H===null?Q=R:H.sibling=R,H=R,S=b}if(w===A.length)return n(I,S),ht&&vo(I,w),Q;if(S===null){for(;w<A.length;w++)S=g(I,A[w],F),S!==null&&(v=s(S,v,w),H===null?Q=S:H.sibling=S,H=S);return ht&&vo(I,w),Q}for(S=r(I,S);w<A.length;w++)b=C(S,I,w,A[w],F),b!==null&&(t&&b.alternate!==null&&S.delete(b.key===null?w:b.key),v=s(b,v,w),H===null?Q=b:H.sibling=b,H=b);return t&&S.forEach(function(N){return e(I,N)}),ht&&vo(I,w),Q}function x(I,v,A,F){var Q=ru(A);if(typeof Q!="function")throw Error(Y(150));if(A=Q.call(A),A==null)throw Error(Y(151));for(var H=Q=null,S=v,w=v=0,b=null,R=A.next();S!==null&&!R.done;w++,R=A.next()){S.index>w?(b=S,S=null):b=S.sibling;var N=y(I,S,R.value,F);if(N===null){S===null&&(S=b);break}t&&S&&N.alternate===null&&e(I,S),v=s(N,v,w),H===null?Q=N:H.sibling=N,H=N,S=b}if(R.done)return n(I,S),ht&&vo(I,w),Q;if(S===null){for(;!R.done;w++,R=A.next())R=g(I,R.value,F),R!==null&&(v=s(R,v,w),H===null?Q=R:H.sibling=R,H=R);return ht&&vo(I,w),Q}for(S=r(I,S);!R.done;w++,R=A.next())R=C(S,I,w,R.value,F),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?w:R.key),v=s(R,v,w),H===null?Q=R:H.sibling=R,H=R);return t&&S.forEach(function(L){return e(I,L)}),ht&&vo(I,w),Q}function O(I,v,A,F){if(typeof A=="object"&&A!==null&&A.type===Pa&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case dh:e:{for(var Q=A.key,H=v;H!==null;){if(H.key===Q){if(Q=A.type,Q===Pa){if(H.tag===7){n(I,H.sibling),v=i(H,A.props.children),v.return=I,I=v;break e}}else if(H.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===ls&&M0(Q)===H.type){n(I,H.sibling),v=i(H,A.props),v.ref=lu(I,H,A),v.return=I,I=v;break e}n(I,H);break}else e(I,H);H=H.sibling}A.type===Pa?(v=Ro(A.props.children,I.mode,F,A.key),v.return=I,I=v):(F=Qh(A.type,A.key,A.props,null,I.mode,F),F.ref=lu(I,v,A),F.return=I,I=F)}return o(I);case Ra:e:{for(H=A.key;v!==null;){if(v.key===H)if(v.tag===4&&v.stateNode.containerInfo===A.containerInfo&&v.stateNode.implementation===A.implementation){n(I,v.sibling),v=i(v,A.children||[]),v.return=I,I=v;break e}else{n(I,v);break}else e(I,v);v=v.sibling}v=nm(A,I.mode,F),v.return=I,I=v}return o(I);case ls:return H=A._init,O(I,v,H(A._payload),F)}if(fu(A))return P(I,v,A,F);if(ru(A))return x(I,v,A,F);Ih(I,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,v!==null&&v.tag===6?(n(I,v.sibling),v=i(v,A),v.return=I,I=v):(n(I,v),v=tm(A,I.mode,F),v.return=I,I=v),o(I)):n(I,v)}return O}var rl=V1(!0),M1=V1(!1),Td=zs(null),Id=null,Fa=null,Cy=null;function ky(){Cy=Fa=Id=null}function Ry(t){var e=Td.current;ct(Td),t._currentValue=e}function eg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ga(t,e){Id=t,Cy=Fa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Cn=!0),t.firstContext=null)}function lr(t){var e=t._currentValue;if(Cy!==t)if(t={context:t,memoizedValue:e,next:null},Fa===null){if(Id===null)throw Error(Y(308));Fa=t,Id.dependencies={lanes:0,firstContext:t}}else Fa=Fa.next=t;return e}var So=null;function Py(t){So===null?So=[t]:So.push(t)}function F1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Py(e)):(n.next=i.next,i.next=n),e.interleaved=n,Pi(t,r)}function Pi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var us=!1;function xy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function As(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Pi(t,n)}return i=r.interleaved,i===null?(e.next=e,Py(r)):(e.next=i.next,i.next=e),r.interleaved=e,Pi(t,n)}function zh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gy(t,n)}}function F0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sd(t,e,n,r){var i=t.updateQueue;us=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,h=u.next;u.next=null,o===null?s=h:o.next=h,o=u;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==o&&(l===null?p.firstBaseUpdate=h:l.next=h,p.lastBaseUpdate=u))}if(s!==null){var g=i.baseState;o=0,p=h=u=null,l=s;do{var y=l.lane,C=l.eventTime;if((r&y)===y){p!==null&&(p=p.next={eventTime:C,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var P=t,x=l;switch(y=e,C=n,x.tag){case 1:if(P=x.payload,typeof P=="function"){g=P.call(C,g,y);break e}g=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=x.payload,y=typeof P=="function"?P.call(C,g,y):P,y==null)break e;g=mt({},g,y);break e;case 2:us=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[l]:y.push(l))}else C={eventTime:C,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(h=p=C,u=g):p=p.next=C,o|=y;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;y=l,l=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(p===null&&(u=g),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);$o|=o,t.lanes=o,t.memoizedState=g}}function $0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Y(191,i));i.call(r)}}}var wc={},Qr=zs(wc),Ku=zs(wc),Qu=zs(wc);function Ao(t){if(t===wc)throw Error(Y(174));return t}function Ny(t,e){switch(st(Qu,e),st(Ku,t),st(Qr,wc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Dm(e,t)}ct(Qr),st(Qr,e)}function il(){ct(Qr),ct(Ku),ct(Qu)}function j1(t){Ao(Qu.current);var e=Ao(Qr.current),n=Dm(e,t.type);e!==n&&(st(Ku,t),st(Qr,n))}function Oy(t){Ku.current===t&&(ct(Qr),ct(Ku))}var ft=zs(0);function Ad(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qp=[];function Dy(){for(var t=0;t<Qp.length;t++)Qp[t]._workInProgressVersionPrimary=null;Qp.length=0}var qh=Mi.ReactCurrentDispatcher,Yp=Mi.ReactCurrentBatchConfig,Fo=0,pt=null,Nt=null,Ft=null,bd=!1,Au=!1,Yu=0,wP=0;function Jt(){throw Error(Y(321))}function Ly(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pr(t[n],e[n]))return!1;return!0}function Vy(t,e,n,r,i,s){if(Fo=s,pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qh.current=t===null||t.memoizedState===null?SP:AP,t=n(r,i),Au){s=0;do{if(Au=!1,Yu=0,25<=s)throw Error(Y(301));s+=1,Ft=Nt=null,e.updateQueue=null,qh.current=bP,t=n(r,i)}while(Au)}if(qh.current=Cd,e=Nt!==null&&Nt.next!==null,Fo=0,Ft=Nt=pt=null,bd=!1,e)throw Error(Y(300));return t}function My(){var t=Yu!==0;return Yu=0,t}function Hr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?pt.memoizedState=Ft=t:Ft=Ft.next=t,Ft}function ur(){if(Nt===null){var t=pt.alternate;t=t!==null?t.memoizedState:null}else t=Nt.next;var e=Ft===null?pt.memoizedState:Ft.next;if(e!==null)Ft=e,Nt=t;else{if(t===null)throw Error(Y(310));Nt=t,t={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Ft===null?pt.memoizedState=Ft=t:Ft=Ft.next=t}return Ft}function Xu(t,e){return typeof e=="function"?e(t):e}function Xp(t){var e=ur(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=Nt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,h=s;do{var p=h.lane;if((Fo&p)===p)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var g={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=g,o=r):u=u.next=g,pt.lanes|=p,$o|=p}h=h.next}while(h!==null&&h!==s);u===null?o=r:u.next=l,Pr(r,e.memoizedState)||(Cn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,pt.lanes|=s,$o|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jp(t){var e=ur(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Pr(s,e.memoizedState)||(Cn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function U1(){}function B1(t,e){var n=pt,r=ur(),i=e(),s=!Pr(r.memoizedState,i);if(s&&(r.memoizedState=i,Cn=!0),r=r.queue,Fy(H1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ft!==null&&Ft.memoizedState.tag&1){if(n.flags|=2048,Ju(9,q1.bind(null,n,r,i,e),void 0,null),$t===null)throw Error(Y(349));Fo&30||z1(n,e,i)}return i}function z1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function q1(t,e,n,r){e.value=n,e.getSnapshot=r,W1(e)&&G1(t)}function H1(t,e,n){return n(function(){W1(e)&&G1(t)})}function W1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pr(t,n)}catch{return!0}}function G1(t){var e=Pi(t,1);e!==null&&Cr(e,t,1,-1)}function j0(t){var e=Hr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xu,lastRenderedState:t},e.queue=t,t=t.dispatch=IP.bind(null,pt,t),[e.memoizedState,t]}function Ju(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function K1(){return ur().memoizedState}function Hh(t,e,n,r){var i=Hr();pt.flags|=t,i.memoizedState=Ju(1|e,n,void 0,r===void 0?null:r)}function hf(t,e,n,r){var i=ur();r=r===void 0?null:r;var s=void 0;if(Nt!==null){var o=Nt.memoizedState;if(s=o.destroy,r!==null&&Ly(r,o.deps)){i.memoizedState=Ju(e,n,s,r);return}}pt.flags|=t,i.memoizedState=Ju(1|e,n,s,r)}function U0(t,e){return Hh(8390656,8,t,e)}function Fy(t,e){return hf(2048,8,t,e)}function Q1(t,e){return hf(4,2,t,e)}function Y1(t,e){return hf(4,4,t,e)}function X1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function J1(t,e,n){return n=n!=null?n.concat([t]):null,hf(4,4,X1.bind(null,e,t),n)}function $y(){}function Z1(t,e){var n=ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ly(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function eI(t,e){var n=ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ly(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function tI(t,e,n){return Fo&21?(Pr(n,e)||(n=o1(),pt.lanes|=n,$o|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Cn=!0),t.memoizedState=n)}function EP(t,e){var n=Ke;Ke=n!==0&&4>n?n:4,t(!0);var r=Yp.transition;Yp.transition={};try{t(!1),e()}finally{Ke=n,Yp.transition=r}}function nI(){return ur().memoizedState}function TP(t,e,n){var r=Cs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rI(t))iI(e,n);else if(n=F1(t,e,n,r),n!==null){var i=mn();Cr(n,t,r,i),sI(n,e,r)}}function IP(t,e,n){var r=Cs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rI(t))iI(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Pr(l,o)){var u=e.interleaved;u===null?(i.next=i,Py(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=F1(t,e,i,r),n!==null&&(i=mn(),Cr(n,t,r,i),sI(n,e,r))}}function rI(t){var e=t.alternate;return t===pt||e!==null&&e===pt}function iI(t,e){Au=bd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gy(t,n)}}var Cd={readContext:lr,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},SP={readContext:lr,useCallback:function(t,e){return Hr().memoizedState=[t,e===void 0?null:e],t},useContext:lr,useEffect:U0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hh(4194308,4,X1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hh(4,2,t,e)},useMemo:function(t,e){var n=Hr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Hr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=TP.bind(null,pt,t),[r.memoizedState,t]},useRef:function(t){var e=Hr();return t={current:t},e.memoizedState=t},useState:j0,useDebugValue:$y,useDeferredValue:function(t){return Hr().memoizedState=t},useTransition:function(){var t=j0(!1),e=t[0];return t=EP.bind(null,t[1]),Hr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pt,i=Hr();if(ht){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),$t===null)throw Error(Y(349));Fo&30||z1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,U0(H1.bind(null,r,s,t),[t]),r.flags|=2048,Ju(9,q1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Hr(),e=$t.identifierPrefix;if(ht){var n=wi,r=vi;n=(r&~(1<<32-br(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AP={readContext:lr,useCallback:Z1,useContext:lr,useEffect:Fy,useImperativeHandle:J1,useInsertionEffect:Q1,useLayoutEffect:Y1,useMemo:eI,useReducer:Xp,useRef:K1,useState:function(){return Xp(Xu)},useDebugValue:$y,useDeferredValue:function(t){var e=ur();return tI(e,Nt.memoizedState,t)},useTransition:function(){var t=Xp(Xu)[0],e=ur().memoizedState;return[t,e]},useMutableSource:U1,useSyncExternalStore:B1,useId:nI,unstable_isNewReconciler:!1},bP={readContext:lr,useCallback:Z1,useContext:lr,useEffect:Fy,useImperativeHandle:J1,useInsertionEffect:Q1,useLayoutEffect:Y1,useMemo:eI,useReducer:Jp,useRef:K1,useState:function(){return Jp(Xu)},useDebugValue:$y,useDeferredValue:function(t){var e=ur();return Nt===null?e.memoizedState=t:tI(e,Nt.memoizedState,t)},useTransition:function(){var t=Jp(Xu)[0],e=ur().memoizedState;return[t,e]},useMutableSource:U1,useSyncExternalStore:B1,useId:nI,unstable_isNewReconciler:!1};function Ir(t,e){if(t&&t.defaultProps){e=mt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function tg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:mt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var df={isMounted:function(t){return(t=t._reactInternals)?Wo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mn(),i=Cs(t),s=bi(r,i);s.payload=e,n!=null&&(s.callback=n),e=As(t,s,i),e!==null&&(Cr(e,t,i,r),zh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mn(),i=Cs(t),s=bi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=As(t,s,i),e!==null&&(Cr(e,t,i,r),zh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mn(),r=Cs(t),i=bi(n,r);i.tag=2,e!=null&&(i.callback=e),e=As(t,i,r),e!==null&&(Cr(e,t,r,n),zh(e,t,r))}};function B0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!qu(n,r)||!qu(i,s):!0}function oI(t,e,n){var r=!1,i=Ls,s=e.contextType;return typeof s=="object"&&s!==null?s=lr(s):(i=Rn(e)?Vo:sn.current,r=e.contextTypes,s=(r=r!=null)?tl(t,i):Ls),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=df,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function z0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&df.enqueueReplaceState(e,e.state,null)}function ng(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},xy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=lr(s):(s=Rn(e)?Vo:sn.current,i.context=tl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(tg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&df.enqueueReplaceState(i,i.state,null),Sd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function sl(t,e){try{var n="",r=e;do n+=eR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Zp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var CP=typeof WeakMap=="function"?WeakMap:Map;function aI(t,e,n){n=bi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Rd||(Rd=!0,fg=r),rg(t,e)},n}function lI(t,e,n){n=bi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){rg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){rg(t,e),typeof r!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function q0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new CP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=UP.bind(null,t,e,n),e.then(t,t))}function H0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function W0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bi(-1,1),e.tag=2,As(n,e,1))),n.lanes|=1),t)}var kP=Mi.ReactCurrentOwner,Cn=!1;function fn(t,e,n,r){e.child=t===null?M1(e,null,n,r):rl(e,t.child,n,r)}function G0(t,e,n,r,i){n=n.render;var s=e.ref;return Ga(e,i),r=Vy(t,e,n,r,s,i),n=My(),t!==null&&!Cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xi(t,e,i)):(ht&&n&&Sy(e),e.flags|=1,fn(t,e,r,i),e.child)}function K0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Gy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,uI(t,e,s,r,i)):(t=Qh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:qu,n(o,r)&&t.ref===e.ref)return xi(t,e,i)}return e.flags|=1,t=ks(s,r),t.ref=e.ref,t.return=e,e.child=t}function uI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(qu(s,r)&&t.ref===e.ref)if(Cn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Cn=!0);else return e.lanes=t.lanes,xi(t,e,i)}return ig(t,e,n,r,i)}function cI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(ja,Vn),Vn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,st(ja,Vn),Vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,st(ja,Vn),Vn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,st(ja,Vn),Vn|=r;return fn(t,e,i,n),e.child}function hI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ig(t,e,n,r,i){var s=Rn(n)?Vo:sn.current;return s=tl(e,s),Ga(e,i),n=Vy(t,e,n,r,s,i),r=My(),t!==null&&!Cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xi(t,e,i)):(ht&&r&&Sy(e),e.flags|=1,fn(t,e,n,i),e.child)}function Q0(t,e,n,r,i){if(Rn(n)){var s=!0;vd(e)}else s=!1;if(Ga(e,i),e.stateNode===null)Wh(t,e),oI(e,n,r),ng(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=lr(h):(h=Rn(n)?Vo:sn.current,h=tl(e,h));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==h)&&z0(e,o,r,h),us=!1;var y=e.memoizedState;o.state=y,Sd(e,r,o,i),u=e.memoizedState,l!==r||y!==u||kn.current||us?(typeof p=="function"&&(tg(e,n,p,r),u=e.memoizedState),(l=us||B0(e,n,l,r,y,u,h))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=h,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,$1(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:Ir(e.type,l),o.props=h,g=e.pendingProps,y=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=lr(u):(u=Rn(n)?Vo:sn.current,u=tl(e,u));var C=n.getDerivedStateFromProps;(p=typeof C=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==g||y!==u)&&z0(e,o,r,u),us=!1,y=e.memoizedState,o.state=y,Sd(e,r,o,i);var P=e.memoizedState;l!==g||y!==P||kn.current||us?(typeof C=="function"&&(tg(e,n,C,r),P=e.memoizedState),(h=us||B0(e,n,h,r,y,P,u)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,P,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,P,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=P),o.props=r,o.state=P,o.context=u,r=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return sg(t,e,n,r,s,i)}function sg(t,e,n,r,i,s){hI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&D0(e,n,!1),xi(t,e,s);r=e.stateNode,kP.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=rl(e,t.child,null,s),e.child=rl(e,null,l,s)):fn(t,e,l,s),e.memoizedState=r.state,i&&D0(e,n,!0),e.child}function dI(t){var e=t.stateNode;e.pendingContext?O0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&O0(t,e.context,!1),Ny(t,e.containerInfo)}function Y0(t,e,n,r,i){return nl(),by(i),e.flags|=256,fn(t,e,n,r),e.child}var og={dehydrated:null,treeContext:null,retryLane:0};function ag(t){return{baseLanes:t,cachePool:null,transitions:null}}function fI(t,e,n){var r=e.pendingProps,i=ft.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),st(ft,i&1),t===null)return Zm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=mf(o,r,0,null),t=Ro(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ag(n),e.memoizedState=og,t):jy(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return RP(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ks(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=ks(l,s):(s=Ro(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ag(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=og,r}return s=t.child,t=s.sibling,r=ks(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function jy(t,e){return e=mf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sh(t,e,n,r){return r!==null&&by(r),rl(e,t.child,null,n),t=jy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function RP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Zp(Error(Y(422))),Sh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=mf({mode:"visible",children:r.children},i,0,null),s=Ro(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&rl(e,t.child,null,o),e.child.memoizedState=ag(o),e.memoizedState=og,s);if(!(e.mode&1))return Sh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(Y(419)),r=Zp(s,r,void 0),Sh(t,e,o,r)}if(l=(o&t.childLanes)!==0,Cn||l){if(r=$t,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Pi(t,i),Cr(r,t,i,-1))}return Wy(),r=Zp(Error(Y(421))),Sh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=BP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Mn=Ss(i.nextSibling),Bn=e,ht=!0,Ar=null,t!==null&&(ir[sr++]=vi,ir[sr++]=wi,ir[sr++]=Mo,vi=t.id,wi=t.overflow,Mo=e),e=jy(e,r.children),e.flags|=4096,e)}function X0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),eg(t.return,e,n)}function em(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function pI(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(fn(t,e,r.children,n),r=ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&X0(t,n,e);else if(t.tag===19)X0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(st(ft,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ad(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),em(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ad(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}em(e,!0,n,null,s);break;case"together":em(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$o|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=ks(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ks(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PP(t,e,n){switch(e.tag){case 3:dI(e),nl();break;case 5:j1(e);break;case 1:Rn(e.type)&&vd(e);break;case 4:Ny(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;st(Td,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(st(ft,ft.current&1),e.flags|=128,null):n&e.child.childLanes?fI(t,e,n):(st(ft,ft.current&1),t=xi(t,e,n),t!==null?t.sibling:null);st(ft,ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return pI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),st(ft,ft.current),r)break;return null;case 22:case 23:return e.lanes=0,cI(t,e,n)}return xi(t,e,n)}var mI,lg,gI,yI;mI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lg=function(){};gI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ao(Qr.current);var s=null;switch(n){case"input":i=Pm(t,i),r=Pm(t,r),s=[];break;case"select":i=mt({},i,{value:void 0}),r=mt({},r,{value:void 0}),s=[];break;case"textarea":i=Om(t,i),r=Om(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yd)}Lm(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Mu.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var u=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Mu.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&at("scroll",t),s||l===u||(s=[])):(s=s||[]).push(h,u))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};yI=function(t,e,n,r){n!==r&&(e.flags|=4)};function uu(t,e){if(!ht)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xP(t,e,n){var r=e.pendingProps;switch(Ay(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(e),null;case 1:return Rn(e.type)&&_d(),Zt(e),null;case 3:return r=e.stateNode,il(),ct(kn),ct(sn),Dy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Th(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ar!==null&&(gg(Ar),Ar=null))),lg(t,e),Zt(e),null;case 5:Oy(e);var i=Ao(Qu.current);if(n=e.type,t!==null&&e.stateNode!=null)gI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return Zt(e),null}if(t=Ao(Qr.current),Th(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Gr]=e,r[Gu]=s,t=(e.mode&1)!==0,n){case"dialog":at("cancel",r),at("close",r);break;case"iframe":case"object":case"embed":at("load",r);break;case"video":case"audio":for(i=0;i<mu.length;i++)at(mu[i],r);break;case"source":at("error",r);break;case"img":case"image":case"link":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"input":o0(r,s),at("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},at("invalid",r);break;case"textarea":l0(r,s),at("invalid",r)}Lm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Eh(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Eh(r.textContent,l,t),i=["children",""+l]):Mu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&at("scroll",r)}switch(n){case"input":fh(r),a0(r,s,!0);break;case"textarea":fh(r),u0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=yd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=HT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Gr]=e,t[Gu]=r,mI(t,e,!1,!1),e.stateNode=t;e:{switch(o=Vm(n,r),n){case"dialog":at("cancel",t),at("close",t),i=r;break;case"iframe":case"object":case"embed":at("load",t),i=r;break;case"video":case"audio":for(i=0;i<mu.length;i++)at(mu[i],t);i=r;break;case"source":at("error",t),i=r;break;case"img":case"image":case"link":at("error",t),at("load",t),i=r;break;case"details":at("toggle",t),i=r;break;case"input":o0(t,r),i=Pm(t,r),at("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=mt({},r,{value:void 0}),at("invalid",t);break;case"textarea":l0(t,r),i=Om(t,r),at("invalid",t);break;default:i=r}Lm(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?KT(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&WT(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Fu(t,u):typeof u=="number"&&Fu(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Mu.hasOwnProperty(s)?u!=null&&s==="onScroll"&&at("scroll",t):u!=null&&cy(t,s,u,o))}switch(n){case"input":fh(t),a0(t,r,!1);break;case"textarea":fh(t),u0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ds(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?za(t,!!r.multiple,s,!1):r.defaultValue!=null&&za(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zt(e),null;case 6:if(t&&e.stateNode!=null)yI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=Ao(Qu.current),Ao(Qr.current),Th(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gr]=e,(s=r.nodeValue!==n)&&(t=Bn,t!==null))switch(t.tag){case 3:Eh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Eh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gr]=e,e.stateNode=r}return Zt(e),null;case 13:if(ct(ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ht&&Mn!==null&&e.mode&1&&!(e.flags&128))L1(),nl(),e.flags|=98560,s=!1;else if(s=Th(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Y(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Y(317));s[Gr]=e}else nl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zt(e),s=!1}else Ar!==null&&(gg(Ar),Ar=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ft.current&1?Ot===0&&(Ot=3):Wy())),e.updateQueue!==null&&(e.flags|=4),Zt(e),null);case 4:return il(),lg(t,e),t===null&&Hu(e.stateNode.containerInfo),Zt(e),null;case 10:return Ry(e.type._context),Zt(e),null;case 17:return Rn(e.type)&&_d(),Zt(e),null;case 19:if(ct(ft),s=e.memoizedState,s===null)return Zt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)uu(s,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ad(t),o!==null){for(e.flags|=128,uu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return st(ft,ft.current&1|2),e.child}t=t.sibling}s.tail!==null&&Tt()>ol&&(e.flags|=128,r=!0,uu(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ad(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),uu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ht)return Zt(e),null}else 2*Tt()-s.renderingStartTime>ol&&n!==1073741824&&(e.flags|=128,r=!0,uu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Tt(),e.sibling=null,n=ft.current,st(ft,r?n&1|2:n&1),e):(Zt(e),null);case 22:case 23:return Hy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Vn&1073741824&&(Zt(e),e.subtreeFlags&6&&(e.flags|=8192)):Zt(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function NP(t,e){switch(Ay(e),e.tag){case 1:return Rn(e.type)&&_d(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return il(),ct(kn),ct(sn),Dy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Oy(e),null;case 13:if(ct(ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));nl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ct(ft),null;case 4:return il(),null;case 10:return Ry(e.type._context),null;case 22:case 23:return Hy(),null;case 24:return null;default:return null}}var Ah=!1,nn=!1,OP=typeof WeakSet=="function"?WeakSet:Set,oe=null;function $a(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vt(t,e,r)}else n.current=null}function ug(t,e,n){try{n()}catch(r){vt(t,e,r)}}var J0=!1;function DP(t,e){if(Wm=pd,t=T1(),Iy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,h=0,p=0,g=t,y=null;t:for(;;){for(var C;g!==n||i!==0&&g.nodeType!==3||(l=o+i),g!==s||r!==0&&g.nodeType!==3||(u=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(C=g.firstChild)!==null;)y=g,g=C;for(;;){if(g===t)break t;if(y===n&&++h===i&&(l=o),y===s&&++p===r&&(u=o),(C=g.nextSibling)!==null)break;g=y,y=g.parentNode}g=C}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gm={focusedElem:t,selectionRange:n},pd=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var P=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var x=P.memoizedProps,O=P.memoizedState,I=e.stateNode,v=I.getSnapshotBeforeUpdate(e.elementType===e.type?x:Ir(e.type,x),O);I.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(F){vt(e,e.return,F)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return P=J0,J0=!1,P}function bu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ug(e,n,s)}i=i.next}while(i!==r)}}function ff(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function cg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _I(t){var e=t.alternate;e!==null&&(t.alternate=null,_I(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gr],delete e[Gu],delete e[Ym],delete e[gP],delete e[yP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vI(t){return t.tag===5||t.tag===3||t.tag===4}function Z0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yd));else if(r!==4&&(t=t.child,t!==null))for(hg(t,e,n),t=t.sibling;t!==null;)hg(t,e,n),t=t.sibling}function dg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(dg(t,e,n),t=t.sibling;t!==null;)dg(t,e,n),t=t.sibling}var zt=null,Sr=!1;function is(t,e,n){for(n=n.child;n!==null;)wI(t,e,n),n=n.sibling}function wI(t,e,n){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(sf,n)}catch{}switch(n.tag){case 5:nn||$a(n,e);case 6:var r=zt,i=Sr;zt=null,is(t,e,n),zt=r,Sr=i,zt!==null&&(Sr?(t=zt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):zt.removeChild(n.stateNode));break;case 18:zt!==null&&(Sr?(t=zt,n=n.stateNode,t.nodeType===8?Gp(t.parentNode,n):t.nodeType===1&&Gp(t,n),Bu(t)):Gp(zt,n.stateNode));break;case 4:r=zt,i=Sr,zt=n.stateNode.containerInfo,Sr=!0,is(t,e,n),zt=r,Sr=i;break;case 0:case 11:case 14:case 15:if(!nn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ug(n,e,o),i=i.next}while(i!==r)}is(t,e,n);break;case 1:if(!nn&&($a(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){vt(n,e,l)}is(t,e,n);break;case 21:is(t,e,n);break;case 22:n.mode&1?(nn=(r=nn)||n.memoizedState!==null,is(t,e,n),nn=r):is(t,e,n);break;default:is(t,e,n)}}function ew(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new OP),e.forEach(function(r){var i=zP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:zt=l.stateNode,Sr=!1;break e;case 3:zt=l.stateNode.containerInfo,Sr=!0;break e;case 4:zt=l.stateNode.containerInfo,Sr=!0;break e}l=l.return}if(zt===null)throw Error(Y(160));wI(s,o,i),zt=null,Sr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){vt(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)EI(e,t),e=e.sibling}function EI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tr(e,t),qr(t),r&4){try{bu(3,t,t.return),ff(3,t)}catch(x){vt(t,t.return,x)}try{bu(5,t,t.return)}catch(x){vt(t,t.return,x)}}break;case 1:Tr(e,t),qr(t),r&512&&n!==null&&$a(n,n.return);break;case 5:if(Tr(e,t),qr(t),r&512&&n!==null&&$a(n,n.return),t.flags&32){var i=t.stateNode;try{Fu(i,"")}catch(x){vt(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&zT(i,s),Vm(l,o);var h=Vm(l,s);for(o=0;o<u.length;o+=2){var p=u[o],g=u[o+1];p==="style"?KT(i,g):p==="dangerouslySetInnerHTML"?WT(i,g):p==="children"?Fu(i,g):cy(i,p,g,h)}switch(l){case"input":xm(i,s);break;case"textarea":qT(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var C=s.value;C!=null?za(i,!!s.multiple,C,!1):y!==!!s.multiple&&(s.defaultValue!=null?za(i,!!s.multiple,s.defaultValue,!0):za(i,!!s.multiple,s.multiple?[]:"",!1))}i[Gu]=s}catch(x){vt(t,t.return,x)}}break;case 6:if(Tr(e,t),qr(t),r&4){if(t.stateNode===null)throw Error(Y(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){vt(t,t.return,x)}}break;case 3:if(Tr(e,t),qr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bu(e.containerInfo)}catch(x){vt(t,t.return,x)}break;case 4:Tr(e,t),qr(t);break;case 13:Tr(e,t),qr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(zy=Tt())),r&4&&ew(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(nn=(h=nn)||p,Tr(e,t),nn=h):Tr(e,t),qr(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!p&&t.mode&1)for(oe=t,p=t.child;p!==null;){for(g=oe=p;oe!==null;){switch(y=oe,C=y.child,y.tag){case 0:case 11:case 14:case 15:bu(4,y,y.return);break;case 1:$a(y,y.return);var P=y.stateNode;if(typeof P.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,P.props=e.memoizedProps,P.state=e.memoizedState,P.componentWillUnmount()}catch(x){vt(r,n,x)}}break;case 5:$a(y,y.return);break;case 22:if(y.memoizedState!==null){nw(g);continue}}C!==null?(C.return=y,oe=C):nw(g)}p=p.sibling}e:for(p=null,g=t;;){if(g.tag===5){if(p===null){p=g;try{i=g.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=g.stateNode,u=g.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=GT("display",o))}catch(x){vt(t,t.return,x)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=h?"":g.memoizedProps}catch(x){vt(t,t.return,x)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Tr(e,t),qr(t),r&4&&ew(t);break;case 21:break;default:Tr(e,t),qr(t)}}function qr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vI(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fu(i,""),r.flags&=-33);var s=Z0(t);dg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Z0(t);hg(t,l,o);break;default:throw Error(Y(161))}}catch(u){vt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function LP(t,e,n){oe=t,TI(t)}function TI(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ah;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||nn;l=Ah;var h=nn;if(Ah=o,(nn=u)&&!h)for(oe=i;oe!==null;)o=oe,u=o.child,o.tag===22&&o.memoizedState!==null?rw(i):u!==null?(u.return=o,oe=u):rw(i);for(;s!==null;)oe=s,TI(s),s=s.sibling;oe=i,Ah=l,nn=h}tw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,oe=s):tw(t)}}function tw(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nn||ff(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ir(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&$0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$0(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&Bu(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}nn||e.flags&512&&cg(e)}catch(y){vt(e,e.return,y)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function nw(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function rw(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ff(4,e)}catch(u){vt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){vt(e,i,u)}}var s=e.return;try{cg(e)}catch(u){vt(e,s,u)}break;case 5:var o=e.return;try{cg(e)}catch(u){vt(e,o,u)}}}catch(u){vt(e,e.return,u)}if(e===t){oe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,oe=l;break}oe=e.return}}var VP=Math.ceil,kd=Mi.ReactCurrentDispatcher,Uy=Mi.ReactCurrentOwner,ar=Mi.ReactCurrentBatchConfig,Fe=0,$t=null,bt=null,Wt=0,Vn=0,ja=zs(0),Ot=0,Zu=null,$o=0,pf=0,By=0,Cu=null,Sn=null,zy=0,ol=1/0,pi=null,Rd=!1,fg=null,bs=null,bh=!1,ys=null,Pd=0,ku=0,pg=null,Gh=-1,Kh=0;function mn(){return Fe&6?Tt():Gh!==-1?Gh:Gh=Tt()}function Cs(t){return t.mode&1?Fe&2&&Wt!==0?Wt&-Wt:vP.transition!==null?(Kh===0&&(Kh=o1()),Kh):(t=Ke,t!==0||(t=window.event,t=t===void 0?16:f1(t.type)),t):1}function Cr(t,e,n,r){if(50<ku)throw ku=0,pg=null,Error(Y(185));yc(t,n,r),(!(Fe&2)||t!==$t)&&(t===$t&&(!(Fe&2)&&(pf|=n),Ot===4&&ds(t,Wt)),Pn(t,r),n===1&&Fe===0&&!(e.mode&1)&&(ol=Tt()+500,cf&&qs()))}function Pn(t,e){var n=t.callbackNode;vR(t,e);var r=fd(t,t===$t?Wt:0);if(r===0)n!==null&&d0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&d0(n),e===1)t.tag===0?_P(iw.bind(null,t)):N1(iw.bind(null,t)),pP(function(){!(Fe&6)&&qs()}),n=null;else{switch(a1(r)){case 1:n=my;break;case 4:n=i1;break;case 16:n=dd;break;case 536870912:n=s1;break;default:n=dd}n=PI(n,II.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function II(t,e){if(Gh=-1,Kh=0,Fe&6)throw Error(Y(327));var n=t.callbackNode;if(Ka()&&t.callbackNode!==n)return null;var r=fd(t,t===$t?Wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xd(t,r);else{e=r;var i=Fe;Fe|=2;var s=AI();($t!==t||Wt!==e)&&(pi=null,ol=Tt()+500,ko(t,e));do try{$P();break}catch(l){SI(t,l)}while(!0);ky(),kd.current=s,Fe=i,bt!==null?e=0:($t=null,Wt=0,e=Ot)}if(e!==0){if(e===2&&(i=Um(t),i!==0&&(r=i,e=mg(t,i))),e===1)throw n=Zu,ko(t,0),ds(t,r),Pn(t,Tt()),n;if(e===6)ds(t,r);else{if(i=t.current.alternate,!(r&30)&&!MP(i)&&(e=xd(t,r),e===2&&(s=Um(t),s!==0&&(r=s,e=mg(t,s))),e===1))throw n=Zu,ko(t,0),ds(t,r),Pn(t,Tt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:wo(t,Sn,pi);break;case 3:if(ds(t,r),(r&130023424)===r&&(e=zy+500-Tt(),10<e)){if(fd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){mn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Qm(wo.bind(null,t,Sn,pi),e);break}wo(t,Sn,pi);break;case 4:if(ds(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-br(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*VP(r/1960))-r,10<r){t.timeoutHandle=Qm(wo.bind(null,t,Sn,pi),r);break}wo(t,Sn,pi);break;case 5:wo(t,Sn,pi);break;default:throw Error(Y(329))}}}return Pn(t,Tt()),t.callbackNode===n?II.bind(null,t):null}function mg(t,e){var n=Cu;return t.current.memoizedState.isDehydrated&&(ko(t,e).flags|=256),t=xd(t,e),t!==2&&(e=Sn,Sn=n,e!==null&&gg(e)),t}function gg(t){Sn===null?Sn=t:Sn.push.apply(Sn,t)}function MP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Pr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ds(t,e){for(e&=~By,e&=~pf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-br(e),r=1<<n;t[n]=-1,e&=~r}}function iw(t){if(Fe&6)throw Error(Y(327));Ka();var e=fd(t,0);if(!(e&1))return Pn(t,Tt()),null;var n=xd(t,e);if(t.tag!==0&&n===2){var r=Um(t);r!==0&&(e=r,n=mg(t,r))}if(n===1)throw n=Zu,ko(t,0),ds(t,e),Pn(t,Tt()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wo(t,Sn,pi),Pn(t,Tt()),null}function qy(t,e){var n=Fe;Fe|=1;try{return t(e)}finally{Fe=n,Fe===0&&(ol=Tt()+500,cf&&qs())}}function jo(t){ys!==null&&ys.tag===0&&!(Fe&6)&&Ka();var e=Fe;Fe|=1;var n=ar.transition,r=Ke;try{if(ar.transition=null,Ke=1,t)return t()}finally{Ke=r,ar.transition=n,Fe=e,!(Fe&6)&&qs()}}function Hy(){Vn=ja.current,ct(ja)}function ko(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fP(n)),bt!==null)for(n=bt.return;n!==null;){var r=n;switch(Ay(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_d();break;case 3:il(),ct(kn),ct(sn),Dy();break;case 5:Oy(r);break;case 4:il();break;case 13:ct(ft);break;case 19:ct(ft);break;case 10:Ry(r.type._context);break;case 22:case 23:Hy()}n=n.return}if($t=t,bt=t=ks(t.current,null),Wt=Vn=e,Ot=0,Zu=null,By=pf=$o=0,Sn=Cu=null,So!==null){for(e=0;e<So.length;e++)if(n=So[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}So=null}return t}function SI(t,e){do{var n=bt;try{if(ky(),qh.current=Cd,bd){for(var r=pt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bd=!1}if(Fo=0,Ft=Nt=pt=null,Au=!1,Yu=0,Uy.current=null,n===null||n.return===null){Ot=1,Zu=e,bt=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=Wt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,p=l,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var C=H0(o);if(C!==null){C.flags&=-257,W0(C,o,l,s,e),C.mode&1&&q0(s,h,e),e=C,u=h;var P=e.updateQueue;if(P===null){var x=new Set;x.add(u),e.updateQueue=x}else P.add(u);break e}else{if(!(e&1)){q0(s,h,e),Wy();break e}u=Error(Y(426))}}else if(ht&&l.mode&1){var O=H0(o);if(O!==null){!(O.flags&65536)&&(O.flags|=256),W0(O,o,l,s,e),by(sl(u,l));break e}}s=u=sl(u,l),Ot!==4&&(Ot=2),Cu===null?Cu=[s]:Cu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var I=aI(s,u,e);F0(s,I);break e;case 1:l=u;var v=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(bs===null||!bs.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var F=lI(s,l,e);F0(s,F);break e}}s=s.return}while(s!==null)}CI(n)}catch(Q){e=Q,bt===n&&n!==null&&(bt=n=n.return);continue}break}while(!0)}function AI(){var t=kd.current;return kd.current=Cd,t===null?Cd:t}function Wy(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),$t===null||!($o&268435455)&&!(pf&268435455)||ds($t,Wt)}function xd(t,e){var n=Fe;Fe|=2;var r=AI();($t!==t||Wt!==e)&&(pi=null,ko(t,e));do try{FP();break}catch(i){SI(t,i)}while(!0);if(ky(),Fe=n,kd.current=r,bt!==null)throw Error(Y(261));return $t=null,Wt=0,Ot}function FP(){for(;bt!==null;)bI(bt)}function $P(){for(;bt!==null&&!cR();)bI(bt)}function bI(t){var e=RI(t.alternate,t,Vn);t.memoizedProps=t.pendingProps,e===null?CI(t):bt=e,Uy.current=null}function CI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=NP(n,e),n!==null){n.flags&=32767,bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,bt=null;return}}else if(n=xP(n,e,Vn),n!==null){bt=n;return}if(e=e.sibling,e!==null){bt=e;return}bt=e=t}while(e!==null);Ot===0&&(Ot=5)}function wo(t,e,n){var r=Ke,i=ar.transition;try{ar.transition=null,Ke=1,jP(t,e,n,r)}finally{ar.transition=i,Ke=r}return null}function jP(t,e,n,r){do Ka();while(ys!==null);if(Fe&6)throw Error(Y(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(wR(t,s),t===$t&&(bt=$t=null,Wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bh||(bh=!0,PI(dd,function(){return Ka(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ar.transition,ar.transition=null;var o=Ke;Ke=1;var l=Fe;Fe|=4,Uy.current=null,DP(t,n),EI(n,t),oP(Gm),pd=!!Wm,Gm=Wm=null,t.current=n,LP(n),hR(),Fe=l,Ke=o,ar.transition=s}else t.current=n;if(bh&&(bh=!1,ys=t,Pd=i),s=t.pendingLanes,s===0&&(bs=null),pR(n.stateNode),Pn(t,Tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Rd)throw Rd=!1,t=fg,fg=null,t;return Pd&1&&t.tag!==0&&Ka(),s=t.pendingLanes,s&1?t===pg?ku++:(ku=0,pg=t):ku=0,qs(),null}function Ka(){if(ys!==null){var t=a1(Pd),e=ar.transition,n=Ke;try{if(ar.transition=null,Ke=16>t?16:t,ys===null)var r=!1;else{if(t=ys,ys=null,Pd=0,Fe&6)throw Error(Y(331));var i=Fe;for(Fe|=4,oe=t.current;oe!==null;){var s=oe,o=s.child;if(oe.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(oe=h;oe!==null;){var p=oe;switch(p.tag){case 0:case 11:case 15:bu(8,p,s)}var g=p.child;if(g!==null)g.return=p,oe=g;else for(;oe!==null;){p=oe;var y=p.sibling,C=p.return;if(_I(p),p===h){oe=null;break}if(y!==null){y.return=C,oe=y;break}oe=C}}}var P=s.alternate;if(P!==null){var x=P.child;if(x!==null){P.child=null;do{var O=x.sibling;x.sibling=null,x=O}while(x!==null)}}oe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,oe=o;else e:for(;oe!==null;){if(s=oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bu(9,s,s.return)}var I=s.sibling;if(I!==null){I.return=s.return,oe=I;break e}oe=s.return}}var v=t.current;for(oe=v;oe!==null;){o=oe;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,oe=A;else e:for(o=v;oe!==null;){if(l=oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ff(9,l)}}catch(Q){vt(l,l.return,Q)}if(l===o){oe=null;break e}var F=l.sibling;if(F!==null){F.return=l.return,oe=F;break e}oe=l.return}}if(Fe=i,qs(),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(sf,t)}catch{}r=!0}return r}finally{Ke=n,ar.transition=e}}return!1}function sw(t,e,n){e=sl(n,e),e=aI(t,e,1),t=As(t,e,1),e=mn(),t!==null&&(yc(t,1,e),Pn(t,e))}function vt(t,e,n){if(t.tag===3)sw(t,t,n);else for(;e!==null;){if(e.tag===3){sw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bs===null||!bs.has(r))){t=sl(n,t),t=lI(e,t,1),e=As(e,t,1),t=mn(),e!==null&&(yc(e,1,t),Pn(e,t));break}}e=e.return}}function UP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=mn(),t.pingedLanes|=t.suspendedLanes&n,$t===t&&(Wt&n)===n&&(Ot===4||Ot===3&&(Wt&130023424)===Wt&&500>Tt()-zy?ko(t,0):By|=n),Pn(t,e)}function kI(t,e){e===0&&(t.mode&1?(e=gh,gh<<=1,!(gh&130023424)&&(gh=4194304)):e=1);var n=mn();t=Pi(t,e),t!==null&&(yc(t,e,n),Pn(t,n))}function BP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),kI(t,n)}function zP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),kI(t,n)}var RI;RI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kn.current)Cn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Cn=!1,PP(t,e,n);Cn=!!(t.flags&131072)}else Cn=!1,ht&&e.flags&1048576&&O1(e,Ed,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wh(t,e),t=e.pendingProps;var i=tl(e,sn.current);Ga(e,n),i=Vy(null,e,r,t,i,n);var s=My();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rn(r)?(s=!0,vd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xy(e),i.updater=df,e.stateNode=i,i._reactInternals=e,ng(e,r,t,n),e=sg(null,e,r,!0,s,n)):(e.tag=0,ht&&s&&Sy(e),fn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=HP(r),t=Ir(r,t),i){case 0:e=ig(null,e,r,t,n);break e;case 1:e=Q0(null,e,r,t,n);break e;case 11:e=G0(null,e,r,t,n);break e;case 14:e=K0(null,e,r,Ir(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ir(r,i),ig(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ir(r,i),Q0(t,e,r,i,n);case 3:e:{if(dI(e),t===null)throw Error(Y(387));r=e.pendingProps,s=e.memoizedState,i=s.element,$1(t,e),Sd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=sl(Error(Y(423)),e),e=Y0(t,e,r,n,i);break e}else if(r!==i){i=sl(Error(Y(424)),e),e=Y0(t,e,r,n,i);break e}else for(Mn=Ss(e.stateNode.containerInfo.firstChild),Bn=e,ht=!0,Ar=null,n=M1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(nl(),r===i){e=xi(t,e,n);break e}fn(t,e,r,n)}e=e.child}return e;case 5:return j1(e),t===null&&Zm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Km(r,i)?o=null:s!==null&&Km(r,s)&&(e.flags|=32),hI(t,e),fn(t,e,o,n),e.child;case 6:return t===null&&Zm(e),null;case 13:return fI(t,e,n);case 4:return Ny(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=rl(e,null,r,n):fn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ir(r,i),G0(t,e,r,i,n);case 7:return fn(t,e,e.pendingProps,n),e.child;case 8:return fn(t,e,e.pendingProps.children,n),e.child;case 12:return fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,st(Td,r._currentValue),r._currentValue=o,s!==null)if(Pr(s.value,o)){if(s.children===i.children&&!kn.current){e=xi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=bi(-1,n&-n),u.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?u.next=u:(u.next=p.next,p.next=u),h.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),eg(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Y(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),eg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}fn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ga(e,n),i=lr(i),r=r(i),e.flags|=1,fn(t,e,r,n),e.child;case 14:return r=e.type,i=Ir(r,e.pendingProps),i=Ir(r.type,i),K0(t,e,r,i,n);case 15:return uI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ir(r,i),Wh(t,e),e.tag=1,Rn(r)?(t=!0,vd(e)):t=!1,Ga(e,n),oI(e,r,i),ng(e,r,i,n),sg(null,e,r,!0,t,n);case 19:return pI(t,e,n);case 22:return cI(t,e,n)}throw Error(Y(156,e.tag))};function PI(t,e){return r1(t,e)}function qP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(t,e,n,r){return new qP(t,e,n,r)}function Gy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HP(t){if(typeof t=="function")return Gy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dy)return 11;if(t===fy)return 14}return 2}function ks(t,e){var n=t.alternate;return n===null?(n=or(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Gy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Pa:return Ro(n.children,i,s,e);case hy:o=8,i|=8;break;case bm:return t=or(12,n,e,i|2),t.elementType=bm,t.lanes=s,t;case Cm:return t=or(13,n,e,i),t.elementType=Cm,t.lanes=s,t;case km:return t=or(19,n,e,i),t.elementType=km,t.lanes=s,t;case jT:return mf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case FT:o=10;break e;case $T:o=9;break e;case dy:o=11;break e;case fy:o=14;break e;case ls:o=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=or(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ro(t,e,n,r){return t=or(7,t,r,e),t.lanes=n,t}function mf(t,e,n,r){return t=or(22,t,r,e),t.elementType=jT,t.lanes=n,t.stateNode={isHidden:!1},t}function tm(t,e,n){return t=or(6,t,null,e),t.lanes=n,t}function nm(t,e,n){return e=or(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vp(0),this.expirationTimes=Vp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ky(t,e,n,r,i,s,o,l,u){return t=new WP(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=or(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xy(s),t}function GP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ra,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xI(t){if(!t)return Ls;t=t._reactInternals;e:{if(Wo(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(Rn(n))return x1(t,n,e)}return e}function NI(t,e,n,r,i,s,o,l,u){return t=Ky(n,r,!0,t,i,s,o,l,u),t.context=xI(null),n=t.current,r=mn(),i=Cs(n),s=bi(r,i),s.callback=e??null,As(n,s,i),t.current.lanes=i,yc(t,i,r),Pn(t,r),t}function gf(t,e,n,r){var i=e.current,s=mn(),o=Cs(i);return n=xI(n),e.context===null?e.context=n:e.pendingContext=n,e=bi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=As(i,e,o),t!==null&&(Cr(t,i,o,s),zh(t,i,o)),o}function Nd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ow(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Qy(t,e){ow(t,e),(t=t.alternate)&&ow(t,e)}function KP(){return null}var OI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yy(t){this._internalRoot=t}yf.prototype.render=Yy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));gf(t,e,null,null)};yf.prototype.unmount=Yy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;jo(function(){gf(null,t,null,null)}),e[Ri]=null}};function yf(t){this._internalRoot=t}yf.prototype.unstable_scheduleHydration=function(t){if(t){var e=c1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hs.length&&e!==0&&e<hs[n].priority;n++);hs.splice(n,0,t),n===0&&d1(t)}};function Xy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _f(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function aw(){}function QP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Nd(o);s.call(h)}}var o=NI(e,r,t,0,null,!1,!1,"",aw);return t._reactRootContainer=o,t[Ri]=o.current,Hu(t.nodeType===8?t.parentNode:t),jo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=Nd(u);l.call(h)}}var u=Ky(t,0,!1,null,null,!1,!1,"",aw);return t._reactRootContainer=u,t[Ri]=u.current,Hu(t.nodeType===8?t.parentNode:t),jo(function(){gf(e,u,n,r)}),u}function vf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=Nd(o);l.call(u)}}gf(e,o,t,i)}else o=QP(n,e,t,i,r);return Nd(o)}l1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=pu(e.pendingLanes);n!==0&&(gy(e,n|1),Pn(e,Tt()),!(Fe&6)&&(ol=Tt()+500,qs()))}break;case 13:jo(function(){var r=Pi(t,1);if(r!==null){var i=mn();Cr(r,t,1,i)}}),Qy(t,1)}};yy=function(t){if(t.tag===13){var e=Pi(t,134217728);if(e!==null){var n=mn();Cr(e,t,134217728,n)}Qy(t,134217728)}};u1=function(t){if(t.tag===13){var e=Cs(t),n=Pi(t,e);if(n!==null){var r=mn();Cr(n,t,e,r)}Qy(t,e)}};c1=function(){return Ke};h1=function(t,e){var n=Ke;try{return Ke=t,e()}finally{Ke=n}};Fm=function(t,e,n){switch(e){case"input":if(xm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=uf(r);if(!i)throw Error(Y(90));BT(r),xm(r,i)}}}break;case"textarea":qT(t,n);break;case"select":e=n.value,e!=null&&za(t,!!n.multiple,e,!1)}};XT=qy;JT=jo;var YP={usingClientEntryPoint:!1,Events:[vc,Da,uf,QT,YT,qy]},cu={findFiberByHostInstance:Io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XP={bundleType:cu.bundleType,version:cu.version,rendererPackageName:cu.rendererPackageName,rendererConfig:cu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=t1(t),t===null?null:t.stateNode},findFiberByHostInstance:cu.findFiberByHostInstance||KP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ch.isDisabled&&Ch.supportsFiber)try{sf=Ch.inject(XP),Kr=Ch}catch{}}qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YP;qn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xy(e))throw Error(Y(200));return GP(t,e,null,n)};qn.createRoot=function(t,e){if(!Xy(t))throw Error(Y(299));var n=!1,r="",i=OI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ky(t,1,!1,null,null,n,!1,r,i),t[Ri]=e.current,Hu(t.nodeType===8?t.parentNode:t),new Yy(e)};qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=t1(e),t=t===null?null:t.stateNode,t};qn.flushSync=function(t){return jo(t)};qn.hydrate=function(t,e,n){if(!_f(e))throw Error(Y(200));return vf(null,t,e,!0,n)};qn.hydrateRoot=function(t,e,n){if(!Xy(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=OI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=NI(e,null,t,1,n??null,i,!1,s,o),t[Ri]=e.current,Hu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new yf(e)};qn.render=function(t,e,n){if(!_f(e))throw Error(Y(200));return vf(null,t,e,!1,n)};qn.unmountComponentAtNode=function(t){if(!_f(t))throw Error(Y(40));return t._reactRootContainer?(jo(function(){vf(null,null,t,!1,function(){t._reactRootContainer=null,t[Ri]=null})}),!0):!1};qn.unstable_batchedUpdates=qy;qn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_f(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return vf(t,e,n,!1,r)};qn.version="18.3.1-next-f1338f8080-20240426";function DI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DI)}catch(t){console.error(t)}}DI(),DT.exports=qn;var JP=DT.exports,LI,lw=JP;LI=lw.createRoot,lw.hydrateRoot;const wf=$.createContext({name:"",auth:!1}),ZP=({children:t})=>{const[e,n]=$.useState({name:"",auth:!1}),r=s=>{n(()=>({name:s,auth:!0}))},i=()=>{n(()=>({name:"",auth:!1}))};return B.jsx(wf.Provider,{value:{user:e,login:r,logout:i},children:t})};/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ec(){return ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ec.apply(this,arguments)}var _s;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_s||(_s={}));const uw="popstate";function ex(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return yg("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:MI(i)}return nx(e,n,null,t)}function kt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function VI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tx(){return Math.random().toString(36).substr(2,8)}function cw(t,e){return{usr:t.state,key:t.key,idx:e}}function yg(t,e,n,r){return n===void 0&&(n=null),ec({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?El(e):e,{state:n,key:e&&e.key||r||tx()})}function MI(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function El(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function nx(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=_s.Pop,u=null,h=p();h==null&&(h=0,o.replaceState(ec({},o.state,{idx:h}),""));function p(){return(o.state||{idx:null}).idx}function g(){l=_s.Pop;let O=p(),I=O==null?null:O-h;h=O,u&&u({action:l,location:x.location,delta:I})}function y(O,I){l=_s.Push;let v=yg(x.location,O,I);h=p()+1;let A=cw(v,h),F=x.createHref(v);try{o.pushState(A,"",F)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;i.location.assign(F)}s&&u&&u({action:l,location:x.location,delta:1})}function C(O,I){l=_s.Replace;let v=yg(x.location,O,I);h=p();let A=cw(v,h),F=x.createHref(v);o.replaceState(A,"",F),s&&u&&u({action:l,location:x.location,delta:0})}function P(O){let I=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof O=="string"?O:MI(O);return v=v.replace(/ $/,"%20"),kt(I,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,I)}let x={get action(){return l},get location(){return t(i,o)},listen(O){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(uw,g),u=O,()=>{i.removeEventListener(uw,g),u=null}},createHref(O){return e(i,O)},createURL:P,encodeLocation(O){let I=P(O);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:y,replace:C,go(O){return o.go(O)}};return x}var hw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(hw||(hw={}));function rx(t,e,n){return n===void 0&&(n="/"),ix(t,e,n,!1)}function ix(t,e,n,r){let i=typeof e=="string"?El(e):e,s=jI(i.pathname||"/",n);if(s==null)return null;let o=FI(t);sx(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let h=gx(s);l=px(o[u],h,r)}return l}function FI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(kt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=Po([r,u.relativePath]),p=n.concat(u);s.children&&s.children.length>0&&(kt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),FI(s.children,e,p,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:dx(h,s.index),routesMeta:p})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of $I(s.path))i(s,o,u)}),e}function $I(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=$I(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function sx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fx(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ox=/^:[\w-]+$/,ax=3,lx=2,ux=1,cx=10,hx=-2,dw=t=>t==="*";function dx(t,e){let n=t.split("/"),r=n.length;return n.some(dw)&&(r+=hx),e&&(r+=lx),n.filter(i=>!dw(i)).reduce((i,s)=>i+(ox.test(s)?ax:s===""?ux:cx),r)}function fx(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function px(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],h=l===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=fw({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},p),y=u.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=fw({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),o.push({params:i,pathname:Po([s,g.pathname]),pathnameBase:wx(Po([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=Po([s,g.pathnameBase]))}return o}function fw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=mx(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,p,g)=>{let{paramName:y,isOptional:C}=p;if(y==="*"){let x=l[g]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const P=l[g];return C&&!P?h[y]=void 0:h[y]=(P||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:t}}function mx(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),VI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function gx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return VI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jI(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function yx(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?El(t):t;return{pathname:n?n.startsWith("/")?n:_x(n,e):e,search:Ex(r),hash:Tx(i)}}function _x(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function rm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function UI(t,e){let n=vx(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function BI(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=El(t):(i=ec({},t),kt(!i.pathname||!i.pathname.includes("?"),rm("?","pathname","search",i)),kt(!i.pathname||!i.pathname.includes("#"),rm("#","pathname","hash",i)),kt(!i.search||!i.search.includes("#"),rm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let g=e.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}l=g>=0?e[g]:"/"}let u=yx(i,l),h=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||p)&&(u.pathname+="/"),u}const Po=t=>t.join("/").replace(/\/\/+/g,"/"),wx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ex=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Tx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ix(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const zI=["post","put","patch","delete"];new Set(zI);const Sx=["get",...zI];new Set(Sx);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tc(){return tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tc.apply(this,arguments)}const Jy=$.createContext(null),Ax=$.createContext(null),Ec=$.createContext(null),Ef=$.createContext(null),Fi=$.createContext({outlet:null,matches:[],isDataRoute:!1}),qI=$.createContext(null);function Tc(){return $.useContext(Ef)!=null}function Zy(){return Tc()||kt(!1),$.useContext(Ef).location}function HI(t){$.useContext(Ec).static||$.useLayoutEffect(t)}function Tf(){let{isDataRoute:t}=$.useContext(Fi);return t?Ux():bx()}function bx(){Tc()||kt(!1);let t=$.useContext(Jy),{basename:e,future:n,navigator:r}=$.useContext(Ec),{matches:i}=$.useContext(Fi),{pathname:s}=Zy(),o=JSON.stringify(UI(i,n.v7_relativeSplatPath)),l=$.useRef(!1);return HI(()=>{l.current=!0}),$.useCallback(function(h,p){if(p===void 0&&(p={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let g=BI(h,JSON.parse(o),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Po([e,g.pathname])),(p.replace?r.replace:r.push)(g,p.state,p)},[e,r,o,s,t])}const Cx=$.createContext(null);function kx(t){let e=$.useContext(Fi).outlet;return e&&$.createElement(Cx.Provider,{value:t},e)}function Rx(){let{matches:t}=$.useContext(Fi),e=t[t.length-1];return e?e.params:{}}function Px(t,e){return xx(t,e)}function xx(t,e,n,r){Tc()||kt(!1);let{navigator:i}=$.useContext(Ec),{matches:s}=$.useContext(Fi),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let h=Zy(),p;if(e){var g;let O=typeof e=="string"?El(e):e;u==="/"||(g=O.pathname)!=null&&g.startsWith(u)||kt(!1),p=O}else p=h;let y=p.pathname||"/",C=y;if(u!=="/"){let O=u.replace(/^\//,"").split("/");C="/"+y.replace(/^\//,"").split("/").slice(O.length).join("/")}let P=rx(t,{pathname:C}),x=Vx(P&&P.map(O=>Object.assign({},O,{params:Object.assign({},l,O.params),pathname:Po([u,i.encodeLocation?i.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?u:Po([u,i.encodeLocation?i.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),s,n,r);return e&&x?$.createElement(Ef.Provider,{value:{location:tc({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:_s.Pop}},x):x}function Nx(){let t=jx(),e=Ix(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:i},n):null,null)}const Ox=$.createElement(Nx,null);class Dx extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?$.createElement(Fi.Provider,{value:this.props.routeContext},$.createElement(qI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Lx(t){let{routeContext:e,match:n,children:r}=t,i=$.useContext(Jy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),$.createElement(Fi.Provider,{value:e},r)}function Vx(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let p=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);p>=0||kt(!1),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:y,errors:C}=n,P=g.route.loader&&y[g.route.id]===void 0&&(!C||C[g.route.id]===void 0);if(g.route.lazy||P){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,g,y)=>{let C,P=!1,x=null,O=null;n&&(C=l&&g.route.id?l[g.route.id]:void 0,x=g.route.errorElement||Ox,u&&(h<0&&y===0?(P=!0,O=null):h===y&&(P=!0,O=g.route.hydrateFallbackElement||null)));let I=e.concat(o.slice(0,y+1)),v=()=>{let A;return C?A=x:P?A=O:g.route.Component?A=$.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=p,$.createElement(Lx,{match:g,routeContext:{outlet:p,matches:I,isDataRoute:n!=null},children:A})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?$.createElement(Dx,{location:n.location,revalidation:n.revalidation,component:x,error:C,children:v(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):v()},null)}var WI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(WI||{}),Od=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Od||{});function Mx(t){let e=$.useContext(Jy);return e||kt(!1),e}function Fx(t){let e=$.useContext(Ax);return e||kt(!1),e}function $x(t){let e=$.useContext(Fi);return e||kt(!1),e}function GI(t){let e=$x(),n=e.matches[e.matches.length-1];return n.route.id||kt(!1),n.route.id}function jx(){var t;let e=$.useContext(qI),n=Fx(Od.UseRouteError),r=GI(Od.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Ux(){let{router:t}=Mx(WI.UseNavigateStable),e=GI(Od.UseNavigateStable),n=$.useRef(!1);return HI(()=>{n.current=!0}),$.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,tc({fromRouteId:e},s)))},[t,e])}const pw={};function Bx(t,e){pw[e]||(pw[e]=!0,console.warn(e))}const mw=(t,e,n)=>Bx(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function zx(t,e){t!=null&&t.v7_startTransition||mw("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&mw("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function KI(t){let{to:e,replace:n,state:r,relative:i}=t;Tc()||kt(!1);let{future:s,static:o}=$.useContext(Ec),{matches:l}=$.useContext(Fi),{pathname:u}=Zy(),h=Tf(),p=BI(e,UI(l,s.v7_relativeSplatPath),u,i==="path"),g=JSON.stringify(p);return $.useEffect(()=>h(JSON.parse(g),{replace:n,state:r,relative:i}),[h,g,i,n,r]),null}function qx(t){return kx(t.context)}function os(t){kt(!1)}function Hx(t){let{basename:e="/",children:n=null,location:r,navigationType:i=_s.Pop,navigator:s,static:o=!1,future:l}=t;Tc()&&kt(!1);let u=e.replace(/^\/*/,"/"),h=$.useMemo(()=>({basename:u,navigator:s,static:o,future:tc({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=El(r));let{pathname:p="/",search:g="",hash:y="",state:C=null,key:P="default"}=r,x=$.useMemo(()=>{let O=jI(p,u);return O==null?null:{location:{pathname:O,search:g,hash:y,state:C,key:P},navigationType:i}},[u,p,g,y,C,P,i]);return x==null?null:$.createElement(Ec.Provider,{value:h},$.createElement(Ef.Provider,{children:n,value:x}))}function Wx(t){let{children:e,location:n}=t;return Px(_g(e),n)}new Promise(()=>{});function _g(t,e){e===void 0&&(e=[]);let n=[];return $.Children.forEach(t,(r,i)=>{if(!$.isValidElement(r))return;let s=[...e,i];if(r.type===$.Fragment){n.push.apply(n,_g(r.props.children,s));return}r.type!==os&&kt(!1),!r.props.index||!r.props.children||kt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=_g(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Gx="6";try{window.__reactRouterVersion=Gx}catch{}const Kx="startTransition",gw=Uk[Kx];function Qx(t){let{basename:e,children:n,future:r,window:i}=t,s=$.useRef();s.current==null&&(s.current=ex({window:i,v5Compat:!0}));let o=s.current,[l,u]=$.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},p=$.useCallback(g=>{h&&gw?gw(()=>u(g)):u(g)},[u,h]);return $.useLayoutEffect(()=>o.listen(p),[o,p]),$.useEffect(()=>zx(r),[r]),$.createElement(Hx,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var yw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(yw||(yw={}));var _w;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_w||(_w={}));var vw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Yx=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},YI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,p=s>>2,g=(s&3)<<4|l>>4;let y=(l&15)<<2|h>>6,C=h&63;u||(C=64,o||(y=64)),r.push(n[p],n[g],n[y],n[C])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Yx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||h==null||g==null)throw new Xx;const y=s<<2|l>>4;if(r.push(y),h!==64){const C=l<<4&240|h>>2;if(r.push(C),g!==64){const P=h<<6&192|g;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Xx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jx=function(t){const e=QI(t);return YI.encodeByteArray(e,!0)},Dd=function(t){return Jx(t).replace(/\./g,"")},XI=function(t){try{return YI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=()=>Zx().__FIREBASE_DEFAULTS__,tN=()=>{if(typeof process>"u"||typeof vw>"u")return;const t=vw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&XI(t[1]);return e&&JSON.parse(e)},If=()=>{try{return eN()||tN()||nN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JI=t=>{var e,n;return(n=(e=If())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},rN=t=>{const e=JI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ZI=()=>{var t;return(t=If())===null||t===void 0?void 0:t.config},eS=t=>{var e;return(e=If())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dd(JSON.stringify(n)),Dd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function aN(){var t;const e=(t=If())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hN(){const t=on();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dN(){return!aN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fN(){try{return typeof indexedDB=="object"}catch{return!1}}function pN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="FirebaseError";class $i extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mN,Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ic.prototype.create)}}class Ic{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?gN(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new $i(i,l,r)}}function gN(t,e){return t.replace(yN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const yN=/\{\$([^}]+)}/g;function _N(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ld(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ww(s)&&ww(o)){if(!Ld(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ww(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vN(t,e){const n=new wN(t,e);return n.subscribe.bind(n)}class wN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");EN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=im),i.error===void 0&&(i.error=im),i.complete===void 0&&(i.complete=im);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function im(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t){return t&&t._delegate?t._delegate:t}class Uo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new iN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SN(e))try{this.getOrInitializeService({instanceIdentifier:Eo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Eo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Eo){return this.instances.has(e)}getOptions(e=Eo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Eo){return this.component?this.component.multipleInstances?e:Eo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IN(t){return t===Eo?void 0:t}function SN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const bN={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},CN=Re.INFO,kN={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},RN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=kN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class e_{constructor(e){this.name=e,this._logLevel=CN,this._logHandler=RN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const PN=(t,e)=>e.some(n=>t instanceof n);let Ew,Tw;function xN(){return Ew||(Ew=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NN(){return Tw||(Tw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tS=new WeakMap,vg=new WeakMap,nS=new WeakMap,sm=new WeakMap,t_=new WeakMap;function ON(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Rs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&tS.set(n,t)}).catch(()=>{}),t_.set(e,t),e}function DN(t){if(vg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});vg.set(t,e)}let wg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function LN(t){wg=t(wg)}function VN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(om(this),e,...n);return nS.set(r,e.sort?e.sort():[e]),Rs(r)}:NN().includes(t)?function(...e){return t.apply(om(this),e),Rs(tS.get(this))}:function(...e){return Rs(t.apply(om(this),e))}}function MN(t){return typeof t=="function"?VN(t):(t instanceof IDBTransaction&&DN(t),PN(t,xN())?new Proxy(t,wg):t)}function Rs(t){if(t instanceof IDBRequest)return ON(t);if(sm.has(t))return sm.get(t);const e=MN(t);return e!==t&&(sm.set(t,e),t_.set(e,t)),e}const om=t=>t_.get(t);function FN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Rs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Rs(o.result),u.oldVersion,u.newVersion,Rs(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const $N=["get","getKey","getAll","getAllKeys","count"],jN=["put","add","delete","clear"],am=new Map;function Iw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(am.get(e))return am.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=jN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$N.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&u.done]))[0]};return am.set(e,s),s}LN(t=>({...t,get:(e,n,r)=>Iw(e,n)||t.get(e,n,r),has:(e,n)=>!!Iw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function BN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Eg="@firebase/app",Sw="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new e_("@firebase/app"),zN="@firebase/app-compat",qN="@firebase/analytics-compat",HN="@firebase/analytics",WN="@firebase/app-check-compat",GN="@firebase/app-check",KN="@firebase/auth",QN="@firebase/auth-compat",YN="@firebase/database",XN="@firebase/data-connect",JN="@firebase/database-compat",ZN="@firebase/functions",eO="@firebase/functions-compat",tO="@firebase/installations",nO="@firebase/installations-compat",rO="@firebase/messaging",iO="@firebase/messaging-compat",sO="@firebase/performance",oO="@firebase/performance-compat",aO="@firebase/remote-config",lO="@firebase/remote-config-compat",uO="@firebase/storage",cO="@firebase/storage-compat",hO="@firebase/firestore",dO="@firebase/vertexai",fO="@firebase/firestore-compat",pO="firebase",mO="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="[DEFAULT]",gO={[Eg]:"fire-core",[zN]:"fire-core-compat",[HN]:"fire-analytics",[qN]:"fire-analytics-compat",[GN]:"fire-app-check",[WN]:"fire-app-check-compat",[KN]:"fire-auth",[QN]:"fire-auth-compat",[YN]:"fire-rtdb",[XN]:"fire-data-connect",[JN]:"fire-rtdb-compat",[ZN]:"fire-fn",[eO]:"fire-fn-compat",[tO]:"fire-iid",[nO]:"fire-iid-compat",[rO]:"fire-fcm",[iO]:"fire-fcm-compat",[sO]:"fire-perf",[oO]:"fire-perf-compat",[aO]:"fire-rc",[lO]:"fire-rc-compat",[uO]:"fire-gcs",[cO]:"fire-gcs-compat",[hO]:"fire-fst",[fO]:"fire-fst-compat",[dO]:"fire-vertex","fire-js":"fire-js",[pO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=new Map,yO=new Map,Ig=new Map;function Aw(t,e){try{t.container.addComponent(e)}catch(n){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function al(t){const e=t.name;if(Ig.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;Ig.set(e,t);for(const n of Vd.values())Aw(n,t);for(const n of yO.values())Aw(n,t);return!0}function n_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ei(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ps=new Ic("app","Firebase",_O);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=mO;function rS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Tg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ps.create("bad-app-name",{appName:String(i)});if(n||(n=ZI()),!n)throw Ps.create("no-options");const s=Vd.get(i);if(s){if(Ld(n,s.options)&&Ld(r,s.config))return s;throw Ps.create("duplicate-app",{appName:i})}const o=new AN(i);for(const u of Ig.values())o.addComponent(u);const l=new vO(n,r,o);return Vd.set(i,l),l}function iS(t=Tg){const e=Vd.get(t);if(!e&&t===Tg&&ZI())return rS();if(!e)throw Ps.create("no-app",{appName:t});return e}function xs(t,e,n){var r;let i=(r=gO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(l.join(" "));return}al(new Uo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO="firebase-heartbeat-database",EO=1,nc="firebase-heartbeat-store";let lm=null;function sS(){return lm||(lm=FN(wO,EO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ps.create("idb-open",{originalErrorMessage:t.message})})),lm}async function TO(t){try{const n=(await sS()).transaction(nc),r=await n.objectStore(nc).get(oS(t));return await n.done,r}catch(e){if(e instanceof $i)Ni.warn(e.message);else{const n=Ps.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ni.warn(n.message)}}}async function bw(t,e){try{const r=(await sS()).transaction(nc,"readwrite");await r.objectStore(nc).put(e,oS(t)),await r.done}catch(n){if(n instanceof $i)Ni.warn(n.message);else{const r=Ps.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ni.warn(r.message)}}}function oS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=1024,SO=30*24*60*60*1e3;class AO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Cw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=SO}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ni.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Cw(),{heartbeatsToSend:r,unsentEntries:i}=bO(this._heartbeatsCache.heartbeats),s=Dd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ni.warn(n),""}}}function Cw(){return new Date().toISOString().substring(0,10)}function bO(t,e=IO){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),kw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class CO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fN()?pN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function kw(t){return Dd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t){al(new Uo("platform-logger",e=>new UN(e),"PRIVATE")),al(new Uo("heartbeat",e=>new AO(e),"PRIVATE")),xs(Eg,Sw,t),xs(Eg,Sw,"esm2017"),xs("fire-js","")}kO("");function r_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function aS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RO=aS,lS=new Ic("auth","Firebase",aS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=new e_("@firebase/auth");function PO(t,...e){Md.logLevel<=Re.WARN&&Md.warn(`Auth (${Tl}): ${t}`,...e)}function Yh(t,...e){Md.logLevel<=Re.ERROR&&Md.error(`Auth (${Tl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(t,...e){throw s_(t,...e)}function kr(t,...e){return s_(t,...e)}function i_(t,e,n){const r=Object.assign(Object.assign({},RO()),{[e]:n});return new Ic("auth","Firebase",r).create(e,{appName:t.name})}function xo(t){return i_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xO(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Zr(t,"argument-error"),i_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function s_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lS.create(t,...e)}function _e(t,e,...n){if(!t)throw s_(e,...n)}function Ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yh(e),new Error(e)}function Oi(t,e){t||Ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function NO(){return Rw()==="http:"||Rw()==="https:"}function Rw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NO()||uN()||"connection"in navigator)?navigator.onLine:!0}function DO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n){this.shortDelay=e,this.longDelay=n,Oi(n>e,"Short delay should be less than long delay!"),this.isMobile=oN()||cN()}get(){return OO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(t,e){Oi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=new Ac(3e4,6e4);function a_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Il(t,e,n,r,i={}){return cS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Sc(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:u},s);return lN()||(h.referrerPolicy="no-referrer"),uS.fetch()(hS(t,t.config.apiHost,n,l),h)})}async function cS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},LO),e);try{const i=new FO(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw kh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw kh(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw kh(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw kh(t,"user-disabled",o);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw i_(t,p,h);Zr(t,p)}}catch(i){if(i instanceof $i)throw i;Zr(t,"network-request-failed",{message:String(i)})}}async function MO(t,e,n,r,i={}){const s=await Il(t,e,n,r,i);return"mfaPendingCredential"in s&&Zr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function hS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?o_(t.config,i):`${t.config.apiScheme}://${i}`}class FO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kr(this.auth,"network-request-failed")),VO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=kr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $O(t,e){return Il(t,"POST","/v1/accounts:delete",e)}async function dS(t,e){return Il(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jO(t,e=!1){const n=an(t),r=await n.getIdToken(e),i=l_(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ru(um(i.auth_time)),issuedAtTime:Ru(um(i.iat)),expirationTime:Ru(um(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function um(t){return Number(t)*1e3}function l_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yh("JWT malformed, contained fewer than 3 sections"),null;try{const i=XI(n);return i?JSON.parse(i):(Yh("Failed to decode base64 JWT payload"),null)}catch(i){return Yh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Pw(t){const e=l_(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $i&&UO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function UO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ru(this.lastLoginAt),this.creationTime=Ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await rc(t,dS(n,{idToken:r}));_e(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?fS(s.providerUserInfo):[],l=qO(t.providerData,o),u=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),p=u?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Ag(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function zO(t){const e=an(t);await Fd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function fS(t){return t.map(e=>{var{providerId:n}=e,r=r_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(t,e){const n=await cS(t,{},async()=>{const r=Sc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=hS(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",uS.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function WO(t,e){return Il(t,"POST","/v2/accounts:revokeToken",a_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Pw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=Pw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await HO(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Qa;return r&&(_e(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(_e(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return Ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ii{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=r_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ag(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await rc(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jO(this,e)}reload(){return zO(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ii(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ei(this.auth.app))return Promise.reject(xo(this.auth));const e=await this.getIdToken();return await rc(this,$O(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,u,h,p;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,C=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,P=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(l=n.tenantId)!==null&&l!==void 0?l:void 0,O=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,I=(h=n.createdAt)!==null&&h!==void 0?h:void 0,v=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:A,emailVerified:F,isAnonymous:Q,providerData:H,stsTokenManager:S}=n;_e(A&&S,e,"internal-error");const w=Qa.fromJSON(this.name,S);_e(typeof A=="string",e,"internal-error"),ss(g,e.name),ss(y,e.name),_e(typeof F=="boolean",e,"internal-error"),_e(typeof Q=="boolean",e,"internal-error"),ss(C,e.name),ss(P,e.name),ss(x,e.name),ss(O,e.name),ss(I,e.name),ss(v,e.name);const b=new Ii({uid:A,auth:e,email:y,emailVerified:F,displayName:g,isAnonymous:Q,photoURL:P,phoneNumber:C,tenantId:x,stsTokenManager:w,createdAt:I,lastLoginAt:v});return H&&Array.isArray(H)&&(b.providerData=H.map(R=>Object.assign({},R))),O&&(b._redirectEventId=O),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new Qa;i.updateFromServerResponse(n);const s=new Ii({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Fd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];_e(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?fS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Qa;l.updateFromIdToken(r);const u=new Ii({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ag(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=new Map;function Si(t){Oi(t instanceof Function,"Expected a class definition");let e=xw.get(t);return e?(Oi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pS.type="NONE";const Nw=pS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ya{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Xh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ii._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ya(Si(Nw),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Si(Nw);const o=Xh(r,e.config.apiKey,e.name);let l=null;for(const h of n)try{const p=await h._get(o);if(p){const g=Ii._fromJSON(e,p);h!==s&&(l=g),s=h;break}}catch{}const u=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ya(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new Ya(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_S(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wS(e))return"Blackberry";if(ES(e))return"Webos";if(gS(e))return"Safari";if((e.includes("chrome/")||yS(e))&&!e.includes("edge/"))return"Chrome";if(vS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function mS(t=on()){return/firefox\//i.test(t)}function gS(t=on()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yS(t=on()){return/crios\//i.test(t)}function _S(t=on()){return/iemobile/i.test(t)}function vS(t=on()){return/android/i.test(t)}function wS(t=on()){return/blackberry/i.test(t)}function ES(t=on()){return/webos/i.test(t)}function u_(t=on()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GO(t=on()){var e;return u_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KO(){return hN()&&document.documentMode===10}function TS(t=on()){return u_(t)||vS(t)||ES(t)||wS(t)||/windows phone/i.test(t)||_S(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t,e=[]){let n;switch(t){case"Browser":n=Ow(on());break;case"Worker":n=`${Ow(on())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Tl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(t,e={}){return Il(t,"GET","/v2/passwordPolicy",a_(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=6;class JO{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:XO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dw(this),this.idTokenSubscription=new Dw(this),this.beforeStateQueue=new QO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Si(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ya.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dS(this,{idToken:e}),r=await Ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ei(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ei(this.app))return Promise.reject(xo(this));const n=e?an(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ei(this.app)?Promise.reject(xo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ei(this.app)?Promise.reject(xo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YO(this),n=new JO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ic("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await WO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Si(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[Si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&PO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Sf(t){return an(t)}class Dw{constructor(e){this.auth=e,this.observer=null,this.addObserver=vN(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eD(t){c_=t}function tD(t){return c_.loadJS(t)}function nD(){return c_.gapiScript}function rD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t,e){const n=n_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ld(s,e??{}))return i;Zr(i,"already-initialized")}return n.initialize({options:e})}function sD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Si);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function oD(t,e,n){const r=Sf(t);_e(r._canInitEmulator,r,"emulator-config-failed"),_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=SS(e),{host:o,port:l}=aD(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),lD()}function SS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aD(t){const e=SS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Lw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Lw(o)}}}function Lw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ti("not implemented")}_getIdTokenResponse(e){return Ti("not implemented")}_linkToIdToken(e,n){return Ti("not implemented")}_getReauthenticationResolver(e){return Ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(t,e){return MO(t,"POST","/v1/accounts:signInWithIdp",a_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="http://localhost";class Bo extends AS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=r_(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Bo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Xa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xa(e,n)}buildRequest(){const e={requestUri:uD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends h_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends bc{constructor(){super("facebook.com")}static credential(e){return Bo._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends bc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bo._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return yi.credential(n,r)}catch{return null}}}yi.GOOGLE_SIGN_IN_METHOD="google.com";yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends bc{constructor(){super("github.com")}static credential(e){return Bo._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.GITHUB_SIGN_IN_METHOD="github.com";ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends bc{constructor(){super("twitter.com")}static credential(e,n){return Bo._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ms.credential(n,r)}catch{return null}}}ms.TWITTER_SIGN_IN_METHOD="twitter.com";ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ii._fromIdTokenResponse(e,r,i),o=Vw(r);return new ll({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Vw(r);return new ll({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Vw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d extends $i{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,$d.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new $d(e,n,r,i)}}function bS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?$d._fromErrorAndOperation(t,s,e,r):s})}async function cD(t,e,n=!1){const r=await rc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ll._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(t,e,n=!1){const{auth:r}=t;if(Ei(r.app))return Promise.reject(xo(r));const i="reauthenticate";try{const s=await rc(t,bS(r,i,e,t),n);_e(s.idToken,r,"internal-error");const o=l_(s.idToken);_e(o,r,"internal-error");const{sub:l}=o;return _e(t.uid===l,r,"user-mismatch"),ll._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Zr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(t,e,n=!1){if(Ei(t.app))return Promise.reject(xo(t));const r="signIn",i=await bS(t,r,e),s=await ll._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function fD(t,e,n,r){return an(t).onIdTokenChanged(e,n,r)}function pD(t,e,n){return an(t).beforeAuthStateChanged(e,n)}const jd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jd,"1"),this.storage.removeItem(jd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=1e3,gD=10;class kS extends CS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);KO()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,gD):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},mD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kS.type="LOCAL";const yD=kS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS extends CS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}RS.type="SESSION";const PS=RS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Af(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async h=>h(n.origin,s)),u=await _D(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Af.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const h=d_("",20);i.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){const y=g;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(y.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(){return window}function wD(t){Yr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(){return typeof Yr().WorkerGlobalScope<"u"&&typeof Yr().importScripts=="function"}async function ED(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ID(){return xS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="firebaseLocalStorageDb",SD=1,Ud="firebaseLocalStorage",OS="fbase_key";class Cc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bf(t,e){return t.transaction([Ud],e?"readwrite":"readonly").objectStore(Ud)}function AD(){const t=indexedDB.deleteDatabase(NS);return new Cc(t).toPromise()}function bg(){const t=indexedDB.open(NS,SD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ud,{keyPath:OS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ud)?e(r):(r.close(),await AD(),e(await bg()))})})}async function Mw(t,e,n){const r=bf(t,!0).put({[OS]:e,value:n});return new Cc(r).toPromise()}async function bD(t,e){const n=bf(t,!1).get(e),r=await new Cc(n).toPromise();return r===void 0?null:r.value}function Fw(t,e){const n=bf(t,!0).delete(e);return new Cc(n).toPromise()}const CD=800,kD=3;class DS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Af._getInstance(ID()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ED(),!this.activeServiceWorker)return;this.sender=new vD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bg();return await Mw(e,jd,"1"),await Fw(e,jd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Mw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>bD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=bf(i,!1).getAll();return new Cc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DS.type="LOCAL";const RD=DS;new Ac(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(t,e){return e?Si(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_ extends AS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PD(t){return dD(t.auth,new f_(t),t.bypassAuthState)}function xD(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),hD(n,new f_(t),t.bypassAuthState)}async function ND(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),cD(n,new f_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PD;case"linkViaPopup":case"linkViaRedirect":return ND;case"reauthViaPopup":case"reauthViaRedirect":return xD;default:Zr(this.auth,"internal-error")}}resolve(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=new Ac(2e3,1e4);async function DD(t,e,n){if(Ei(t.app))return Promise.reject(kr(t,"operation-not-supported-in-this-environment"));const r=Sf(t);xO(t,e,h_);const i=LS(r,n);return new bo(r,"signInViaPopup",e,i).executeNotNull()}class bo extends VS{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,bo.currentPopupAction&&bo.currentPopupAction.cancel(),bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Oi(this.filter.length===1,"Popup operations only handle one event");const e=d_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OD.get())};e()}}bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="pendingRedirect",Jh=new Map;class VD extends VS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jh.get(this.auth._key());if(!e){try{const r=await MD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jh.set(this.auth._key(),e)}return this.bypassAuthState||Jh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MD(t,e){const n=jD(e),r=$D(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function FD(t,e){Jh.set(t._key(),e)}function $D(t){return Si(t._redirectPersistence)}function jD(t){return Xh(LD,t.config.apiKey,t.name)}async function UD(t,e,n=!1){if(Ei(t.app))return Promise.reject(xo(t));const r=Sf(t),i=LS(r,e),o=await new VD(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=10*60*1e3;class zD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!MS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(kr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BD&&this.cachedEventUids.clear(),this.cachedEventUids.has($w(e))}saveEventToCache(e){this.cachedEventUids.add($w(e)),this.lastProcessedEventTime=Date.now()}}function $w(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(t,e={}){return Il(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GD=/^https?/;async function KD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await HD(t);for(const n of e)try{if(QD(n))return}catch{}Zr(t,"unauthorized-domain")}function QD(t){const e=Sg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!GD.test(n))return!1;if(WD.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=new Ac(3e4,6e4);function jw(){const t=Yr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function XD(t){return new Promise((e,n)=>{var r,i,s;function o(){jw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jw(),n(kr(t,"network-request-failed"))},timeout:YD.get()})}if(!((i=(r=Yr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Yr().gapi)===null||s===void 0)&&s.load)o();else{const l=rD("iframefcb");return Yr()[l]=()=>{gapi.load?o():n(kr(t,"network-request-failed"))},tD(`${nD()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Zh=null,e})}let Zh=null;function JD(t){return Zh=Zh||XD(t),Zh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=new Ac(5e3,15e3),e2="__/auth/iframe",t2="emulator/auth/iframe",n2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},r2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i2(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?o_(e,t2):`https://${t.config.authDomain}/${e2}`,r={apiKey:e.apiKey,appName:t.name,v:Tl},i=r2.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Sc(r).slice(1)}`}async function s2(t){const e=await JD(t),n=Yr().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:i2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n2,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=kr(t,"network-request-failed"),l=Yr().setTimeout(()=>{s(o)},ZD.get());function u(){Yr().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},a2=500,l2=600,u2="_blank",c2="http://localhost";class Uw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h2(t,e,n,r=a2,i=l2){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},o2),{width:r.toString(),height:i.toString(),top:s,left:o}),h=on().toLowerCase();n&&(l=yS(h)?u2:n),mS(h)&&(e=e||c2,u.scrollbars="yes");const p=Object.entries(u).reduce((y,[C,P])=>`${y}${C}=${P},`,"");if(GO(h)&&l!=="_self")return d2(e||"",l),new Uw(null);const g=window.open(e||"",l,p);_e(g,t,"popup-blocked");try{g.focus()}catch{}return new Uw(g)}function d2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="__/auth/handler",p2="emulator/auth/handler",m2=encodeURIComponent("fac");async function Bw(t,e,n,r,i,s){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Tl,eventId:i};if(e instanceof h_){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",_N(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))o[p]=g}if(e instanceof bc){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const u=await t._getAppCheckToken(),h=u?`#${m2}=${encodeURIComponent(u)}`:"";return`${g2(t)}?${Sc(l).slice(1)}${h}`}function g2({config:t}){return t.emulator?o_(t,p2):`https://${t.authDomain}/${f2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="webStorageSupport";class y2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PS,this._completeRedirectFn=UD,this._overrideRedirectResult=FD}async _openPopup(e,n,r,i){var s;Oi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Bw(e,n,r,Sg(),i);return h2(e,o,d_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Bw(e,n,r,Sg(),i);return wD(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Oi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await s2(e),r=new zD(e);return n.register("authEvent",i=>(_e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cm,{type:cm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[cm];o!==void 0&&n(!!o),Zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return TS()||gS()||u_()}}const _2=y2;var zw="@firebase/auth",qw="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E2(t){al(new Uo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;_e(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IS(t)},h=new ZO(r,i,s,u);return sD(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),al(new Uo("auth-internal",e=>{const n=Sf(e.getProvider("auth").getImmediate());return(r=>new v2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xs(zw,qw,w2(t)),xs(zw,qw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=5*60,I2=eS("authIdTokenMaxAge")||T2;let Hw=null;const S2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>I2)return;const i=n==null?void 0:n.token;Hw!==i&&(Hw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function A2(t=iS()){const e=n_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=iD(t,{popupRedirectResolver:_2,persistence:[RD,yD,PS]}),r=eS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=S2(s.toString());pD(n,o,()=>o(n.currentUser)),fD(n,l=>o(l))}}const i=JI("auth");return i&&oD(n,`http://${i}`),n}function b2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}eD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=kr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",b2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E2("Browser");var C2="firebase",k2="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xs(C2,k2,"app");var Ww=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var No,FS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,w){function b(){}b.prototype=w.prototype,S.D=w.prototype,S.prototype=new b,S.prototype.constructor=S,S.C=function(R,N,L){for(var k=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)k[Ve-2]=arguments[Ve];return w.prototype[N].apply(R,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,w,b){b||(b=0);var R=Array(16);if(typeof w=="string")for(var N=0;16>N;++N)R[N]=w.charCodeAt(b++)|w.charCodeAt(b++)<<8|w.charCodeAt(b++)<<16|w.charCodeAt(b++)<<24;else for(N=0;16>N;++N)R[N]=w[b++]|w[b++]<<8|w[b++]<<16|w[b++]<<24;w=S.g[0],b=S.g[1],N=S.g[2];var L=S.g[3],k=w+(L^b&(N^L))+R[0]+3614090360&4294967295;w=b+(k<<7&4294967295|k>>>25),k=L+(N^w&(b^N))+R[1]+3905402710&4294967295,L=w+(k<<12&4294967295|k>>>20),k=N+(b^L&(w^b))+R[2]+606105819&4294967295,N=L+(k<<17&4294967295|k>>>15),k=b+(w^N&(L^w))+R[3]+3250441966&4294967295,b=N+(k<<22&4294967295|k>>>10),k=w+(L^b&(N^L))+R[4]+4118548399&4294967295,w=b+(k<<7&4294967295|k>>>25),k=L+(N^w&(b^N))+R[5]+1200080426&4294967295,L=w+(k<<12&4294967295|k>>>20),k=N+(b^L&(w^b))+R[6]+2821735955&4294967295,N=L+(k<<17&4294967295|k>>>15),k=b+(w^N&(L^w))+R[7]+4249261313&4294967295,b=N+(k<<22&4294967295|k>>>10),k=w+(L^b&(N^L))+R[8]+1770035416&4294967295,w=b+(k<<7&4294967295|k>>>25),k=L+(N^w&(b^N))+R[9]+2336552879&4294967295,L=w+(k<<12&4294967295|k>>>20),k=N+(b^L&(w^b))+R[10]+4294925233&4294967295,N=L+(k<<17&4294967295|k>>>15),k=b+(w^N&(L^w))+R[11]+2304563134&4294967295,b=N+(k<<22&4294967295|k>>>10),k=w+(L^b&(N^L))+R[12]+1804603682&4294967295,w=b+(k<<7&4294967295|k>>>25),k=L+(N^w&(b^N))+R[13]+4254626195&4294967295,L=w+(k<<12&4294967295|k>>>20),k=N+(b^L&(w^b))+R[14]+2792965006&4294967295,N=L+(k<<17&4294967295|k>>>15),k=b+(w^N&(L^w))+R[15]+1236535329&4294967295,b=N+(k<<22&4294967295|k>>>10),k=w+(N^L&(b^N))+R[1]+4129170786&4294967295,w=b+(k<<5&4294967295|k>>>27),k=L+(b^N&(w^b))+R[6]+3225465664&4294967295,L=w+(k<<9&4294967295|k>>>23),k=N+(w^b&(L^w))+R[11]+643717713&4294967295,N=L+(k<<14&4294967295|k>>>18),k=b+(L^w&(N^L))+R[0]+3921069994&4294967295,b=N+(k<<20&4294967295|k>>>12),k=w+(N^L&(b^N))+R[5]+3593408605&4294967295,w=b+(k<<5&4294967295|k>>>27),k=L+(b^N&(w^b))+R[10]+38016083&4294967295,L=w+(k<<9&4294967295|k>>>23),k=N+(w^b&(L^w))+R[15]+3634488961&4294967295,N=L+(k<<14&4294967295|k>>>18),k=b+(L^w&(N^L))+R[4]+3889429448&4294967295,b=N+(k<<20&4294967295|k>>>12),k=w+(N^L&(b^N))+R[9]+568446438&4294967295,w=b+(k<<5&4294967295|k>>>27),k=L+(b^N&(w^b))+R[14]+3275163606&4294967295,L=w+(k<<9&4294967295|k>>>23),k=N+(w^b&(L^w))+R[3]+4107603335&4294967295,N=L+(k<<14&4294967295|k>>>18),k=b+(L^w&(N^L))+R[8]+1163531501&4294967295,b=N+(k<<20&4294967295|k>>>12),k=w+(N^L&(b^N))+R[13]+2850285829&4294967295,w=b+(k<<5&4294967295|k>>>27),k=L+(b^N&(w^b))+R[2]+4243563512&4294967295,L=w+(k<<9&4294967295|k>>>23),k=N+(w^b&(L^w))+R[7]+1735328473&4294967295,N=L+(k<<14&4294967295|k>>>18),k=b+(L^w&(N^L))+R[12]+2368359562&4294967295,b=N+(k<<20&4294967295|k>>>12),k=w+(b^N^L)+R[5]+4294588738&4294967295,w=b+(k<<4&4294967295|k>>>28),k=L+(w^b^N)+R[8]+2272392833&4294967295,L=w+(k<<11&4294967295|k>>>21),k=N+(L^w^b)+R[11]+1839030562&4294967295,N=L+(k<<16&4294967295|k>>>16),k=b+(N^L^w)+R[14]+4259657740&4294967295,b=N+(k<<23&4294967295|k>>>9),k=w+(b^N^L)+R[1]+2763975236&4294967295,w=b+(k<<4&4294967295|k>>>28),k=L+(w^b^N)+R[4]+1272893353&4294967295,L=w+(k<<11&4294967295|k>>>21),k=N+(L^w^b)+R[7]+4139469664&4294967295,N=L+(k<<16&4294967295|k>>>16),k=b+(N^L^w)+R[10]+3200236656&4294967295,b=N+(k<<23&4294967295|k>>>9),k=w+(b^N^L)+R[13]+681279174&4294967295,w=b+(k<<4&4294967295|k>>>28),k=L+(w^b^N)+R[0]+3936430074&4294967295,L=w+(k<<11&4294967295|k>>>21),k=N+(L^w^b)+R[3]+3572445317&4294967295,N=L+(k<<16&4294967295|k>>>16),k=b+(N^L^w)+R[6]+76029189&4294967295,b=N+(k<<23&4294967295|k>>>9),k=w+(b^N^L)+R[9]+3654602809&4294967295,w=b+(k<<4&4294967295|k>>>28),k=L+(w^b^N)+R[12]+3873151461&4294967295,L=w+(k<<11&4294967295|k>>>21),k=N+(L^w^b)+R[15]+530742520&4294967295,N=L+(k<<16&4294967295|k>>>16),k=b+(N^L^w)+R[2]+3299628645&4294967295,b=N+(k<<23&4294967295|k>>>9),k=w+(N^(b|~L))+R[0]+4096336452&4294967295,w=b+(k<<6&4294967295|k>>>26),k=L+(b^(w|~N))+R[7]+1126891415&4294967295,L=w+(k<<10&4294967295|k>>>22),k=N+(w^(L|~b))+R[14]+2878612391&4294967295,N=L+(k<<15&4294967295|k>>>17),k=b+(L^(N|~w))+R[5]+4237533241&4294967295,b=N+(k<<21&4294967295|k>>>11),k=w+(N^(b|~L))+R[12]+1700485571&4294967295,w=b+(k<<6&4294967295|k>>>26),k=L+(b^(w|~N))+R[3]+2399980690&4294967295,L=w+(k<<10&4294967295|k>>>22),k=N+(w^(L|~b))+R[10]+4293915773&4294967295,N=L+(k<<15&4294967295|k>>>17),k=b+(L^(N|~w))+R[1]+2240044497&4294967295,b=N+(k<<21&4294967295|k>>>11),k=w+(N^(b|~L))+R[8]+1873313359&4294967295,w=b+(k<<6&4294967295|k>>>26),k=L+(b^(w|~N))+R[15]+4264355552&4294967295,L=w+(k<<10&4294967295|k>>>22),k=N+(w^(L|~b))+R[6]+2734768916&4294967295,N=L+(k<<15&4294967295|k>>>17),k=b+(L^(N|~w))+R[13]+1309151649&4294967295,b=N+(k<<21&4294967295|k>>>11),k=w+(N^(b|~L))+R[4]+4149444226&4294967295,w=b+(k<<6&4294967295|k>>>26),k=L+(b^(w|~N))+R[11]+3174756917&4294967295,L=w+(k<<10&4294967295|k>>>22),k=N+(w^(L|~b))+R[2]+718787259&4294967295,N=L+(k<<15&4294967295|k>>>17),k=b+(L^(N|~w))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+w&4294967295,S.g[1]=S.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+N&4294967295,S.g[3]=S.g[3]+L&4294967295}r.prototype.u=function(S,w){w===void 0&&(w=S.length);for(var b=w-this.blockSize,R=this.B,N=this.h,L=0;L<w;){if(N==0)for(;L<=b;)i(this,S,L),L+=this.blockSize;if(typeof S=="string"){for(;L<w;)if(R[N++]=S.charCodeAt(L++),N==this.blockSize){i(this,R),N=0;break}}else for(;L<w;)if(R[N++]=S[L++],N==this.blockSize){i(this,R),N=0;break}}this.h=N,this.o+=w},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var w=1;w<S.length-8;++w)S[w]=0;var b=8*this.o;for(w=S.length-8;w<S.length;++w)S[w]=b&255,b/=256;for(this.u(S),S=Array(16),w=b=0;4>w;++w)for(var R=0;32>R;R+=8)S[b++]=this.g[w]>>>R&255;return S};function s(S,w){var b=l;return Object.prototype.hasOwnProperty.call(b,S)?b[S]:b[S]=w(S)}function o(S,w){this.h=w;for(var b=[],R=!0,N=S.length-1;0<=N;N--){var L=S[N]|0;R&&L==w||(b[N]=L,R=!1)}this.g=b}var l={};function u(S){return-128<=S&&128>S?s(S,function(w){return new o([w|0],0>w?-1:0)}):new o([S|0],0>S?-1:0)}function h(S){if(isNaN(S)||!isFinite(S))return g;if(0>S)return O(h(-S));for(var w=[],b=1,R=0;S>=b;R++)w[R]=S/b|0,b*=4294967296;return new o(w,0)}function p(S,w){if(S.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(S.charAt(0)=="-")return O(p(S.substring(1),w));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=h(Math.pow(w,8)),R=g,N=0;N<S.length;N+=8){var L=Math.min(8,S.length-N),k=parseInt(S.substring(N,N+L),w);8>L?(L=h(Math.pow(w,L)),R=R.j(L).add(h(k))):(R=R.j(b),R=R.add(h(k)))}return R}var g=u(0),y=u(1),C=u(16777216);t=o.prototype,t.m=function(){if(x(this))return-O(this).m();for(var S=0,w=1,b=0;b<this.g.length;b++){var R=this.i(b);S+=(0<=R?R:4294967296+R)*w,w*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P(this))return"0";if(x(this))return"-"+O(this).toString(S);for(var w=h(Math.pow(S,6)),b=this,R="";;){var N=F(b,w).g;b=I(b,N.j(w));var L=((0<b.g.length?b.g[0]:b.h)>>>0).toString(S);if(b=N,P(b))return L+R;for(;6>L.length;)L="0"+L;R=L+R}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function P(S){if(S.h!=0)return!1;for(var w=0;w<S.g.length;w++)if(S.g[w]!=0)return!1;return!0}function x(S){return S.h==-1}t.l=function(S){return S=I(this,S),x(S)?-1:P(S)?0:1};function O(S){for(var w=S.g.length,b=[],R=0;R<w;R++)b[R]=~S.g[R];return new o(b,~S.h).add(y)}t.abs=function(){return x(this)?O(this):this},t.add=function(S){for(var w=Math.max(this.g.length,S.g.length),b=[],R=0,N=0;N<=w;N++){var L=R+(this.i(N)&65535)+(S.i(N)&65535),k=(L>>>16)+(this.i(N)>>>16)+(S.i(N)>>>16);R=k>>>16,L&=65535,k&=65535,b[N]=k<<16|L}return new o(b,b[b.length-1]&-2147483648?-1:0)};function I(S,w){return S.add(O(w))}t.j=function(S){if(P(this)||P(S))return g;if(x(this))return x(S)?O(this).j(O(S)):O(O(this).j(S));if(x(S))return O(this.j(O(S)));if(0>this.l(C)&&0>S.l(C))return h(this.m()*S.m());for(var w=this.g.length+S.g.length,b=[],R=0;R<2*w;R++)b[R]=0;for(R=0;R<this.g.length;R++)for(var N=0;N<S.g.length;N++){var L=this.i(R)>>>16,k=this.i(R)&65535,Ve=S.i(N)>>>16,It=S.i(N)&65535;b[2*R+2*N]+=k*It,v(b,2*R+2*N),b[2*R+2*N+1]+=L*It,v(b,2*R+2*N+1),b[2*R+2*N+1]+=k*Ve,v(b,2*R+2*N+1),b[2*R+2*N+2]+=L*Ve,v(b,2*R+2*N+2)}for(R=0;R<w;R++)b[R]=b[2*R+1]<<16|b[2*R];for(R=w;R<2*w;R++)b[R]=0;return new o(b,0)};function v(S,w){for(;(S[w]&65535)!=S[w];)S[w+1]+=S[w]>>>16,S[w]&=65535,w++}function A(S,w){this.g=S,this.h=w}function F(S,w){if(P(w))throw Error("division by zero");if(P(S))return new A(g,g);if(x(S))return w=F(O(S),w),new A(O(w.g),O(w.h));if(x(w))return w=F(S,O(w)),new A(O(w.g),w.h);if(30<S.g.length){if(x(S)||x(w))throw Error("slowDivide_ only works with positive integers.");for(var b=y,R=w;0>=R.l(S);)b=Q(b),R=Q(R);var N=H(b,1),L=H(R,1);for(R=H(R,2),b=H(b,2);!P(R);){var k=L.add(R);0>=k.l(S)&&(N=N.add(b),L=k),R=H(R,1),b=H(b,1)}return w=I(S,N.j(w)),new A(N,w)}for(N=g;0<=S.l(w);){for(b=Math.max(1,Math.floor(S.m()/w.m())),R=Math.ceil(Math.log(b)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),L=h(b),k=L.j(w);x(k)||0<k.l(S);)b-=R,L=h(b),k=L.j(w);P(L)&&(L=y),N=N.add(L),S=I(S,k)}return new A(N,S)}t.A=function(S){return F(this,S).h},t.and=function(S){for(var w=Math.max(this.g.length,S.g.length),b=[],R=0;R<w;R++)b[R]=this.i(R)&S.i(R);return new o(b,this.h&S.h)},t.or=function(S){for(var w=Math.max(this.g.length,S.g.length),b=[],R=0;R<w;R++)b[R]=this.i(R)|S.i(R);return new o(b,this.h|S.h)},t.xor=function(S){for(var w=Math.max(this.g.length,S.g.length),b=[],R=0;R<w;R++)b[R]=this.i(R)^S.i(R);return new o(b,this.h^S.h)};function Q(S){for(var w=S.g.length+1,b=[],R=0;R<w;R++)b[R]=S.i(R)<<1|S.i(R-1)>>>31;return new o(b,S.h)}function H(S,w){var b=w>>5;w%=32;for(var R=S.g.length-b,N=[],L=0;L<R;L++)N[L]=0<w?S.i(L+b)>>>w|S.i(L+b+1)<<32-w:S.i(L+b);return new o(N,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,FS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=p,No=o}).apply(typeof Ww<"u"?Ww:typeof self<"u"?self:typeof window<"u"?window:{});var Rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $S,gu,jS,ed,Cg,US,BS,zS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,m){return a==Array.prototype||a==Object.prototype||(a[d]=m.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rh=="object"&&Rh];for(var d=0;d<a.length;++d){var m=a[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var m=r;a=a.split(".");for(var T=0;T<a.length-1;T++){var M=a[T];if(!(M in m))break e;m=m[M]}a=a[a.length-1],T=m[a],d=d(T),d!=T&&d!=null&&e(m,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var m=0,T=!1,M={next:function(){if(!T&&m<a.length){var z=m++;return{value:d(z,a[z]),done:!1}}return T=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function h(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function p(a,d,m){return a.call.apply(a.bind,arguments)}function g(a,d,m){if(!a)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,T),a.apply(d,M)}}return function(){return a.apply(d,arguments)}}function y(a,d,m){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,y.apply(null,arguments)}function C(a,d){var m=Array.prototype.slice.call(arguments,1);return function(){var T=m.slice();return T.push.apply(T,arguments),a.apply(this,T)}}function P(a,d){function m(){}m.prototype=d.prototype,a.aa=d.prototype,a.prototype=new m,a.prototype.constructor=a,a.Qb=function(T,M,z){for(var J=Array(arguments.length-2),He=2;He<arguments.length;He++)J[He-2]=arguments[He];return d.prototype[M].apply(T,J)}}function x(a){const d=a.length;if(0<d){const m=Array(d);for(let T=0;T<d;T++)m[T]=a[T];return m}return[]}function O(a,d){for(let m=1;m<arguments.length;m++){const T=arguments[m];if(u(T)){const M=a.length||0,z=T.length||0;a.length=M+z;for(let J=0;J<z;J++)a[M+J]=T[J]}else a.push(T)}}class I{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function v(a){return/^[\s\xa0]*$/.test(a)}function A(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function F(a){return F[" "](a),a}F[" "]=function(){};var Q=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function H(a,d,m){for(const T in a)d.call(m,a[T],T,a)}function S(a,d){for(const m in a)d.call(void 0,a[m],m,a)}function w(a){const d={};for(const m in a)d[m]=a[m];return d}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(a,d){let m,T;for(let M=1;M<arguments.length;M++){T=arguments[M];for(m in T)a[m]=T[m];for(let z=0;z<b.length;z++)m=b[z],Object.prototype.hasOwnProperty.call(T,m)&&(a[m]=T[m])}}function N(a){var d=1;a=a.split(":");const m=[];for(;0<d&&a.length;)m.push(a.shift()),d--;return a.length&&m.push(a.join(":")),m}function L(a){l.setTimeout(()=>{throw a},0)}function k(){var a=ce;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Ve{constructor(){this.h=this.g=null}add(d,m){const T=It.get();T.set(d,m),this.h?this.h.next=T:this.g=T,this.h=T}}var It=new I(()=>new ln,a=>a.reset());class ln{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,X=!1,ce=new Ve,j=()=>{const a=l.Promise.resolve(void 0);ot=()=>{a.then(Ae)}};var Ae=()=>{for(var a;a=k();){try{a.h.call(a.g)}catch(m){L(m)}var d=It;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}X=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ie(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Ie.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const m=()=>{};l.addEventListener("test",m,d),l.removeEventListener("test",m,d)}catch{}return a}();function Me(a,d){if(Ie.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var m=this.type=a.type,T=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Q){e:{try{F(d.nodeName);var M=!0;break e}catch{}M=!1}M||(d=null)}}else m=="mouseover"?d=a.fromElement:m=="mouseout"&&(d=a.toElement);this.relatedTarget=d,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:$e[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Me.aa.h.call(this)}}P(Me,Ie);var $e={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var dt="closure_listenable_"+(1e6*Math.random()|0),ue=0;function ni(a,d,m,T,M){this.listener=a,this.proxy=null,this.src=d,this.type=m,this.capture=!!T,this.ha=M,this.key=++ue,this.da=this.fa=!1}function Or(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Dr(a){this.src=a,this.g={},this.h=0}Dr.prototype.add=function(a,d,m,T,M){var z=a.toString();a=this.g[z],a||(a=this.g[z]=[],this.h++);var J=Gn(a,d,T,M);return-1<J?(d=a[J],m||(d.fa=!1)):(d=new ni(d,this.src,z,!!T,M),d.fa=m,a.push(d)),d};function Ks(a,d){var m=d.type;if(m in a.g){var T=a.g[m],M=Array.prototype.indexOf.call(T,d,void 0),z;(z=0<=M)&&Array.prototype.splice.call(T,M,1),z&&(Or(d),a.g[m].length==0&&(delete a.g[m],a.h--))}}function Gn(a,d,m,T){for(var M=0;M<a.length;++M){var z=a[M];if(!z.da&&z.listener==d&&z.capture==!!m&&z.ha==T)return M}return-1}var Bi="closure_lm_"+(1e6*Math.random()|0),cr={};function hr(a,d,m,T,M){if(Array.isArray(d)){for(var z=0;z<d.length;z++)hr(a,d[z],m,T,M);return null}return m=le(m),a&&a[dt]?a.K(d,m,h(T)?!!T.capture:!!T,M):Pl(a,d,m,!1,T,M)}function Pl(a,d,m,T,M,z){if(!d)throw Error("Invalid event type");var J=h(M)?!!M.capture:!!M,He=te(a);if(He||(a[Bi]=He=new Dr(a)),m=He.add(d,m,T,J,z),m.proxy)return m;if(T=xl(),m.proxy=T,T.src=a,T.listener=m,a.addEventListener)xe||(M=J),M===void 0&&(M=!1),a.addEventListener(d.toString(),T,M);else if(a.attachEvent)a.attachEvent(na(d.toString()),T);else if(a.addListener&&a.removeListener)a.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return m}function xl(){function a(m){return d.call(a.src,a.listener,m)}const d=U;return a}function zi(a,d,m,T,M){if(Array.isArray(d))for(var z=0;z<d.length;z++)zi(a,d[z],m,T,M);else T=h(T)?!!T.capture:!!T,m=le(m),a&&a[dt]?(a=a.i,d=String(d).toString(),d in a.g&&(z=a.g[d],m=Gn(z,m,T,M),-1<m&&(Or(z[m]),Array.prototype.splice.call(z,m,1),z.length==0&&(delete a.g[d],a.h--)))):a&&(a=te(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Gn(d,m,T,M)),(m=-1<a?d[a]:null)&&Qs(m))}function Qs(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[dt])Ks(d.i,a);else{var m=a.type,T=a.proxy;d.removeEventListener?d.removeEventListener(m,T,a.capture):d.detachEvent?d.detachEvent(na(m),T):d.addListener&&d.removeListener&&d.removeListener(T),(m=te(d))?(Ks(m,a),m.h==0&&(m.src=null,d[Bi]=null)):Or(a)}}}function na(a){return a in cr?cr[a]:cr[a]="on"+a}function U(a,d){if(a.da)a=!0;else{d=new Me(d,this);var m=a.listener,T=a.ha||a.src;a.fa&&Qs(a),a=m.call(T,d)}return a}function te(a){return a=a[Bi],a instanceof Dr?a:null}var ie="__closure_events_fn_"+(1e9*Math.random()>>>0);function le(a){return typeof a=="function"?a:(a[ie]||(a[ie]=function(d){return a.handleEvent(d)}),a[ie])}function he(){me.call(this),this.i=new Dr(this),this.M=this,this.F=null}P(he,me),he.prototype[dt]=!0,he.prototype.removeEventListener=function(a,d,m,T){zi(this,a,d,m,T)};function fe(a,d){var m,T=a.F;if(T)for(m=[];T;T=T.F)m.push(T);if(a=a.M,T=d.type||d,typeof d=="string")d=new Ie(d,a);else if(d instanceof Ie)d.target=d.target||a;else{var M=d;d=new Ie(T,a),R(d,M)}if(M=!0,m)for(var z=m.length-1;0<=z;z--){var J=d.g=m[z];M=ze(J,T,!0,d)&&M}if(J=d.g=a,M=ze(J,T,!0,d)&&M,M=ze(J,T,!1,d)&&M,m)for(z=0;z<m.length;z++)J=d.g=m[z],M=ze(J,T,!1,d)&&M}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var m=a.g[d],T=0;T<m.length;T++)Or(m[T]);delete a.g[d],a.h--}}this.F=null},he.prototype.K=function(a,d,m,T){return this.i.add(String(a),d,!1,m,T)},he.prototype.L=function(a,d,m,T){return this.i.add(String(a),d,!0,m,T)};function ze(a,d,m,T){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var M=!0,z=0;z<d.length;++z){var J=d[z];if(J&&!J.da&&J.capture==m){var He=J.listener,Pt=J.ha||J.src;J.fa&&Ks(a.i,J),M=He.call(Pt,T)!==!1&&M}}return M&&!T.defaultPrevented}function Rt(a,d,m){if(typeof a=="function")m&&(a=y(a,m));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function dr(a){a.g=Rt(()=>{a.g=null,a.i&&(a.i=!1,dr(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class Ys extends me{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:dr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fr(a){me.call(this),this.h=a,this.g={}}P(fr,me);var Nl=[];function Xs(a){H(a.g,function(d,m){this.g.hasOwnProperty(m)&&Qs(d)},a),a.g={}}fr.prototype.N=function(){fr.aa.N.call(this),Xs(this)},fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Js=l.JSON.stringify,fp=l.JSON.parse,pp=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Ol(){}Ol.prototype.h=null;function Dl(a){return a.h||(a.h=a.i())}function Zs(){}var qi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ra(){Ie.call(this,"d")}P(ra,Ie);function Ll(){Ie.call(this,"c")}P(Ll,Ie);var ri={},Lc=null;function ia(){return Lc=Lc||new he}ri.La="serverreachability";function ii(a){Ie.call(this,ri.La,a)}P(ii,Ie);function pr(a){const d=ia();fe(d,new ii(d))}ri.STAT_EVENT="statevent";function Vc(a,d){Ie.call(this,ri.STAT_EVENT,a),this.stat=d}P(Vc,Ie);function Bt(a){const d=ia();fe(d,new Vc(d,a))}ri.Ma="timingevent";function Mc(a,d){Ie.call(this,ri.Ma,a),this.size=d}P(Mc,Ie);function eo(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function to(){this.g=!0}to.prototype.xa=function(){this.g=!1};function Vl(a,d,m,T,M,z){a.info(function(){if(a.g)if(z)for(var J="",He=z.split("&"),Pt=0;Pt<He.length;Pt++){var Oe=He[Pt].split("=");if(1<Oe.length){var Ye=Oe[0];Oe=Oe[1];var xt=Ye.split("_");J=2<=xt.length&&xt[1]=="type"?J+(Ye+"="+Oe+"&"):J+(Ye+"=redacted&")}}else J=null;else J=z;return"XMLHTTP REQ ("+T+") [attempt "+M+"]: "+d+`
`+m+`
`+J})}function Hi(a,d,m,T,M,z,J){a.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+M+"]: "+d+`
`+m+`
`+z+" "+J})}function mr(a,d,m,T){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+Ml(a,m)+(T?" "+T:"")})}function mp(a,d){a.info(function(){return"TIMEOUT: "+d})}to.prototype.info=function(){};function Ml(a,d){if(!a.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(a=0;a<m.length;a++)if(Array.isArray(m[a])){var T=m[a];if(!(2>T.length)){var M=T[1];if(Array.isArray(M)&&!(1>M.length)){var z=M[0];if(z!="noop"&&z!="stop"&&z!="close")for(var J=1;J<M.length;J++)M[J]=""}}}}return Js(m)}catch{return d}}var sa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Lr;function St(){}P(St,Ol),St.prototype.g=function(){return new XMLHttpRequest},St.prototype.i=function(){return{}},Lr=new St;function yt(a,d,m,T){this.j=a,this.i=d,this.l=m,this.R=T||1,this.U=new fr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qt}function Qt(){this.i=null,this.g="",this.h=!1}var Lt={},Wi={};function Vr(a,d,m){a.L=1,a.v=Ki(Nn(d)),a.m=m,a.P=!0,Mr(a,null)}function Mr(a,d){a.F=Date.now(),Gi(a),a.A=Nn(a.v);var m=a.A,T=a.R;Array.isArray(T)||(T=[String(T)]),Hl(m.i,"t",T),a.C=0,m=a.j.J,a.h=new Qt,a.g=Zc(a.j,m?d:null,!a.m),0<a.O&&(a.M=new Ys(y(a.Y,a,a.g),a.O)),d=a.U,m=a.g,T=a.ca;var M="readystatechange";Array.isArray(M)||(M&&(Nl[0]=M.toString()),M=Nl);for(var z=0;z<M.length;z++){var J=hr(m,M[z],T||d.handleEvent,!1,d.h||d);if(!J)break;d.g[J.key]=J}d=a.H?w(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),pr(),Vl(a.i,a.u,a.A,a.l,a.R,a.m)}yt.prototype.ca=function(a){a=a.target;const d=this.M;d&&Xn(a)==3?d.j():this.Y(a)},yt.prototype.Y=function(a){try{if(a==this.g)e:{const xt=Xn(this.g);var d=this.g.Ba();const ci=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||Ql(this.g)))){this.J||xt!=4||d==7||(d==8||0>=ci?pr(3):pr(2)),oa(this);var m=this.g.Z();this.X=m;t:if(si(this)){var T=Ql(this.g);a="";var M=T.length,z=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gr(this),ai(this);var J="";break t}this.h.i=new l.TextDecoder}for(d=0;d<M;d++)this.h.h=!0,a+=this.h.i.decode(T[d],{stream:!(z&&d==M-1)});T.length=0,this.h.g+=a,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=m==200,Hi(this.i,this.u,this.A,this.l,this.R,xt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Pt=this.g;if((He=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(He)){var Oe=He;break t}}Oe=null}if(m=Oe)mr(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,aa(this,m);else{this.o=!1,this.s=3,Bt(12),gr(this),ai(this);break e}}if(this.P){m=!0;let En;for(;!this.J&&this.C<J.length;)if(En=$c(this,J),En==Wi){xt==4&&(this.s=4,Bt(14),m=!1),mr(this.i,this.l,null,"[Incomplete Response]");break}else if(En==Lt){this.s=4,Bt(15),mr(this.i,this.l,J,"[Invalid Chunk]"),m=!1;break}else mr(this.i,this.l,En,null),aa(this,En);if(si(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||J.length!=0||this.h.h||(this.s=1,Bt(16),m=!1),this.o=this.o&&m,!m)mr(this.i,this.l,J,"[Invalid Chunked Response]"),gr(this),ai(this);else if(0<J.length&&!this.W){this.W=!0;var Ye=this.j;Ye.g==this&&Ye.ba&&!Ye.M&&(Ye.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),ya(Ye),Ye.M=!0,Bt(11))}}else mr(this.i,this.l,J,null),aa(this,J);xt==4&&gr(this),this.o&&!this.J&&(xt==4?_a(this.j,this):(this.o=!1,Gi(this)))}else Hc(this.g),m==400&&0<J.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),gr(this),ai(this)}}}catch{}finally{}};function si(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function $c(a,d){var m=a.C,T=d.indexOf(`
`,m);return T==-1?Wi:(m=Number(d.substring(m,T)),isNaN(m)?Lt:(T+=1,T+m>d.length?Wi:(d=d.slice(T,T+m),a.C=T+m,d)))}yt.prototype.cancel=function(){this.J=!0,gr(this)};function Gi(a){a.S=Date.now()+a.I,oi(a,a.I)}function oi(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=eo(y(a.ba,a),d)}function oa(a){a.B&&(l.clearTimeout(a.B),a.B=null)}yt.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(mp(this.i,this.A),this.L!=2&&(pr(),Bt(17)),gr(this),this.s=2,ai(this)):oi(this,this.S-a)};function ai(a){a.j.G==0||a.J||_a(a.j,a)}function gr(a){oa(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Xs(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function aa(a,d){try{var m=a.j;if(m.G!=0&&(m.g==a||la(m.h,a))){if(!a.K&&la(m.h,a)&&m.G==3){try{var T=m.Da.g.parse(d)}catch{T=null}if(Array.isArray(T)&&T.length==3){var M=T;if(M[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<a.F)Jn(m),lo(m);else break e;uo(m),Bt(18)}}else m.za=M[1],0<m.za-m.T&&37500>M[2]&&m.F&&m.v==0&&!m.C&&(m.C=eo(y(m.Za,m),6e3));if(1>=jl(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Ur(m,11)}else if((a.K||m.g==a)&&Jn(m),!v(d))for(M=m.Da.g.parse(d),d=0;d<M.length;d++){let Oe=M[d];if(m.T=Oe[0],Oe=Oe[1],m.G==2)if(Oe[0]=="c"){m.K=Oe[1],m.ia=Oe[2];const Ye=Oe[3];Ye!=null&&(m.la=Ye,m.j.info("VER="+m.la));const xt=Oe[4];xt!=null&&(m.Aa=xt,m.j.info("SVER="+m.Aa));const ci=Oe[5];ci!=null&&typeof ci=="number"&&0<ci&&(T=1.5*ci,m.L=T,m.j.info("backChannelRequestTimeoutMs_="+T)),T=m;const En=a.g;if(En){const va=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(va){var z=T.h;z.g||va.indexOf("spdy")==-1&&va.indexOf("quic")==-1&&va.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(ua(z,z.h),z.h=null))}if(T.D){const Zl=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;Zl&&(T.ya=Zl,je(T.I,T.D,Zl))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-a.F,m.j.info("Handshake RTT: "+m.R+"ms")),T=m;var J=a;if(T.qa=Jc(T,T.J?T.ia:null,T.W),J.K){Ul(T.h,J);var He=J,Pt=T.L;Pt&&(He.I=Pt),He.B&&(oa(He),Gi(He)),T.g=J}else Qc(T);0<m.i.length&&ga(m)}else Oe[0]!="stop"&&Oe[0]!="close"||Ur(m,7);else m.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?Ur(m,7):ao(m):Oe[0]!="noop"&&m.l&&m.l.ta(Oe),m.v=0)}}pr(4)}catch{}}var jc=class{constructor(a,d){this.g=a,this.map=d}};function Fl(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $l(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function jl(a){return a.h?1:a.g?a.g.size:0}function la(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function ua(a,d){a.g?a.g.add(d):a.h=d}function Ul(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Fl.prototype.cancel=function(){if(this.i=Bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Bl(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const m of a.g.values())d=d.concat(m.D);return d}return x(a.i)}function Uc(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],m=a.length,T=0;T<m;T++)d.push(a[T]);return d}d=[],m=0;for(T in a)d[m++]=a[T];return d}function Kn(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var m=0;m<a;m++)d.push(m);return d}d=[],m=0;for(const T in a)d[m++]=T;return d}}}function Yt(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var m=Kn(a),T=Uc(a),M=T.length,z=0;z<M;z++)d.call(void 0,T[z],m&&m[z],a)}var Fr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _n(a,d){if(a){a=a.split("&");for(var m=0;m<a.length;m++){var T=a[m].indexOf("="),M=null;if(0<=T){var z=a[m].substring(0,T);M=a[m].substring(T+1)}else z=a[m];d(z,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function yr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof yr){this.h=a.h,un(this,a.j),this.o=a.o,this.g=a.g,Qn(this,a.s),this.l=a.l;var d=a.i,m=new Yi;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),no(this,m),this.m=a.m}else a&&(d=String(a).match(Fr))?(this.h=!1,un(this,d[1]||"",!0),this.o=Qi(d[2]||""),this.g=Qi(d[3]||"",!0),Qn(this,d[4]),this.l=Qi(d[5]||"",!0),no(this,d[6]||"",!0),this.m=Qi(d[7]||"")):(this.h=!1,this.i=new Yi(null,this.h))}yr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Yn(d,ql,!0),":");var m=this.g;return(m||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Yn(d,ql,!0),"@"),a.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&a.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(Yn(m,m.charAt(0)=="/"?gp:_r,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",Yn(m,ca)),a.join("")};function Nn(a){return new yr(a)}function un(a,d,m){a.j=m?Qi(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Qn(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function no(a,d,m){d instanceof Yi?(a.i=d,Bc(a.i,a.h)):(m||(d=Yn(d,$r)),a.i=new Yi(d,a.h))}function je(a,d,m){a.i.set(d,m)}function Ki(a){return je(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Qi(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Yn(a,d,m){return typeof a=="string"?(a=encodeURI(a).replace(d,zl),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function zl(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ql=/[#\/\?@]/g,_r=/[#\?:]/g,gp=/[#\?]/g,$r=/[#\?@]/g,ca=/#/g;function Yi(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function vn(a){a.g||(a.g=new Map,a.h=0,a.i&&_n(a.i,function(d,m){a.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}t=Yi.prototype,t.add=function(a,d){vn(this),this.i=null,a=li(this,a);var m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(d),this.h+=1,this};function ha(a,d){vn(a),d=li(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function Xi(a,d){return vn(a),d=li(a,d),a.g.has(d)}t.forEach=function(a,d){vn(this),this.g.forEach(function(m,T){m.forEach(function(M){a.call(d,M,T,this)},this)},this)},t.na=function(){vn(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let T=0;T<d.length;T++){const M=a[T];for(let z=0;z<M.length;z++)m.push(d[T])}return m},t.V=function(a){vn(this);let d=[];if(typeof a=="string")Xi(this,a)&&(d=d.concat(this.g.get(li(this,a))));else{a=Array.from(this.g.values());for(let m=0;m<a.length;m++)d=d.concat(a[m])}return d},t.set=function(a,d){return vn(this),this.i=null,a=li(this,a),Xi(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function Hl(a,d,m){ha(a,d),0<m.length&&(a.i=null,a.g.set(li(a,d),x(m)),a.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var T=d[m];const z=encodeURIComponent(String(T)),J=this.V(T);for(T=0;T<J.length;T++){var M=z;J[T]!==""&&(M+="="+encodeURIComponent(String(J[T]))),a.push(M)}}return this.i=a.join("&")};function li(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function Bc(a,d){d&&!a.j&&(vn(a),a.i=null,a.g.forEach(function(m,T){var M=T.toLowerCase();T!=M&&(ha(this,T),Hl(this,M,m))},a)),a.j=d}function Ji(a,d){const m=new to;if(l.Image){const T=new Image;T.onload=C(vr,m,"TestLoadImage: loaded",!0,d,T),T.onerror=C(vr,m,"TestLoadImage: error",!1,d,T),T.onabort=C(vr,m,"TestLoadImage: abort",!1,d,T),T.ontimeout=C(vr,m,"TestLoadImage: timeout",!1,d,T),l.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=a}else d(!1)}function yp(a,d){const m=new to,T=new AbortController,M=setTimeout(()=>{T.abort(),vr(m,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:T.signal}).then(z=>{clearTimeout(M),z.ok?vr(m,"TestPingServer: ok",!0,d):vr(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(M),vr(m,"TestPingServer: error",!1,d)})}function vr(a,d,m,T,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),T(m)}catch{}}function Wl(){this.g=new pp}function da(a,d,m){const T=m||"";try{Yt(a,function(M,z){let J=M;h(M)&&(J=Js(M)),d.push(T+z+"="+encodeURIComponent(J))})}catch(M){throw d.push(T+"type="+encodeURIComponent("_badmap")),M}}function Zi(a){this.l=a.Ub||null,this.j=a.eb||!1}P(Zi,Ol),Zi.prototype.g=function(){return new fa(this.l,this.j)},Zi.prototype.i=function(a){return function(){return a}}({});function fa(a,d){he.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(fa,he),t=fa.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,es(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,io(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,es(this)),this.g&&(this.readyState=3,es(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ro(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function ro(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?io(this):es(this),this.readyState==3&&ro(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,io(this))},t.Qa=function(a){this.g&&(this.response=a,io(this))},t.ga=function(){this.g&&io(this)};function io(a){a.readyState=4,a.l=null,a.j=null,a.v=null,es(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=d.next();return a.join(`\r
`)};function es(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function pa(a){let d="";return H(a,function(m,T){d+=T,d+=":",d+=m,d+=`\r
`}),d}function so(a,d,m){e:{for(T in m){var T=!1;break e}T=!0}T||(m=pa(m),typeof a=="string"?m!=null&&encodeURIComponent(String(m)):je(a,d,m))}function tt(a){he.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(tt,he);var zc=/^https?$/i,oo=["POST","PUT"];t=tt.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,m,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Lr.g(),this.v=this.o?Dl(this.o):Dl(Lr),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(z){ma(this,z);return}if(a=m||"",m=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var M in T)m.set(M,T[M]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const z of T.keys())m.set(z,T.get(z));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(m.keys()).find(z=>z.toLowerCase()=="content-type"),M=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(oo,d,void 0))||T||M||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,J]of m)this.g.setRequestHeader(z,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qc(this),this.u=!0,this.g.send(a),this.u=!1}catch(z){ma(this,z)}};function ma(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,Gl(a),wr(a)}function Gl(a){a.A||(a.A=!0,fe(a,"complete"),fe(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,fe(this,"complete"),fe(this,"abort"),wr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wr(this,!0)),tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Kl(this):this.bb())},t.bb=function(){Kl(this)};function Kl(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Xn(a)!=4||a.Z()!=2)){if(a.u&&Xn(a)==4)Rt(a.Ea,0,a);else if(fe(a,"readystatechange"),Xn(a)==4){a.h=!1;try{const J=a.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var T;if(T=J===0){var M=String(a.D).match(Fr)[1]||null;!M&&l.self&&l.self.location&&(M=l.self.location.protocol.slice(0,-1)),T=!zc.test(M?M.toLowerCase():"")}m=T}if(m)fe(a,"complete"),fe(a,"success");else{a.m=6;try{var z=2<Xn(a)?a.g.statusText:""}catch{z=""}a.l=z+" ["+a.Z()+"]",Gl(a)}}finally{wr(a)}}}}function wr(a,d){if(a.g){qc(a);const m=a.g,T=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||fe(a,"ready");try{m.onreadystatechange=T}catch{}}}function qc(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Xn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),fp(d)}};function Ql(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Hc(a){const d={};a=(a.g&&2<=Xn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<a.length;T++){if(v(a[T]))continue;var m=N(a[T]);const M=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const z=d[M]||[];d[M]=z,z.push(m)}S(d,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(a,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||d}function Yl(a){this.Aa=0,this.i=[],this.j=new to,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ts("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ts("baseRetryDelayMs",5e3,a),this.cb=ts("retryDelaySeedMs",1e4,a),this.Wa=ts("forwardChannelMaxRetries",2,a),this.wa=ts("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Fl(a&&a.concurrentRequestLimit),this.Da=new Wl,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Yl.prototype,t.la=8,t.G=1,t.connect=function(a,d,m,T){Bt(0),this.W=a,this.H=d||{},m&&T!==void 0&&(this.H.OSID=m,this.H.OAID=T),this.F=this.X,this.I=Jc(this,null,this.W),ga(this)};function ao(a){if(Wc(a),a.G==3){var d=a.U++,m=Nn(a.I);if(je(m,"SID",a.K),je(m,"RID",d),je(m,"TYPE","terminate"),jr(a,m),d=new yt(a,a.j,d),d.L=2,d.v=Ki(Nn(m)),m=!1,l.navigator&&l.navigator.sendBeacon)try{m=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!m&&l.Image&&(new Image().src=d.v,m=!0),m||(d.g=Zc(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Gi(d)}Xc(a)}function lo(a){a.g&&(ya(a),a.g.cancel(),a.g=null)}function Wc(a){lo(a),a.u&&(l.clearTimeout(a.u),a.u=null),Jn(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function ga(a){if(!$l(a.h)&&!a.s){a.s=!0;var d=a.Ga;ot||j(),X||(ot(),X=!0),ce.add(d,a),a.B=0}}function Gc(a,d){return jl(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=eo(y(a.Ga,a,d),Yc(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const M=new yt(this,this.j,a);let z=this.o;if(this.S&&(z?(z=w(z),R(z,this.S)):z=this.S),this.m!==null||this.O||(M.H=z,z=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var T=this.i[m];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(d+=T,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=Kc(this,M,d),m=Nn(this.I),je(m,"RID",a),je(m,"CVER",22),this.D&&je(m,"X-HTTP-Session-Id",this.D),jr(this,m),z&&(this.O?d="headers="+encodeURIComponent(String(pa(z)))+"&"+d:this.m&&so(m,this.m,z)),ua(this.h,M),this.Ua&&je(m,"TYPE","init"),this.P?(je(m,"$req",d),je(m,"SID","null"),M.T=!0,Vr(M,m,null)):Vr(M,m,d),this.G=2}}else this.G==3&&(a?Xl(this,a):this.i.length==0||$l(this.h)||Xl(this))};function Xl(a,d){var m;d?m=d.l:m=a.U++;const T=Nn(a.I);je(T,"SID",a.K),je(T,"RID",m),je(T,"AID",a.T),jr(a,T),a.m&&a.o&&so(T,a.m,a.o),m=new yt(a,a.j,m,a.B+1),a.m===null&&(m.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Kc(a,m,1e3),m.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),ua(a.h,m),Vr(m,T,d)}function jr(a,d){a.H&&H(a.H,function(m,T){je(d,T,m)}),a.l&&Yt({},function(m,T){je(d,T,m)})}function Kc(a,d,m){m=Math.min(a.i.length,m);var T=a.l?y(a.l.Na,a.l,a):null;e:{var M=a.i;let z=-1;for(;;){const J=["count="+m];z==-1?0<m?(z=M[0].g,J.push("ofs="+z)):z=0:J.push("ofs="+z);let He=!0;for(let Pt=0;Pt<m;Pt++){let Oe=M[Pt].g;const Ye=M[Pt].map;if(Oe-=z,0>Oe)z=Math.max(0,M[Pt].g-100),He=!1;else try{da(Ye,J,"req"+Oe+"_")}catch{T&&T(Ye)}}if(He){T=J.join("&");break e}}}return a=a.i.splice(0,m),d.D=a,T}function Qc(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;ot||j(),X||(ot(),X=!0),ce.add(d,a),a.v=0}}function uo(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=eo(y(a.Fa,a),Yc(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Jl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=eo(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),lo(this),Jl(this))};function ya(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Jl(a){a.g=new yt(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Nn(a.qa);je(d,"RID","rpc"),je(d,"SID",a.K),je(d,"AID",a.T),je(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&je(d,"TO",a.ja),je(d,"TYPE","xmlhttp"),jr(a,d),a.m&&a.o&&so(d,a.m,a.o),a.L&&(a.g.I=a.L);var m=a.g;a=a.ia,m.L=1,m.v=Ki(Nn(d)),m.m=null,m.P=!0,Mr(m,a)}t.Za=function(){this.C!=null&&(this.C=null,lo(this),uo(this),Bt(19))};function Jn(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function _a(a,d){var m=null;if(a.g==d){Jn(a),ya(a),a.g=null;var T=2}else if(la(a.h,d))m=d.D,Ul(a.h,d),T=1;else return;if(a.G!=0){if(d.o)if(T==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var M=a.B;T=ia(),fe(T,new Mc(T,m)),ga(a)}else Qc(a);else if(M=d.s,M==3||M==0&&0<d.X||!(T==1&&Gc(a,d)||T==2&&uo(a)))switch(m&&0<m.length&&(d=a.h,d.i=d.i.concat(m)),M){case 1:Ur(a,5);break;case 4:Ur(a,10);break;case 3:Ur(a,6);break;default:Ur(a,2)}}}function Yc(a,d){let m=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(m*=2),m*d}function Ur(a,d){if(a.j.info("Error code "+d),d==2){var m=y(a.fb,a),T=a.Xa;const M=!T;T=new yr(T||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||un(T,"https"),Ki(T),M?Ji(T.toString(),m):yp(T.toString(),m)}else Bt(2);a.G=0,a.l&&a.l.sa(d),Xc(a),Wc(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function Xc(a){if(a.G=0,a.ka=[],a.l){const d=Bl(a.h);(d.length!=0||a.i.length!=0)&&(O(a.ka,d),O(a.ka,a.i),a.h.i.length=0,x(a.i),a.i.length=0),a.l.ra()}}function Jc(a,d,m){var T=m instanceof yr?Nn(m):new yr(m);if(T.g!="")d&&(T.g=d+"."+T.g),Qn(T,T.s);else{var M=l.location;T=M.protocol,d=d?d+"."+M.hostname:M.hostname,M=+M.port;var z=new yr(null);T&&un(z,T),d&&(z.g=d),M&&Qn(z,M),m&&(z.l=m),T=z}return m=a.D,d=a.ya,m&&d&&je(T,m,d),je(T,"VER",a.la),jr(a,T),T}function Zc(a,d,m){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new tt(new Zi({eb:m})):new tt(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function eh(){}t=eh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function co(){}co.prototype.g=function(a,d){return new Xt(a,d)};function Xt(a,d){he.call(this),this.g=new Yl(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!v(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!v(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new wn(this)}P(Xt,he),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){ao(this.g)},Xt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.u&&(m={},m.__data__=Js(a),a=m);d.i.push(new jc(d.Ya++,a)),d.G==3&&ga(d)},Xt.prototype.N=function(){this.g.l=null,delete this.j,ao(this.g),delete this.g,Xt.aa.N.call(this)};function th(a){ra.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const m in d){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}P(th,ra);function ui(){Ll.call(this),this.status=1}P(ui,Ll);function wn(a){this.g=a}P(wn,eh),wn.prototype.ua=function(){fe(this.g,"a")},wn.prototype.ta=function(a){fe(this.g,new th(a))},wn.prototype.sa=function(a){fe(this.g,new ui)},wn.prototype.ra=function(){fe(this.g,"b")},co.prototype.createWebChannel=co.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,zS=function(){return new co},BS=function(){return ia()},US=ri,Cg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sa.NO_ERROR=0,sa.TIMEOUT=8,sa.HTTP_ERROR=6,ed=sa,Fc.COMPLETE="complete",jS=Fc,Zs.EventType=qi,qi.OPEN="a",qi.CLOSE="b",qi.ERROR="c",qi.MESSAGE="d",he.prototype.listen=he.prototype.K,gu=Zs,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,$S=tt}).apply(typeof Rh<"u"?Rh:typeof self<"u"?self:typeof window<"u"?window:{});const Gw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sl="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new e_("@firebase/firestore");function Aa(){return zo.logLevel}function re(t,...e){if(zo.logLevel<=Re.DEBUG){const n=e.map(p_);zo.debug(`Firestore (${Sl}): ${t}`,...n)}}function Di(t,...e){if(zo.logLevel<=Re.ERROR){const n=e.map(p_);zo.error(`Firestore (${Sl}): ${t}`,...n)}}function ul(t,...e){if(zo.logLevel<=Re.WARN){const n=e.map(p_);zo.warn(`Firestore (${Sl}): ${t}`,...n)}}function p_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${Sl}) INTERNAL ASSERTION FAILED: `+t;throw Di(e),new Error(e)}function qe(t,e){t||ge()}function Te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends $i{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class R2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tn.UNAUTHENTICATED))}shutdown(){}}class P2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class x2{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ci,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ci)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string"),new qS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new tn(e)}}class N2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class O2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new N2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class D2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){qe(this.o===void 0);const r=s=>{s.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string"),this.R=n.token,new D2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=V2(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Le(t,e){return t<e?-1:t>e?1:0}function cl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ee(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Dt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ve(e)}static min(){return new ve(new Dt(0,0))}static max(){return new ve(new Dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ic.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ic?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class it extends ic{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new it(n)}static emptyPath(){return new it([])}}const M2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends ic{construct(e,n,r){return new Ht(e,n,r)}static isValidIdentifier(e){return M2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ht(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ee(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ee(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ee(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new ee(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(it.fromString(e))}static fromName(e){return new de(it.fromString(e).popFirst(5))}static empty(){return new de(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new it(e.slice()))}}function F2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(r===1e9?new Dt(n+1,0):new Dt(n,r));return new Vs(i,de.empty(),e)}function $2(t){return new Vs(t.readTime,t.key,-1)}class Vs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Vs(ve.min(),de.empty(),-1)}static max(){return new Vs(ve.max(),de.empty(),-1)}}function j2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class B2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==U2)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):G.reject(n)}static resolve(e){return new G((n,r)=>{n(e)})}static reject(e){return new G((n,r)=>{r(e)})}static waitFor(e){return new G((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=G.resolve(!1);for(const r of e)n=n.next(i=>i?G.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new G((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;n(e[h]).next(p=>{o[h]=p,++l,l===s&&r(o)},p=>i(p))}})}static doWhile(e,n){return new G((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function z2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Cf.oe=-1;function kf(t){return t==null}function Bd(t){return t===0&&1/t==-1/0}function q2(t){return typeof t=="number"&&Number.isInteger(t)&&!Bd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Kw(e)),e=W2(t.get(n),e);return Kw(e)}function W2(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function Kw(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ph(this.root,e,this.comparator,!0)}}class Ph{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??qt.RED,this.left=i??qt.EMPTY,this.right=s??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new qt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,r,i,s){return this}insert(e,n,r){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yw(this.data.getIterator())}getIteratorFrom(e){return new Yw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class Yw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Fn([])}unionWith(e){let n=new jt(Ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new GS("Invalid base64 string: "+s):s}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const G2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ms(t){if(qe(!!t),typeof t=="string"){let e=0;const n=G2.exec(t);if(qe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fs(t){return typeof t=="string"?Kt.fromBase64String(t):Kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Pf(t){const e=t.mapValue.fields.__previous_value__;return Rf(e)?Pf(e):e}function sc(t){const e=Ms(t.mapValue.fields.__local_write_time__.timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n,r,i,s,o,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h}}class oc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new oc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof oc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $s(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Rf(t)?4:Y2(t)?9007199254740991:Q2(t)?10:11:ge()}function ei(t,e){if(t===e)return!0;const n=$s(t);if(n!==$s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sc(t).isEqual(sc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ms(i.timestampValue),l=Ms(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Fs(i.bytesValue).isEqual(Fs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Et(i.geoPointValue.latitude)===Et(s.geoPointValue.latitude)&&Et(i.geoPointValue.longitude)===Et(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Et(i.integerValue)===Et(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Et(i.doubleValue),l=Et(s.doubleValue);return o===l?Bd(o)===Bd(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return cl(t.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Qw(o)!==Qw(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!ei(o[u],l[u])))return!1;return!0}(t,e);default:return ge()}}function ac(t,e){return(t.values||[]).find(n=>ei(n,e))!==void 0}function hl(t,e){if(t===e)return 0;const n=$s(t),r=$s(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Et(s.integerValue||s.doubleValue),u=Et(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Xw(t.timestampValue,e.timestampValue);case 4:return Xw(sc(t),sc(e));case 5:return Le(t.stringValue,e.stringValue);case 6:return function(s,o){const l=Fs(s),u=Fs(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let h=0;h<l.length&&h<u.length;h++){const p=Le(l[h],u[h]);if(p!==0)return p}return Le(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Le(Et(s.latitude),Et(o.latitude));return l!==0?l:Le(Et(s.longitude),Et(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Jw(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,u,h,p;const g=s.fields||{},y=o.fields||{},C=(l=g.value)===null||l===void 0?void 0:l.arrayValue,P=(u=y.value)===null||u===void 0?void 0:u.arrayValue,x=Le(((h=C==null?void 0:C.values)===null||h===void 0?void 0:h.length)||0,((p=P==null?void 0:P.values)===null||p===void 0?void 0:p.length)||0);return x!==0?x:Jw(C,P)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===xh.mapValue&&o===xh.mapValue)return 0;if(s===xh.mapValue)return 1;if(o===xh.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=o.fields||{},p=Object.keys(h);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){const y=Le(u[g],p[g]);if(y!==0)return y;const C=hl(l[u[g]],h[p[g]]);if(C!==0)return C}return Le(u.length,p.length)}(t.mapValue,e.mapValue);default:throw ge()}}function Xw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=Ms(t),r=Ms(e),i=Le(n.seconds,r.seconds);return i!==0?i:Le(n.nanos,r.nanos)}function Jw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=hl(n[i],r[i]);if(s)return s}return Le(n.length,r.length)}function dl(t){return kg(t)}function kg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ms(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=kg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${kg(n.fields[o])}`;return i+"}"}(t.mapValue):ge()}function td(t){switch($s(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pf(t);return e?16+td(e):16;case 5:return 2*t.stringValue.length;case 6:return Fs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+td(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Hs(r.fields,(s,o)=>{i+=s.length+td(o)}),i}(t.mapValue);default:throw ge()}}function zd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Rg(t){return!!t&&"integerValue"in t}function m_(t){return!!t&&"arrayValue"in t}function Zw(t){return!!t&&"nullValue"in t}function eE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nd(t){return!!t&&"mapValue"in t}function Q2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Pu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Hs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Y2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pu(n)}setAll(e){let n=Ht.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Pu(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());nd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];nd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new bn(Pu(this.value))}}function KS(t){const e=[];return Hs(t.fields,(n,r)=>{const i=new Ht([n]);if(nd(r)){const s=KS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new rn(e,0,ve.min(),ve.min(),ve.min(),bn.empty(),0)}static newFoundDocument(e,n,r,i){return new rn(e,1,n,ve.min(),r,i,0)}static newNoDocument(e,n){return new rn(e,2,n,ve.min(),ve.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,ve.min(),ve.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n){this.position=e,this.inclusive=n}}function tE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=de.comparator(de.fromName(o.referenceValue),n.key):r=hl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function nE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ei(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n="asc"){this.field=e,this.dir=n}}function X2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{}class Ct extends QS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Z2(e,n,r):n==="array-contains"?new nL(e,r):n==="in"?new rL(e,r):n==="not-in"?new iL(e,r):n==="array-contains-any"?new sL(e,r):new Ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new eL(e,r):new tL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(hl(n,this.value)):n!==null&&$s(this.value)===$s(n)&&this.matchesComparison(hl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xr extends QS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new xr(e,n)}matches(e){return YS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function YS(t){return t.op==="and"}function XS(t){return J2(t)&&YS(t)}function J2(t){for(const e of t.filters)if(e instanceof xr)return!1;return!0}function Pg(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+dl(t.value);if(XS(t))return t.filters.map(e=>Pg(e)).join(",");{const e=t.filters.map(n=>Pg(n)).join(",");return`${t.op}(${e})`}}function JS(t,e){return t instanceof Ct?function(r,i){return i instanceof Ct&&r.op===i.op&&r.field.isEqual(i.field)&&ei(r.value,i.value)}(t,e):t instanceof xr?function(r,i){return i instanceof xr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&JS(o,i.filters[l]),!0):!1}(t,e):void ge()}function ZS(t){return t instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${dl(n.value)}`}(t):t instanceof xr?function(n){return n.op.toString()+" {"+n.getFilters().map(ZS).join(" ,")+"}"}(t):"Filter"}class Z2 extends Ct{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class eL extends Ct{constructor(e,n){super(e,"in",n),this.keys=eA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tL extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=eA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function eA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>de.fromName(r.referenceValue))}class nL extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return m_(n)&&ac(n.arrayValue,this.value)}}class rL extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ac(this.value.arrayValue,n)}}class iL extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ac(this.value.arrayValue,n)}}class sL extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!m_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ac(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function rE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new oL(t,e,n,r,i,s,o)}function g_(t){const e=Te(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Pg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),kf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>dl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>dl(r)).join(",")),e.ue=n}return e.ue}function y_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!X2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!JS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nE(t.startAt,e.startAt)&&nE(t.endAt,e.endAt)}function xg(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function aL(t,e,n,r,i,s,o,l){return new Go(t,e,n,r,i,s,o,l)}function __(t){return new Go(t)}function iE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function v_(t){return t.collectionGroup!==null}function Ja(t){const e=Te(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new jt(Ht.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new lc(s,r))}),n.has(Ht.keyField().canonicalString())||e.ce.push(new lc(Ht.keyField(),r))}return e.ce}function Xr(t){const e=Te(t);return e.le||(e.le=lL(e,Ja(t))),e.le}function lL(t,e){if(t.limitType==="F")return rE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new lc(i.field,s)});const n=t.endAt?new fl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fl(t.startAt.position,t.startAt.inclusive):null;return rE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ng(t,e){const n=t.filters.concat([e]);return new Go(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qd(t,e,n){return new Go(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xf(t,e){return y_(Xr(t),Xr(e))&&t.limitType===e.limitType}function tA(t){return`${g_(Xr(t))}|lt:${t.limitType}`}function ba(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ZS(i)).join(", ")}]`),kf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>dl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>dl(i)).join(",")),`Target(${r})`}(Xr(t))}; limitType=${t.limitType})`}function Nf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):de.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ja(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const h=tE(o,l,u);return o.inclusive?h<=0:h<0}(r.startAt,Ja(r),i)||r.endAt&&!function(o,l,u){const h=tE(o,l,u);return o.inclusive?h>=0:h>0}(r.endAt,Ja(r),i))}(t,e)}function uL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nA(t){return(e,n)=>{let r=!1;for(const i of Ja(t)){const s=cL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function cL(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),h=l.data.field(s);return u!==null&&h!==null?hl(u,h):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return WS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=new gt(de.comparator);function Li(){return hL}const rA=new gt(de.comparator);function yu(...t){let e=rA;for(const n of t)e=e.insert(n.key,n);return e}function iA(t){let e=rA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Co(){return xu()}function sA(){return xu()}function xu(){return new Ko(t=>t.toString(),(t,e)=>t.isEqual(e))}const dL=new gt(de.comparator),fL=new jt(de.comparator);function Pe(...t){let e=fL;for(const n of t)e=e.add(n);return e}const pL=new jt(Le);function mL(){return pL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bd(e)?"-0":e}}function oA(t){return{integerValue:""+t}}function gL(t,e){return q2(e)?oA(e):w_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(){this._=void 0}}function yL(t,e,n){return t instanceof Hd?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Rf(s)&&(s=Pf(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof uc?lA(t,e):t instanceof cc?uA(t,e):function(i,s){const o=aA(i,s),l=sE(o)+sE(i.Pe);return Rg(o)&&Rg(i.Pe)?oA(l):w_(i.serializer,l)}(t,e)}function _L(t,e,n){return t instanceof uc?lA(t,e):t instanceof cc?uA(t,e):n}function aA(t,e){return t instanceof Wd?function(r){return Rg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Hd extends Of{}class uc extends Of{constructor(e){super(),this.elements=e}}function lA(t,e){const n=cA(e);for(const r of t.elements)n.some(i=>ei(i,r))||n.push(r);return{arrayValue:{values:n}}}class cc extends Of{constructor(e){super(),this.elements=e}}function uA(t,e){let n=cA(e);for(const r of t.elements)n=n.filter(i=>!ei(i,r));return{arrayValue:{values:n}}}class Wd extends Of{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function sE(t){return Et(t.integerValue||t.doubleValue)}function cA(t){return m_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function vL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof uc&&i instanceof uc||r instanceof cc&&i instanceof cc?cl(r.elements,i.elements,ei):r instanceof Wd&&i instanceof Wd?ei(r.Pe,i.Pe):r instanceof Hd&&i instanceof Hd}(t.transform,e.transform)}class wL{constructor(e,n){this.version=e,this.transformResults=n}}class Rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rr}static exists(e){return new Rr(void 0,e)}static updateTime(e){return new Rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Df{}function hA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new E_(t.key,Rr.none()):new kc(t.key,t.data,Rr.none());{const n=t.data,r=bn.empty();let i=new jt(Ht.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ws(t.key,r,new Fn(i.toArray()),Rr.none())}}function EL(t,e,n){t instanceof kc?function(i,s,o){const l=i.value.clone(),u=aE(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ws?function(i,s,o){if(!rd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=aE(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(dA(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Nu(t,e,n,r){return t instanceof kc?function(s,o,l,u){if(!rd(s.precondition,o))return l;const h=s.value.clone(),p=lE(s.fieldTransforms,u,o);return h.setAll(p),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ws?function(s,o,l,u){if(!rd(s.precondition,o))return l;const h=lE(s.fieldTransforms,u,o),p=o.data;return p.setAll(dA(s)),p.setAll(h),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,l){return rd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function TL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=aA(r.transform,i||null);s!=null&&(n===null&&(n=bn.empty()),n.set(r.field,s))}return n||null}function oE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&cl(r,i,(s,o)=>vL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kc extends Df{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ws extends Df{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function dA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function aE(t,e,n){const r=new Map;qe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,_L(o,l,n[i]))}return r}function lE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,yL(s,o,e))}return r}class E_ extends Df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IL extends Df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&EL(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sA();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=hA(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&cl(this.mutations,e.mutations,(n,r)=>oE(n,r))&&cl(this.baseMutations,e.baseMutations,(n,r)=>oE(n,r))}}class T_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){qe(e.mutations.length===r.length);let i=function(){return dL}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new T_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,De;function CL(t){switch(t){default:return ge();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function fA(t){if(t===void 0)return Di("GRPC error has no .code"),W.UNKNOWN;switch(t){case At.OK:return W.OK;case At.CANCELLED:return W.CANCELLED;case At.UNKNOWN:return W.UNKNOWN;case At.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case At.INTERNAL:return W.INTERNAL;case At.UNAVAILABLE:return W.UNAVAILABLE;case At.UNAUTHENTICATED:return W.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case At.NOT_FOUND:return W.NOT_FOUND;case At.ALREADY_EXISTS:return W.ALREADY_EXISTS;case At.PERMISSION_DENIED:return W.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case At.ABORTED:return W.ABORTED;case At.OUT_OF_RANGE:return W.OUT_OF_RANGE;case At.UNIMPLEMENTED:return W.UNIMPLEMENTED;case At.DATA_LOSS:return W.DATA_LOSS;default:return ge()}}(De=At||(At={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=new No([4294967295,4294967295],0);function uE(t){const e=kL().encode(t),n=new FS;return n.update(e),new Uint8Array(n.digest())}function cE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new No([n,r],0),new No([i,s],0)]}class I_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _u(`Invalid padding: ${n}`);if(r<0)throw new _u(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _u(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _u(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=No.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(No.fromNumber(r)));return i.compare(RL)===1&&(i=new No([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=uE(e),[r,i]=cE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new I_(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=uE(e),[r,i]=cE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Rc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lf(ve.min(),i,new gt(Le),Li(),Pe())}}class Rc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rc(r,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class pA{constructor(e,n){this.targetId=e,this.me=n}}class mA{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class hE{constructor(){this.fe=0,this.ge=fE(),this.pe=Kt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Pe(),n=Pe(),r=Pe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new Rc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=fE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class PL{constructor(e){this.Le=e,this.Be=new Map,this.ke=Li(),this.qe=dE(),this.Qe=new gt(Le)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(xg(s))if(r===0){const o=new de(s.path);this.Ue(n,o,rn.newNoDocument(o,ve.min()))}else qe(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),u=l?this.Xe(l,e,o):1;if(u!==0){this.je(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=Fs(r).toUint8Array()}catch(u){if(u instanceof GS)return ul("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new I_(o,i,s)}catch(u){return ul(u instanceof _u?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&xg(l.target)){const u=new de(l.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,rn.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Pe();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const h=this.Je(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Lf(e,n,this.Qe,this.ke,r);return this.ke=Li(),this.qe=dE(),this.Qe=new gt(Le),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new hE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new jt(Le),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new hE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function dE(){return new gt(de.comparator)}function fE(){return new gt(de.comparator)}const xL={asc:"ASCENDING",desc:"DESCENDING"},NL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OL={and:"AND",or:"OR"};class DL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Og(t,e){return t.useProto3Json||kf(e)?e:{value:e}}function Gd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function LL(t,e){return Gd(t,e.toTimestamp())}function Jr(t){return qe(!!t),ve.fromTimestamp(function(n){const r=Ms(n);return new Dt(r.seconds,r.nanos)}(t))}function S_(t,e){return Dg(t,e).canonicalString()}function Dg(t,e){const n=function(i){return new it(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function yA(t){const e=it.fromString(t);return qe(TA(e)),e}function Lg(t,e){return S_(t.databaseId,e.path)}function hm(t,e){const n=yA(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(vA(n))}function _A(t,e){return S_(t.databaseId,e)}function VL(t){const e=yA(t);return e.length===4?it.emptyPath():vA(e)}function Vg(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vA(t){return qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function pE(t,e,n){return{name:Lg(t,e),fields:n.value.mapValue.fields}}function ML(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,p){return h.useProto3Json?(qe(p===void 0||typeof p=="string"),Kt.fromBase64String(p||"")):(qe(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Kt.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const p=h.code===void 0?W.UNKNOWN:fA(h.code);return new ee(p,h.message||"")}(o);n=new mA(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=hm(t,r.document.name),s=Jr(r.document.updateTime),o=r.document.createTime?Jr(r.document.createTime):ve.min(),l=new bn({mapValue:{fields:r.document.fields}}),u=rn.newFoundDocument(i,s,o,l),h=r.targetIds||[],p=r.removedTargetIds||[];n=new id(h,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=hm(t,r.document),s=r.readTime?Jr(r.readTime):ve.min(),o=rn.newNoDocument(i,s),l=r.removedTargetIds||[];n=new id([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=hm(t,r.document),s=r.removedTargetIds||[];n=new id([],s,i,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new bL(i,s),l=r.targetId;n=new pA(l,o)}}return n}function FL(t,e){let n;if(e instanceof kc)n={update:pE(t,e.key,e.value)};else if(e instanceof E_)n={delete:Lg(t,e.key)};else if(e instanceof Ws)n={update:pE(t,e.key,e.data),updateMask:GL(e.fieldMask)};else{if(!(e instanceof IL))return ge();n={verify:Lg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Hd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof uc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof cc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Wd)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:LL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ge()}(t,e.precondition)),n}function $L(t,e){return t&&t.length>0?(qe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Jr(i.updateTime):Jr(s);return o.isEqual(ve.min())&&(o=Jr(s)),new wL(o,i.transformResults||[])}(n,e))):[]}function jL(t,e){return{documents:[_A(t,e.path)]}}function UL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_A(t,i);const s=function(h){if(h.length!==0)return EA(xr.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(p=>function(y){return{field:Ca(y.field),direction:qL(y.dir)}}(p))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Og(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:i}}function BL(t){let e=VL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qe(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(g){const y=wA(g);return y instanceof xr&&XS(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(y=>function(P){return new lc(ka(P.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(y))}(n.orderBy));let l=null;n.limit&&(l=function(g){let y;return y=typeof g=="object"?g.value:g,kf(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(g){const y=!!g.before,C=g.values||[];return new fl(C,y)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const y=!g.before,C=g.values||[];return new fl(C,y)}(n.endAt)),aL(e,i,o,s,l,"F",u,h)}function zL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ka(n.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ka(n.unaryFilter.field);return Ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ka(n.unaryFilter.field);return Ct.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ka(n.unaryFilter.field);return Ct.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return Ct.create(ka(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xr.create(n.compositeFilter.filters.map(r=>wA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function qL(t){return xL[t]}function HL(t){return NL[t]}function WL(t){return OL[t]}function Ca(t){return{fieldPath:t.canonicalString()}}function ka(t){return Ht.fromServerFormat(t.fieldPath)}function EA(t){return t instanceof Ct?function(n){if(n.op==="=="){if(eE(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NAN"}};if(Zw(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eE(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NOT_NAN"}};if(Zw(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ca(n.field),op:HL(n.op),value:n.value}}}(t):t instanceof xr?function(n){const r=n.getFilters().map(i=>EA(i));return r.length===1?r[0]:{compositeFilter:{op:WL(n.op),filters:r}}}(t):ge()}function GL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function TA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n,r,i,s=ve.min(),o=ve.min(),l=Kt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this.ct=e}}function QL(t){const e=BL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(){this.un=new XL}addToCollectionParentIndex(e,n){return this.un.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(Vs.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(Vs.min())}updateCollectionGroup(e,n,r){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class XL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new jt(it.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new jt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class In{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(41943040,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new pl(0)}static kn(){return new pl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE([t,e],[n,r]){const i=Le(t,n);return i===0?Le(e,r):i}class JL{constructor(e){this.Un=e,this.buffer=new jt(gE),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();gE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ZL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){re("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bl(n)?re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Al(n)}await this.Hn(3e5)})}}class eV{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return G.resolve(Cf.oe);const r=new JL(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(mE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mE):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,l,u,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,l=Date.now(),this.removeTargets(e,r,n))).next(g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),Aa()<=Re.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-p}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}}function tV(t,e){return new eV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(){this.changes=new Ko(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?G.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Nu(r.mutation,i,Fn.empty(),Dt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Pe()){const i=Co();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=yu();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Co();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Li();const o=xu(),l=function(){return xu()}();return n.forEach((u,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Ws)?s=s.insert(h.key,h):p!==void 0?(o.set(h.key,p.mutation.getFieldMask()),Nu(p.mutation,h,p.mutation.getFieldMask(),Dt.now())):o.set(h.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((h,p)=>o.set(h,p)),n.forEach((h,p)=>{var g;return l.set(h,new rV(p,(g=o.get(h))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(e,n){const r=xu();let i=new gt((o,l)=>o-l),s=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let p=r.get(u)||Fn.empty();p=l.applyToLocalView(h,p),r.set(u,p);const g=(i.get(l.batchId)||Pe()).add(u);i=i.insert(l.batchId,g)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,p=u.value,g=sA();p.forEach(y=>{if(!s.has(y)){const C=hA(n.get(y),r.get(y));C!==null&&g.set(y,C),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,g))}return G.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return de.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):v_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):G.resolve(Co());let l=-1,u=s;return o.next(h=>G.forEach(h,(p,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(p)?G.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{u=u.insert(p,y)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,u,h,Pe())).next(p=>({batchId:l,changes:iA(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(r=>{let i=yu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=yu();return this.indexManager.getCollectionParents(e,s).next(l=>G.forEach(l,u=>{const h=function(g,y){return new Go(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(p=>{p.forEach((g,y)=>{o=o.insert(g,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,h)=>{const p=h.getKey();o.get(p)===null&&(o=o.insert(p,rn.newInvalidDocument(p)))});let l=yu();return o.forEach((u,h)=>{const p=s.get(u);p!==void 0&&Nu(p.mutation,h,Fn.empty(),Dt.now()),Nf(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return G.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Jr(i.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:QL(i.bundledQuery),readTime:Jr(i.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this.overlays=new gt(de.comparator),this.Ir=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Co();return G.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),G.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),G.resolve()}getOverlaysForCollection(e,n,r){const i=Co(),s=n.length+1,o=new de(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return G.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new gt((h,p)=>h-p);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=Co(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const l=Co(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,p)=>l.set(h,p)),!(l.size()>=i)););return G.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new AL(n,r));let s=this.Ir.get(n);s===void 0&&(s=Pe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(){this.Tr=new jt(Mt.Er),this.dr=new jt(Mt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Mt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Mt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new de(new it([])),r=new Mt(n,e),i=new Mt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new de(new it([])),r=new Mt(n,e),i=new Mt(n,e+1);let s=Pe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Mt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return de.comparator(e.key,n.key)||Le(e.wr,n.wr)}static Ar(e,n){return Le(e.wr,n.wr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new jt(Mt.Er)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new SL(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new Mt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return G.resolve(o)}lookupMutationBatch(e,n){return G.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return G.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mt(n,0),i=new Mt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const l=this.Dr(o.wr);s.push(l)}),G.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new jt(Le);return n.forEach(i=>{const s=new Mt(i,0),o=new Mt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],l=>{r=r.add(l.wr)})}),G.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;de.isDocumentKey(s)||(s=s.child(""));const o=new Mt(new de(s),0);let l=new jt(Le);return this.br.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(u.wr)),!0)},o),G.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){qe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return G.forEach(n.mutations,i=>{const s=new Mt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Mt(n,0),i=this.br.firstAfterOrEqual(r);return G.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e){this.Mr=e,this.docs=function(){return new gt(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return G.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let r=Li();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():rn.newInvalidDocument(i))}),G.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Li();const o=n.path,l=new de(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:p}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||j2($2(p),r)<=0||(i.has(p.key)||Nf(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return G.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ge()}Or(e,n){return G.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cV(this)}getSize(e){return G.resolve(this.size)}}class cV extends nV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),G.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e){this.persistence=e,this.Nr=new Ko(n=>g_(n),y_),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Lr=0,this.Br=new A_,this.targetCount=0,this.kr=pl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),G.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new pl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.Kn(n),G.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),G.waitFor(s).next(()=>i)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return G.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),G.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),G.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),G.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return G.resolve(r)}containsKey(e,n){return G.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Cf(0),this.Kr=!1,this.Kr=!0,this.$r=new aV,this.referenceDelegate=e(this),this.Ur=new hV(this),this.indexManager=new YL,this.remoteDocumentCache=function(i){return new uV(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new KL(n),this.Gr=new sV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new lV(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const i=new dV(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return G.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class dV extends B2{constructor(e){super(),this.currentSequenceNumber=e}}class b_{constructor(e){this.persistence=e,this.Jr=new A_,this.Yr=null}static Zr(e){return new b_(e)}get Xr(){if(this.Yr)return this.Yr;throw ge()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),G.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),G.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Xr,r=>{const i=de.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ve.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return G.or([()=>G.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class Kd{constructor(e,n){this.persistence=e,this.ti=new Ko(r=>H2(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=tV(this,n)}static Zr(e,n){return new Kd(e,n)}zr(){}jr(e){return G.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return G.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(s=>s?G.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Or(e,o=>this.nr(e,o,n).next(l=>{l||(r++,s.removeEntry(o,ve.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),G.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),G.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),G.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=td(e.data.value)),n}nr(e,n,r){return G.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return G.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Pe(),i=Pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new C_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return dN()?8:z2(on())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new fV;return this.Xi(e,n,o).next(l=>{if(s.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Aa()<=Re.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",ba(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),G.resolve()):(Aa()<=Re.DEBUG&&re("QueryEngine","Query:",ba(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Aa()<=Re.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",ba(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xr(n))):G.resolve())}Yi(e,n){if(iE(n))return G.resolve(null);let r=Xr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=qd(n,null,"F"),r=Xr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Pe(...s);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.ts(n,l);return this.ns(n,h,o,u.readTime)?this.Yi(e,qd(n,null,"F")):this.rs(e,h,n,u)}))})))}Zi(e,n,r,i){return iE(n)||i.isEqual(ve.min())?G.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?G.resolve(null):(Aa()<=Re.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ba(n)),this.rs(e,o,n,F2(i,-1)).next(l=>l))})}ts(e,n){let r=new jt(nA(e));return n.forEach((i,s)=>{Nf(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Aa()<=Re.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",ba(n)),this.Ji.getDocumentsMatchingQuery(e,n,Vs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new gt(Le),this._s=new Ko(s=>g_(s),y_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function gV(t,e,n,r){return new mV(t,e,n,r)}async function SA(t,e){const n=Te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=Pe();for(const h of i){o.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}for(const h of s){l.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(h=>({hs:h,removedBatchIds:o,addedBatchIds:l}))})})}function yV(t,e){const n=Te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,p){const g=h.batch,y=g.keys();let C=G.resolve();return y.forEach(P=>{C=C.next(()=>p.getEntry(u,P)).next(x=>{const O=h.docVersions.get(P);qe(O!==null),x.version.compareTo(O)<0&&(g.applyToRemoteDocument(x,h),x.isValidDocument()&&(x.setReadTime(h.commitVersion),p.addEntry(x)))})}),C.next(()=>l.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=Pe();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function AA(t){const e=Te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function _V(t,e){const n=Te(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((p,g)=>{const y=i.get(g);if(!y)return;l.push(n.Ur.removeMatchingKeys(s,p.removedDocuments,g).next(()=>n.Ur.addMatchingKeys(s,p.addedDocuments,g)));let C=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?C=C.withResumeToken(Kt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):p.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(p.resumeToken,r)),i=i.insert(g,C),function(x,O,I){return x.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(y,C,p)&&l.push(n.Ur.updateTargetData(s,C))});let u=Li(),h=Pe();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(vV(s,o,e.documentUpdates).next(p=>{u=p.Ps,h=p.Is})),!r.isEqual(ve.min())){const p=n.Ur.getLastRemoteSnapshotVersion(s).next(g=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(p)}return G.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.os=i,s))}function vV(t,e,n){let r=Pe(),i=Pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Li();return n.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(ve.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):re("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function wV(t,e){const n=Te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function EV(t,e){const n=Te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,G.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new vs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Mg(t,e,n){const r=Te(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!bl(o))throw o;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function yE(t,e,n){const r=Te(t);let i=ve.min(),s=Pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,h,p){const g=Te(u),y=g._s.get(p);return y!==void 0?G.resolve(g.os.get(y)):g.Ur.getTargetData(h,p)}(r,o,Xr(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ve.min(),n?s:Pe())).next(l=>(TV(r,uL(e),l),{documents:l,Ts:s})))}function TV(t,e,n){let r=t.us.get(e)||ve.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class _E{constructor(){this.activeTargetIds=mL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IV{constructor(){this.so=new _E,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new _E,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh=null;function dm(){return Nh===null?Nh=function(){return 268435456+Math.round(2147483648*Math.random())}():Nh++,"0x"+Nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class CV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const l=dm(),u=this.xo(n,r.toUriEncodedString());re("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,s,o),this.No(n,u,h,i).then(p=>(re("RestConnection",`Received RPC '${n}' ${l}: `,p),p),p=>{throw ul("RestConnection",`RPC '${n}' ${l} failed with error: `,p,"url: ",u,"request:",i),p})}Lo(n,r,i,s,o,l){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=AV[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=dm();return new Promise((o,l)=>{const u=new $S;u.setWithCredentials(!0),u.listenOnce(jS.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ed.NO_ERROR:const p=u.getResponseJson();re(en,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case ed.TIMEOUT:re(en,`RPC '${e}' ${s} timed out`),l(new ee(W.DEADLINE_EXCEEDED,"Request time out"));break;case ed.HTTP_ERROR:const g=u.getStatus();if(re(en,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const C=y==null?void 0:y.error;if(C&&C.status&&C.message){const P=function(O){const I=O.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(I)>=0?I:W.UNKNOWN}(C.status);l(new ee(P,C.message))}else l(new ee(W.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ee(W.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{re(en,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);re(en,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",h,r,15)})}Bo(e,n,r){const i=dm(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zS(),l=BS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=s.join("");re(en,`Creating RPC '${e}' stream ${i}: ${p}`,u);const g=o.createWebChannel(p,u);let y=!1,C=!1;const P=new bV({Io:O=>{C?re(en,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(y||(re(en,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),re(en,`RPC '${e}' stream ${i} sending:`,O),g.send(O))},To:()=>g.close()}),x=(O,I,v)=>{O.listen(I,A=>{try{v(A)}catch(F){setTimeout(()=>{throw F},0)}})};return x(g,gu.EventType.OPEN,()=>{C||(re(en,`RPC '${e}' stream ${i} transport opened.`),P.yo())}),x(g,gu.EventType.CLOSE,()=>{C||(C=!0,re(en,`RPC '${e}' stream ${i} transport closed`),P.So())}),x(g,gu.EventType.ERROR,O=>{C||(C=!0,ul(en,`RPC '${e}' stream ${i} transport errored:`,O),P.So(new ee(W.UNAVAILABLE,"The operation could not be completed")))}),x(g,gu.EventType.MESSAGE,O=>{var I;if(!C){const v=O.data[0];qe(!!v);const A=v,F=A.error||((I=A[0])===null||I===void 0?void 0:I.error);if(F){re(en,`RPC '${e}' stream ${i} received error:`,F);const Q=F.status;let H=function(b){const R=At[b];if(R!==void 0)return fA(R)}(Q),S=F.message;H===void 0&&(H=W.INTERNAL,S="Unknown error status: "+Q+" with message "+F.message),C=!0,P.So(new ee(H,S)),g.close()}else re(en,`RPC '${e}' stream ${i} received:`,v),P.bo(v)}}),x(l,US.STAT_EVENT,O=>{O.stat===Cg.PROXY?re(en,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===Cg.NOPROXY&&re(en,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.wo()},0),P}}function fm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t){return new DL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n,r,i,s,o,l,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new bA(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Di(n.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ee(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kV extends CA{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=ML(this.serializer,e),r=function(s){if(!("targetChange"in s))return ve.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ve.min():o.readTime?Jr(o.readTime):ve.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Vg(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=xg(u)?{documents:jL(s,u)}:{query:UL(s,u)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=gA(s,o.resumeToken);const h=Og(s,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(ve.min())>0){l.readTime=Gd(s,o.snapshotVersion.toTimestamp());const h=Og(s,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=zL(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Vg(this.serializer),n.removeTarget=e,this.a_(n)}}class RV extends CA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=$L(e.writeResults,e.commitTime),r=Jr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Vg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>FL(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ee(W.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Dg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(W.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,Dg(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(W.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class xV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Di(n),this.D_=!1):re("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Qo(this)&&(re("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=Te(u);h.L_.add(4),await Pc(h),h.q_.set("Unknown"),h.L_.delete(4),await Mf(h)}(this))})}),this.q_=new xV(r,i)}}async function Mf(t){if(Qo(t))for(const e of t.B_)await e(!0)}async function Pc(t){for(const e of t.B_)await e(!1)}function kA(t,e){const n=Te(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),x_(n)?P_(n):Cl(n).r_()&&R_(n,e))}function k_(t,e){const n=Te(t),r=Cl(n);n.N_.delete(e),r.r_()&&RA(n,e),n.N_.size===0&&(r.r_()?r.o_():Qo(n)&&n.q_.set("Unknown"))}function R_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cl(t).A_(e)}function RA(t,e){t.Q_.xe(e),Cl(t).R_(e)}function P_(t){t.Q_=new PL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Cl(t).start(),t.q_.v_()}function x_(t){return Qo(t)&&!Cl(t).n_()&&t.N_.size>0}function Qo(t){return Te(t).L_.size===0}function PA(t){t.Q_=void 0}async function OV(t){t.q_.set("Online")}async function DV(t){t.N_.forEach((e,n)=>{R_(t,e)})}async function LV(t,e){PA(t),x_(t)?(t.q_.M_(e),P_(t)):t.q_.set("Unknown")}async function VV(t,e,n){if(t.q_.set("Online"),e instanceof mA&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qd(t,r)}else if(e instanceof id?t.Q_.Ke(e):e instanceof pA?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ve.min()))try{const r=await AA(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Q_.rt(o);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const p=s.N_.get(h);p&&s.N_.set(h,p.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,h)=>{const p=s.N_.get(u);if(!p)return;s.N_.set(u,p.withResumeToken(Kt.EMPTY_BYTE_STRING,p.snapshotVersion)),RA(s,u);const g=new vs(p.target,u,h,p.sequenceNumber);R_(s,g)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){re("RemoteStore","Failed to raise snapshot:",r),await Qd(t,r)}}async function Qd(t,e,n){if(!bl(e))throw e;t.L_.add(1),await Pc(t),t.q_.set("Offline"),n||(n=()=>AA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Mf(t)})}function xA(t,e){return e().catch(n=>Qd(t,n,e))}async function Ff(t){const e=Te(t),n=js(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;MV(e);)try{const i=await wV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,FV(e,i)}catch(i){await Qd(e,i)}NA(e)&&OA(e)}function MV(t){return Qo(t)&&t.O_.length<10}function FV(t,e){t.O_.push(e);const n=js(t);n.r_()&&n.V_&&n.m_(e.mutations)}function NA(t){return Qo(t)&&!js(t).n_()&&t.O_.length>0}function OA(t){js(t).start()}async function $V(t){js(t).p_()}async function jV(t){const e=js(t);for(const n of t.O_)e.m_(n.mutations)}async function UV(t,e,n){const r=t.O_.shift(),i=T_.from(r,e,n);await xA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ff(t)}async function BV(t,e){e&&js(t).V_&&await async function(r,i){if(function(o){return CL(o)&&o!==W.ABORTED}(i.code)){const s=r.O_.shift();js(r).s_(),await xA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ff(r)}}(t,e),NA(t)&&OA(t)}async function wE(t,e){const n=Te(t);n.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const r=Qo(n);n.L_.add(3),await Pc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Mf(n)}async function zV(t,e){const n=Te(t);e?(n.L_.delete(2),await Mf(n)):e||(n.L_.add(2),await Pc(n),n.q_.set("Unknown"))}function Cl(t){return t.K_||(t.K_=function(n,r,i){const s=Te(n);return s.w_(),new kV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:OV.bind(null,t),Ro:DV.bind(null,t),mo:LV.bind(null,t),d_:VV.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),x_(t)?P_(t):t.q_.set("Unknown")):(await t.K_.stop(),PA(t))})),t.K_}function js(t){return t.U_||(t.U_=function(n,r,i){const s=Te(n);return s.w_(),new RV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:$V.bind(null,t),mo:BV.bind(null,t),f_:jV.bind(null,t),g_:UV.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Ff(t)):(await t.U_.stop(),t.O_.length>0&&(re("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new N_(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function O_(t,e){if(Di("AsyncQueue",`${e}: ${t}`),bl(t))return new ee(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=yu(),this.sortedSet=new gt(this.comparator)}static emptySet(e){return new Za(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Za)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Za;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.W_=new gt(de.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ge():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ml{constructor(e,n,r,i,s,o,l,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new ml(e,n,Za.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class HV{constructor(){this.queries=TE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Te(n),s=i.queries;i.queries=TE(),s.forEach((o,l)=>{for(const u of l.j_)u.onError(r)})})(this,new ee(W.ABORTED,"Firestore shutting down"))}}function TE(){return new Ko(t=>tA(t),xf)}async function DA(t,e){const n=Te(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new qV,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=O_(o,`Initialization of query '${ba(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&D_(n)}async function LA(t,e){const n=Te(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function WV(t,e){const n=Te(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.j_)l.X_(i)&&(r=!0);o.z_=i}}r&&D_(n)}function GV(t,e,n){const r=Te(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function D_(t){t.Y_.forEach(e=>{e.next()})}var Fg,IE;(IE=Fg||(Fg={})).ea="default",IE.Cache="cache";class VA{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ml(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Fg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e){this.key=e}}class FA{constructor(e){this.key=e}}class KV{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Pe(),this.mutatedKeys=Pe(),this.Aa=nA(e),this.Ra=new Za(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new EE,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{const y=i.get(p),C=Nf(this.query,g)?g:null,P=!!y&&this.mutatedKeys.has(y.key),x=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let O=!1;y&&C?y.data.isEqual(C.data)?P!==x&&(r.track({type:3,doc:C}),O=!0):this.ga(y,C)||(r.track({type:2,doc:C}),O=!0,(u&&this.Aa(C,u)>0||h&&this.Aa(C,h)<0)&&(l=!0)):!y&&C?(r.track({type:0,doc:C}),O=!0):y&&!C&&(r.track({type:1,doc:y}),O=!0,(u||h)&&(l=!0)),O&&(C?(o=o.add(C),s=x?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ra:o,fa:r,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((p,g)=>function(C,P){const x=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return x(C)-x(P)}(p.type,g.type)||this.Aa(p.doc,g.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,h=u!==this.Ea;return this.Ea=u,o.length!==0||h?{snapshot:new ml(this.query,e.Ra,s,o,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new EE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new FA(r))}),this.da.forEach(r=>{e.has(r)||n.push(new MA(r))}),n}ba(e){this.Ta=e.Ts,this.da=Pe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ml.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class QV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class YV{constructor(e){this.key=e,this.va=!1}}class XV{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ko(l=>tA(l),xf),this.Ma=new Map,this.xa=new Set,this.Oa=new gt(de.comparator),this.Na=new Map,this.La=new A_,this.Ba={},this.ka=new Map,this.qa=pl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function JV(t,e,n=!0){const r=qA(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await $A(r,e,n,!0),i}async function ZV(t,e){const n=qA(t);await $A(n,e,!0,!1)}async function $A(t,e,n,r){const i=await EV(t.localStore,Xr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await eM(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&kA(t.remoteStore,i),l}async function eM(t,e,n,r,i){t.Ka=(g,y,C)=>async function(x,O,I,v){let A=O.view.ma(I);A.ns&&(A=await yE(x.localStore,O.query,!1).then(({documents:S})=>O.view.ma(S,A)));const F=v&&v.targetChanges.get(O.targetId),Q=v&&v.targetMismatches.get(O.targetId)!=null,H=O.view.applyChanges(A,x.isPrimaryClient,F,Q);return AE(x,O.targetId,H.wa),H.snapshot}(t,g,y,C);const s=await yE(t.localStore,e,!0),o=new KV(e,s.Ts),l=o.ma(s.documents),u=Rc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(l,t.isPrimaryClient,u);AE(t,n,h.wa);const p=new QV(e,n,o);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),h.snapshot}async function tM(t,e,n){const r=Te(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!xf(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Mg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&k_(r.remoteStore,i.targetId),$g(r,i.targetId)}).catch(Al)):($g(r,i.targetId),await Mg(r.localStore,i.targetId,!0))}async function nM(t,e){const n=Te(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),k_(n.remoteStore,r.targetId))}async function rM(t,e,n){const r=cM(t);try{const i=await function(o,l){const u=Te(o),h=Dt.now(),p=l.reduce((C,P)=>C.add(P.key),Pe());let g,y;return u.persistence.runTransaction("Locally write mutations","readwrite",C=>{let P=Li(),x=Pe();return u.cs.getEntries(C,p).next(O=>{P=O,P.forEach((I,v)=>{v.isValidDocument()||(x=x.add(I))})}).next(()=>u.localDocuments.getOverlayedDocuments(C,P)).next(O=>{g=O;const I=[];for(const v of l){const A=TL(v,g.get(v.key).overlayedDocument);A!=null&&I.push(new Ws(v.key,A,KS(A.value.mapValue),Rr.exists(!0)))}return u.mutationQueue.addMutationBatch(C,h,I,l)}).next(O=>{y=O;const I=O.applyToLocalDocumentSet(g,x);return u.documentOverlayCache.saveOverlays(C,O.batchId,I)})}).then(()=>({batchId:y.batchId,changes:iA(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let h=o.Ba[o.currentUser.toKey()];h||(h=new gt(Le)),h=h.insert(l,u),o.Ba[o.currentUser.toKey()]=h}(r,i.batchId,n),await xc(r,i.changes),await Ff(r.remoteStore)}catch(i){const s=O_(i,"Failed to persist write");n.reject(s)}}async function jA(t,e){const n=Te(t);try{const r=await _V(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?qe(o.va):i.removedDocuments.size>0&&(qe(o.va),o.va=!1))}),await xc(n,r,e)}catch(r){await Al(r)}}function SE(t,e,n){const r=Te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const l=o.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=Te(o);u.onlineState=l;let h=!1;u.queries.forEach((p,g)=>{for(const y of g.j_)y.Z_(l)&&(h=!0)}),h&&D_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iM(t,e,n){const r=Te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new gt(de.comparator);o=o.insert(s,rn.newNoDocument(s,ve.min()));const l=Pe().add(s),u=new Lf(ve.min(),new Map,new gt(Le),o,l);await jA(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),L_(r)}else await Mg(r.localStore,e,!1).then(()=>$g(r,e,n)).catch(Al)}async function sM(t,e){const n=Te(t),r=e.batch.batchId;try{const i=await yV(n.localStore,e);BA(n,r,null),UA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xc(n,i)}catch(i){await Al(i)}}async function oM(t,e,n){const r=Te(t);try{const i=await function(o,l){const u=Te(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return u.mutationQueue.lookupMutationBatch(h,l).next(g=>(qe(g!==null),p=g.keys(),u.mutationQueue.removeMutationBatch(h,g))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,p,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>u.localDocuments.getDocuments(h,p))})}(r.localStore,e);BA(r,e,n),UA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xc(r,i)}catch(i){await Al(i)}}function UA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function BA(t,e,n){const r=Te(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function $g(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||zA(t,r)})}function zA(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(k_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),L_(t))}function AE(t,e,n){for(const r of n)r instanceof MA?(t.La.addReference(r.key,e),aM(t,r)):r instanceof FA?(re("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||zA(t,r.key)):ge()}function aM(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(re("SyncEngine","New document in limbo: "+n),t.xa.add(r),L_(t))}function L_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new de(it.fromString(e)),r=t.qa.next();t.Na.set(r,new YV(n)),t.Oa=t.Oa.insert(n,r),kA(t.remoteStore,new vs(Xr(__(n.path)),r,"TargetPurposeLimboResolution",Cf.oe))}}async function xc(t,e,n){const r=Te(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{o.push(r.Ka(u,e,n).then(h=>{var p;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){i.push(h);const g=C_.Wi(u.targetId,h);s.push(g)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,h){const p=Te(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>G.forEach(h,y=>G.forEach(y.$i,C=>p.persistence.referenceDelegate.addReference(g,y.targetId,C)).next(()=>G.forEach(y.Ui,C=>p.persistence.referenceDelegate.removeReference(g,y.targetId,C)))))}catch(g){if(!bl(g))throw g;re("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const C=p.os.get(y),P=C.snapshotVersion,x=C.withLastLimboFreeSnapshotVersion(P);p.os=p.os.insert(y,x)}}}(r.localStore,s))}async function lM(t,e){const n=Te(t);if(!n.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const r=await SA(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(l=>{l.forEach(u=>{u.reject(new ee(W.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xc(n,r.hs)}}function uM(t,e){const n=Te(t),r=n.Na.get(e);if(r&&r.va)return Pe().add(r.key);{let i=Pe();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const l=n.Fa.get(o);i=i.unionWith(l.view.Va)}return i}}function qA(t){const e=Te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iM.bind(null,e),e.Ca.d_=WV.bind(null,e.eventManager),e.Ca.$a=GV.bind(null,e.eventManager),e}function cM(t){const e=Te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oM.bind(null,e),e}class Yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return gV(this.persistence,new pV,e.initialUser,this.serializer)}Ga(e){return new IA(b_.Zr,this.serializer)}Wa(e){return new IV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yd.provider={build:()=>new Yd};class hM extends Yd{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){qe(this.persistence.referenceDelegate instanceof Kd);const r=this.persistence.referenceDelegate.garbageCollector;return new ZL(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new IA(r=>Kd.Zr(r,n),this.serializer)}}class jg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>SE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lM.bind(null,this.syncEngine),await zV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HV}()}createDatastore(e){const n=Vf(e.databaseInfo.databaseId),r=function(s){return new CV(s)}(e.databaseInfo);return function(s,o,l,u){return new PV(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new NV(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>SE(this.syncEngine,n,0),function(){return vE.D()?new vE:new SV}())}createSyncEngine(e,n){return function(i,s,o,l,u,h,p){const g=new XV(i,s,o,l,u,h);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Te(i);re("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Pc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}jg.provider={build:()=>new jg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tn.UNAUTHENTICATED,this.clientId=HS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{re("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(re("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=O_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function pm(t,e){t.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await SA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function bE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await fM(t);re("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>wE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>wE(e.remoteStore,i)),t._onlineComponents=e}async function fM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{await pm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===W.FAILED_PRECONDITION||i.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ul("Error using user provided cache. Falling back to memory cache: "+n),await pm(t,new Yd)}}else re("FirestoreClient","Using default OfflineComponentProvider"),await pm(t,new hM(void 0));return t._offlineComponents}async function WA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),await bE(t,t._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),await bE(t,new jg))),t._onlineComponents}function pM(t){return WA(t).then(e=>e.syncEngine)}async function GA(t){const e=await WA(t),n=e.eventManager;return n.onListen=JV.bind(null,e.syncEngine),n.onUnlisten=tM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nM.bind(null,e.syncEngine),n}function mM(t,e,n={}){const r=new Ci;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,h){const p=new HA({next:y=>{p.Za(),o.enqueueAndForget(()=>LA(s,g));const C=y.docs.has(l);!C&&y.fromCache?h.reject(new ee(W.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&y.fromCache&&u&&u.source==="server"?h.reject(new ee(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new VA(__(l.path),p,{includeMetadataChanges:!0,_a:!0});return DA(s,g)}(await GA(t),t.asyncQueue,e,n,r)),r.promise}function gM(t,e,n={}){const r=new Ci;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,h){const p=new HA({next:y=>{p.Za(),o.enqueueAndForget(()=>LA(s,g)),y.fromCache&&u.source==="server"?h.reject(new ee(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new VA(l,p,{includeMetadataChanges:!0,_a:!0});return DA(s,g)}(await GA(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(t,e,n){if(!n)throw new ee(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yM(t,e,n,r){if(e===!0&&r===!0)throw new ee(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kE(t){if(!de.isDocumentKey(t))throw new ee(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function RE(t){if(de.isDocumentKey(t))throw new ee(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $f(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function Vi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$f(t);throw new ee(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function _M(t,e){if(e<=0)throw new ee(W.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ee(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ee(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ee(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new R2;switch(r.type){case"firstParty":return new O2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=CE.get(n);r&&(re("ComponentProvider","Removing Datastore"),CE.delete(n),r.terminate())}(this),Promise.resolve()}}function vM(t,e,n,r={}){var i;const s=(t=Vi(t,jf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=tn.MOCK_USER;else{l=sN(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ee(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new tn(h)}t._authCredentials=new P2(new qS(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ji(this.firestore,e,this._query)}}class xn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class Ns extends ji{constructor(e,n,r){super(e,n,__(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new de(e))}withConverter(e){return new Ns(this.firestore,e,this._path)}}function YA(t,e,...n){if(t=an(t),QA("collection","path",e),t instanceof jf){const r=it.fromString(e,...n);return RE(r),new Ns(t,null,r)}{if(!(t instanceof xn||t instanceof Ns))throw new ee(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return RE(r),new Ns(t.firestore,null,r)}}function sd(t,e,...n){if(t=an(t),arguments.length===1&&(e=HS.newId()),QA("doc","path",e),t instanceof jf){const r=it.fromString(e,...n);return kE(r),new xn(t,null,new de(r))}{if(!(t instanceof xn||t instanceof Ns))throw new ee(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return kE(r),new xn(t.firestore,t instanceof Ns?t.converter:null,new de(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new bA(this,"async_queue_retry"),this.Vu=()=>{const r=fm();r&&re("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=fm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=fm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ci;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!bl(e))throw e;re("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Di("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=N_.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ge()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class kl extends jf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new xE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xE(e),this._firestoreClient=void 0,await e}}}function wM(t,e){const n=typeof t=="object"?t:iS(),r=typeof t=="string"?t:"(default)",i=n_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=rN("firestore");s&&vM(i,...s)}return i}function V_(t){if(t._terminated)throw new ee(W.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||EM(t),t._firestoreClient}function EM(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,h,p){return new K2(l,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,KA(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new dM(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gl(Kt.fromBase64String(e))}catch(n){throw new ee(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gl(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=/^__.*__$/;class IM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms):new kc(e,this.data,n,this.fieldTransforms)}}class XA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function JA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class j_{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new j_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Xd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(JA(this.Cu)&&TM.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class SM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vf(e)}Qu(e,n,r,i=!1){return new j_({Cu:e,methodName:n,qu:r,path:Ht.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bf(t){const e=t._freezeSettings(),n=Vf(t._databaseId);return new SM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AM(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);U_("Data must be an object, but it was:",o,r);const l=eb(r,o);let u,h;if(s.merge)u=new Fn(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const y=Ug(e,g,n);if(!o.contains(y))throw new ee(W.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);nb(p,y)||p.push(y)}u=new Fn(p),h=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,h=o.fieldTransforms;return new IM(new bn(l),u,h)}class zf extends M_{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zf}}function bM(t,e,n,r){const i=t.Qu(1,e,n);U_("Data must be an object, but it was:",i,r);const s=[],o=bn.empty();Hs(r,(u,h)=>{const p=B_(e,u,n);h=an(h);const g=i.Nu(p);if(h instanceof zf)s.push(p);else{const y=Nc(h,g);y!=null&&(s.push(p),o.set(p,y))}});const l=new Fn(s);return new XA(o,l,i.fieldTransforms)}function CM(t,e,n,r,i,s){const o=t.Qu(1,e,n),l=[Ug(e,r,n)],u=[i];if(s.length%2!=0)throw new ee(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)l.push(Ug(e,s[y])),u.push(s[y+1]);const h=[],p=bn.empty();for(let y=l.length-1;y>=0;--y)if(!nb(h,l[y])){const C=l[y];let P=u[y];P=an(P);const x=o.Nu(C);if(P instanceof zf)h.push(C);else{const O=Nc(P,x);O!=null&&(h.push(C),p.set(C,O))}}const g=new Fn(h);return new XA(p,g,o.fieldTransforms)}function ZA(t,e,n,r=!1){return Nc(n,t.Qu(r?4:3,e))}function Nc(t,e){if(tb(t=an(t)))return U_("Unsupported field value:",e,t),eb(t,e);if(t instanceof M_)return function(r,i){if(!JA(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=Nc(l,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=an(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Dt.fromDate(r);return{timestampValue:Gd(i.serializer,s)}}if(r instanceof Dt){const s=new Dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gd(i.serializer,s)}}if(r instanceof F_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gl)return{bytesValue:gA(i.serializer,r._byteString)};if(r instanceof xn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:S_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $_)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return w_(l.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${$f(r)}`)}(t,e)}function eb(t,e){const n={};return WS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(t,(r,i)=>{const s=Nc(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function tb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dt||t instanceof F_||t instanceof gl||t instanceof xn||t instanceof M_||t instanceof $_)}function U_(t,e,n){if(!tb(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=$f(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Ug(t,e,n){if((e=an(e))instanceof Uf)return e._internalPath;if(typeof e=="string")return B_(t,e);throw Xd("Field path arguments must be of type string or ",t,!1,void 0,n)}const kM=new RegExp("[~\\*/\\[\\]]");function B_(t,e,n){if(e.search(kM)>=0)throw Xd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Uf(...e.split("."))._internalPath}catch{throw Xd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ee(W.INVALID_ARGUMENT,l+t+u)}function nb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RM extends z_{data(){return super.data()}}function qf(t,e){return typeof e=="string"?B_(t,e):e instanceof Uf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class q_{}class Hf extends q_{}function Bg(t,e,...n){let r=[];e instanceof q_&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof H_).length,l=s.filter(u=>u instanceof Wf).length;if(o>1||o>0&&l>0)throw new ee(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Wf extends Hf{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Wf(e,n,r)}_apply(e){const n=this._parse(e);return rb(e._query,n),new ji(e.firestore,e.converter,Ng(e._query,n))}_parse(e){const n=Bf(e.firestore);return function(s,o,l,u,h,p,g){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ee(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){LE(g,p);const C=[];for(const P of g)C.push(DE(u,s,P));y={arrayValue:{values:C}}}else y=DE(u,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||LE(g,p),y=ZA(l,o,g,p==="in"||p==="not-in");return Ct.create(h,p,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function NE(t,e,n){const r=e,i=qf("where",t);return Wf._create(i,r,n)}class H_ extends q_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new H_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:xr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const u of l)rb(o,u),o=Ng(o,u)}(e._query,n),new ji(e.firestore,e.converter,Ng(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class W_ extends Hf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new W_(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new ee(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ee(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lc(s,o)}(e._query,this._field,this._direction);return new ji(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Go(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function OE(t,e="asc"){const n=e,r=qf("orderBy",t);return W_._create(r,n)}class G_ extends Hf{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new G_(e,n,r)}_apply(e){return new ji(e.firestore,e.converter,qd(e._query,this._limit,this._limitType))}}function xM(t){return _M("limit",t),G_._create("limit",t,"F")}class K_ extends Hf{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new K_(e,n,r)}_apply(e){const n=OM(e,this.type,this._docOrFields,this._inclusive);return new ji(e.firestore,e.converter,function(i,s){return new Go(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function NM(...t){return K_._create("startAt",t,!0)}function OM(t,e,n,r){if(n[0]=an(n[0]),n[0]instanceof z_)return function(s,o,l,u,h){if(!u)throw new ee(W.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const p=[];for(const g of Ja(s))if(g.field.isKeyField())p.push(zd(o,u.key));else{const y=u.data.field(g.field);if(Rf(y))throw new ee(W.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(y===null){const C=g.field.canonicalString();throw new ee(W.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${C}' (used as the orderBy) does not exist.`)}p.push(y)}return new fl(p,h)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Bf(t.firestore);return function(o,l,u,h,p,g){const y=o.explicitOrderBy;if(p.length>y.length)throw new ee(W.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const C=[];for(let P=0;P<p.length;P++){const x=p[P];if(y[P].field.isKeyField()){if(typeof x!="string")throw new ee(W.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof x}`);if(!v_(o)&&x.indexOf("/")!==-1)throw new ee(W.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${x}' contains a slash.`);const O=o.path.child(it.fromString(x));if(!de.isDocumentKey(O))throw new ee(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${O}' is not because it contains an odd number of segments.`);const I=new de(O);C.push(zd(l,I))}else{const O=ZA(u,h,x);C.push(O)}}return new fl(C,g)}(t._query,t.firestore._databaseId,i,e,n,r)}}function DE(t,e,n){if(typeof(n=an(n))=="string"){if(n==="")throw new ee(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!v_(e)&&n.indexOf("/")!==-1)throw new ee(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!de.isDocumentKey(r))throw new ee(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zd(t,new de(r))}if(n instanceof xn)return zd(t,n._key);throw new ee(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$f(n)}.`)}function LE(t,e){if(!Array.isArray(t)||t.length===0)throw new ee(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rb(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ee(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class DM{convertValue(e,n="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Et(o.doubleValue));return new $_(s)}convertGeoPoint(e){return new F_(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Pf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sc(e));default:return null}}convertTimestamp(e){const n=Ms(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);qe(TA(r));const i=new oc(r.get(1),r.get(3)),s=new de(r.popFirst(5));return i.isEqual(n)||Di(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ib extends z_{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new od(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class od extends ib{data(e={}){return super.data(e)}}class VM{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new vu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new od(this._firestore,this._userDataWriter,r.key,r,new vu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new od(i._firestore,i._userDataWriter,l.doc.key,l.doc,new vu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new od(i._firestore,i._userDataWriter,l.doc.key,l.doc,new vu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),p=o.indexOf(l.doc.key)),{type:MM(l.type),doc:u,oldIndex:h,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function MM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(t){t=Vi(t,xn);const e=Vi(t.firestore,kl);return mM(V_(e),t._key).then(n=>UM(e,t,n))}class sb extends DM{constructor(e){super(),this.firestore=e}convertBytes(e){return new gl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,n)}}function Jd(t){t=Vi(t,ji);const e=Vi(t.firestore,kl),n=V_(e),r=new sb(e);return PM(t._query),gM(n,t._query).then(i=>new VM(e,r,t,i))}function $M(t,e,n,...r){t=Vi(t,xn);const i=Vi(t.firestore,kl),s=Bf(i);let o;return o=typeof(e=an(e))=="string"||e instanceof Uf?CM(s,"updateDoc",t._key,e,n,r):bM(s,"updateDoc",t._key,e),Q_(i,[o.toMutation(t._key,Rr.exists(!0))])}function jM(t){return Q_(Vi(t.firestore,kl),[new E_(t._key,Rr.none())])}function ob(t,e){const n=Vi(t.firestore,kl),r=sd(t),i=LM(t.converter,e);return Q_(n,[AM(Bf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Rr.exists(!1))]).then(()=>r)}function Q_(t,e){return function(r,i){const s=new Ci;return r.asyncQueue.enqueueAndForget(async()=>rM(await pM(r),i,s)),s.promise}(V_(t),e)}function UM(t,e,n){const r=n.docs.get(e._key),i=new sb(t);return new ib(t,i,e._key,r,new vu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Sl=i})(Tl),al(new Uo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new kl(new x2(r.getProvider("auth-internal")),new L2(r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ee(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oc(h.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),xs(Gw,"4.7.4",e),xs(Gw,"4.7.4","esm2017")})();const BM={apiKey:"AIzaSyDYECr-b_P3VPWKp8N9UPNayY-_6T2dM0U",authDomain:"nodejsfirebase-f0d7e.firebaseapp.com",projectId:"nodejsfirebase-f0d7e",storageBucket:"nodejsfirebase-f0d7e.firebasestorage.app",messagingSenderId:"420027309097",appId:"1:420027309097:web:0c6b45e49306e61ddd1038",measurementId:"G-JPCYDXKM6B"},zM=rS(BM),Ou=wM(zM),qM=A2(),HM=()=>{const t=Tf(),{login:e}=$.useContext(wf),n=async()=>{const r=new yi;try{const s=(await DD(qM,r)).user;console.log(s),e(s.displayName||"Unknown"),t("/business/home")}catch(i){console.error("Error during login: ",i)}};return B.jsxs(B.Fragment,{children:[B.jsx("h2",{children:"Login"}),B.jsx("button",{className:"btn btn-primary",type:"button",onClick:()=>n(),children:"Google Sign In"})]})},mm=YA(Ou,"users");class WM{constructor(){dn(this,"getAllUsers",()=>Jd(mm));dn(this,"getByUserName",e=>{const n=Bg(mm,NE("name",">=",e),NE("name","<=",e+""));return Jd(n)});dn(this,"getByUserId",e=>{const n=sd(Ou,"users",e);return FM(n)});dn(this,"deleteUser",e=>{const n=sd(Ou,"users",e);return jM(n)});dn(this,"addUser",e=>ob(mm,e));dn(this,"updateUser",(e,n)=>{const r=sd(Ou,"users",e);return $M(r,n)})}}const cs=new WM;class GM{async getAllUsers(){return(await cs.getAllUsers()).docs.map(r=>({...JSON.parse(JSON.stringify(r.data())),id:r.id}))}async getByUserName(e){const n=await cs.getByUserName(e);return console.log(n),n.docs.map(i=>({...JSON.parse(JSON.stringify(i.data())),id:i.id}))}async getUserById(e){return(await cs.getByUserId(e)).data()}async deleteUser(e){await cs.deleteUser(e)}async createUser(e){await cs.addUser(e)}async updateUser(e,n){await cs.updateUser(e,n)}}const Ia=new GM;class KM{constructor(){dn(this,"GetAllUsers",async()=>{try{return{data:await Ia.getAllUsers(),ok:!0}}catch(e){return{meassage:e,ok:!1}}});dn(this,"GetByUserName",async e=>{try{return{data:await Ia.getByUserName(e),ok:!0}}catch(n){return{meassage:n,ok:!1}}});dn(this,"GetByUserId",async e=>{try{return{data:await Ia.getUserById(e),ok:!0}}catch(n){return{meassage:n,ok:!1}}});dn(this,"DeleteUser",async e=>{try{return await Ia.deleteUser(e),{ok:!0}}catch(n){return{meassage:n,ok:!1}}});dn(this,"CreateUser",async e=>{try{return await Ia.createUser(e),{ok:!0}}catch(n){return{meassage:n,ok:!1}}});dn(this,"UpdateUser",async(e,n)=>{try{return await Ia.updateUser(e,n),{ok:!0}}catch(r){return{meassage:r,ok:!1}}})}}const _i=new KM;var QM=function(e){return YM(e)&&!XM(e)};function YM(t){return!!t&&typeof t=="object"}function XM(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||eF(t)}var JM=typeof Symbol=="function"&&Symbol.for,ZM=JM?Symbol.for("react.element"):60103;function eF(t){return t.$$typeof===ZM}function tF(t){return Array.isArray(t)?[]:{}}function Zd(t,e){return e.clone!==!1&&e.isMergeableObject(t)?hc(tF(t),t,e):t}function nF(t,e,n){return t.concat(e).map(function(r){return Zd(r,n)})}function rF(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=Zd(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=Zd(e[i],n):r[i]=hc(t[i],e[i],n)}),r}function hc(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||nF,n.isMergeableObject=n.isMergeableObject||QM;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):rF(t,e,n):Zd(e,n)}hc.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return hc(r,i,n)},{})};var zg=hc,ab=typeof global=="object"&&global&&global.Object===Object&&global,iF=typeof self=="object"&&self&&self.Object===Object&&self,ti=ab||iF||Function("return this")(),Us=ti.Symbol,lb=Object.prototype,sF=lb.hasOwnProperty,oF=lb.toString,hu=Us?Us.toStringTag:void 0;function aF(t){var e=sF.call(t,hu),n=t[hu];try{t[hu]=void 0;var r=!0}catch{}var i=oF.call(t);return r&&(e?t[hu]=n:delete t[hu]),i}var lF=Object.prototype,uF=lF.toString;function cF(t){return uF.call(t)}var hF="[object Null]",dF="[object Undefined]",VE=Us?Us.toStringTag:void 0;function Yo(t){return t==null?t===void 0?dF:hF:VE&&VE in Object(t)?aF(t):cF(t)}function ub(t,e){return function(n){return t(e(n))}}var Y_=ub(Object.getPrototypeOf,Object);function Xo(t){return t!=null&&typeof t=="object"}var fF="[object Object]",pF=Function.prototype,mF=Object.prototype,cb=pF.toString,gF=mF.hasOwnProperty,yF=cb.call(Object);function ME(t){if(!Xo(t)||Yo(t)!=fF)return!1;var e=Y_(t);if(e===null)return!0;var n=gF.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&cb.call(n)==yF}function _F(){this.__data__=[],this.size=0}function hb(t,e){return t===e||t!==t&&e!==e}function Gf(t,e){for(var n=t.length;n--;)if(hb(t[n][0],e))return n;return-1}var vF=Array.prototype,wF=vF.splice;function EF(t){var e=this.__data__,n=Gf(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():wF.call(e,n,1),--this.size,!0}function TF(t){var e=this.__data__,n=Gf(e,t);return n<0?void 0:e[n][1]}function IF(t){return Gf(this.__data__,t)>-1}function SF(t,e){var n=this.__data__,r=Gf(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Ui(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ui.prototype.clear=_F;Ui.prototype.delete=EF;Ui.prototype.get=TF;Ui.prototype.has=IF;Ui.prototype.set=SF;function AF(){this.__data__=new Ui,this.size=0}function bF(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function CF(t){return this.__data__.get(t)}function kF(t){return this.__data__.has(t)}function Oc(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var RF="[object AsyncFunction]",PF="[object Function]",xF="[object GeneratorFunction]",NF="[object Proxy]";function db(t){if(!Oc(t))return!1;var e=Yo(t);return e==PF||e==xF||e==RF||e==NF}var gm=ti["__core-js_shared__"],FE=function(){var t=/[^.]+$/.exec(gm&&gm.keys&&gm.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function OF(t){return!!FE&&FE in t}var DF=Function.prototype,LF=DF.toString;function Jo(t){if(t!=null){try{return LF.call(t)}catch{}try{return t+""}catch{}}return""}var VF=/[\\^$.*+?()[\]{}|]/g,MF=/^\[object .+?Constructor\]$/,FF=Function.prototype,$F=Object.prototype,jF=FF.toString,UF=$F.hasOwnProperty,BF=RegExp("^"+jF.call(UF).replace(VF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zF(t){if(!Oc(t)||OF(t))return!1;var e=db(t)?BF:MF;return e.test(Jo(t))}function qF(t,e){return t==null?void 0:t[e]}function Zo(t,e){var n=qF(t,e);return zF(n)?n:void 0}var dc=Zo(ti,"Map"),fc=Zo(Object,"create");function HF(){this.__data__=fc?fc(null):{},this.size=0}function WF(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var GF="__lodash_hash_undefined__",KF=Object.prototype,QF=KF.hasOwnProperty;function YF(t){var e=this.__data__;if(fc){var n=e[t];return n===GF?void 0:n}return QF.call(e,t)?e[t]:void 0}var XF=Object.prototype,JF=XF.hasOwnProperty;function ZF(t){var e=this.__data__;return fc?e[t]!==void 0:JF.call(e,t)}var e$="__lodash_hash_undefined__";function t$(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=fc&&e===void 0?e$:e,this}function qo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}qo.prototype.clear=HF;qo.prototype.delete=WF;qo.prototype.get=YF;qo.prototype.has=ZF;qo.prototype.set=t$;function n$(){this.size=0,this.__data__={hash:new qo,map:new(dc||Ui),string:new qo}}function r$(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Kf(t,e){var n=t.__data__;return r$(e)?n[typeof e=="string"?"string":"hash"]:n.map}function i$(t){var e=Kf(this,t).delete(t);return this.size-=e?1:0,e}function s$(t){return Kf(this,t).get(t)}function o$(t){return Kf(this,t).has(t)}function a$(t,e){var n=Kf(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Gs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Gs.prototype.clear=n$;Gs.prototype.delete=i$;Gs.prototype.get=s$;Gs.prototype.has=o$;Gs.prototype.set=a$;var l$=200;function u$(t,e){var n=this.__data__;if(n instanceof Ui){var r=n.__data__;if(!dc||r.length<l$-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Gs(r)}return n.set(t,e),this.size=n.size,this}function Rl(t){var e=this.__data__=new Ui(t);this.size=e.size}Rl.prototype.clear=AF;Rl.prototype.delete=bF;Rl.prototype.get=CF;Rl.prototype.has=kF;Rl.prototype.set=u$;function c$(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var $E=function(){try{var t=Zo(Object,"defineProperty");return t({},"",{}),t}catch{}}();function fb(t,e,n){e=="__proto__"&&$E?$E(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var h$=Object.prototype,d$=h$.hasOwnProperty;function pb(t,e,n){var r=t[e];(!(d$.call(t,e)&&hb(r,n))||n===void 0&&!(e in t))&&fb(t,e,n)}function Qf(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var l=e[s],u=void 0;u===void 0&&(u=t[l]),i?fb(n,l,u):pb(n,l,u)}return n}function f$(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var p$="[object Arguments]";function jE(t){return Xo(t)&&Yo(t)==p$}var mb=Object.prototype,m$=mb.hasOwnProperty,g$=mb.propertyIsEnumerable,y$=jE(function(){return arguments}())?jE:function(t){return Xo(t)&&m$.call(t,"callee")&&!g$.call(t,"callee")},Dc=Array.isArray;function _$(){return!1}var gb=typeof jn=="object"&&jn&&!jn.nodeType&&jn,UE=gb&&typeof Un=="object"&&Un&&!Un.nodeType&&Un,v$=UE&&UE.exports===gb,BE=v$?ti.Buffer:void 0,w$=BE?BE.isBuffer:void 0,yb=w$||_$,E$=9007199254740991,T$=/^(?:0|[1-9]\d*)$/;function I$(t,e){var n=typeof t;return e=e??E$,!!e&&(n=="number"||n!="symbol"&&T$.test(t))&&t>-1&&t%1==0&&t<e}var S$=9007199254740991;function _b(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=S$}var A$="[object Arguments]",b$="[object Array]",C$="[object Boolean]",k$="[object Date]",R$="[object Error]",P$="[object Function]",x$="[object Map]",N$="[object Number]",O$="[object Object]",D$="[object RegExp]",L$="[object Set]",V$="[object String]",M$="[object WeakMap]",F$="[object ArrayBuffer]",$$="[object DataView]",j$="[object Float32Array]",U$="[object Float64Array]",B$="[object Int8Array]",z$="[object Int16Array]",q$="[object Int32Array]",H$="[object Uint8Array]",W$="[object Uint8ClampedArray]",G$="[object Uint16Array]",K$="[object Uint32Array]",lt={};lt[j$]=lt[U$]=lt[B$]=lt[z$]=lt[q$]=lt[H$]=lt[W$]=lt[G$]=lt[K$]=!0;lt[A$]=lt[b$]=lt[F$]=lt[C$]=lt[$$]=lt[k$]=lt[R$]=lt[P$]=lt[x$]=lt[N$]=lt[O$]=lt[D$]=lt[L$]=lt[V$]=lt[M$]=!1;function Q$(t){return Xo(t)&&_b(t.length)&&!!lt[Yo(t)]}function X_(t){return function(e){return t(e)}}var vb=typeof jn=="object"&&jn&&!jn.nodeType&&jn,Du=vb&&typeof Un=="object"&&Un&&!Un.nodeType&&Un,Y$=Du&&Du.exports===vb,ym=Y$&&ab.process,yl=function(){try{var t=Du&&Du.require&&Du.require("util").types;return t||ym&&ym.binding&&ym.binding("util")}catch{}}(),zE=yl&&yl.isTypedArray,X$=zE?X_(zE):Q$,J$=Object.prototype,Z$=J$.hasOwnProperty;function wb(t,e){var n=Dc(t),r=!n&&y$(t),i=!n&&!r&&yb(t),s=!n&&!r&&!i&&X$(t),o=n||r||i||s,l=o?f$(t.length,String):[],u=l.length;for(var h in t)(e||Z$.call(t,h))&&!(o&&(h=="length"||i&&(h=="offset"||h=="parent")||s&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||I$(h,u)))&&l.push(h);return l}var ej=Object.prototype;function J_(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ej;return t===n}var tj=ub(Object.keys,Object),nj=Object.prototype,rj=nj.hasOwnProperty;function ij(t){if(!J_(t))return tj(t);var e=[];for(var n in Object(t))rj.call(t,n)&&n!="constructor"&&e.push(n);return e}function Eb(t){return t!=null&&_b(t.length)&&!db(t)}function Z_(t){return Eb(t)?wb(t):ij(t)}function sj(t,e){return t&&Qf(e,Z_(e),t)}function oj(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var aj=Object.prototype,lj=aj.hasOwnProperty;function uj(t){if(!Oc(t))return oj(t);var e=J_(t),n=[];for(var r in t)r=="constructor"&&(e||!lj.call(t,r))||n.push(r);return n}function ev(t){return Eb(t)?wb(t,!0):uj(t)}function cj(t,e){return t&&Qf(e,ev(e),t)}var Tb=typeof jn=="object"&&jn&&!jn.nodeType&&jn,qE=Tb&&typeof Un=="object"&&Un&&!Un.nodeType&&Un,hj=qE&&qE.exports===Tb,HE=hj?ti.Buffer:void 0,WE=HE?HE.allocUnsafe:void 0;function dj(t,e){if(e)return t.slice();var n=t.length,r=WE?WE(n):new t.constructor(n);return t.copy(r),r}function Ib(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function fj(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function Sb(){return[]}var pj=Object.prototype,mj=pj.propertyIsEnumerable,GE=Object.getOwnPropertySymbols,tv=GE?function(t){return t==null?[]:(t=Object(t),fj(GE(t),function(e){return mj.call(t,e)}))}:Sb;function gj(t,e){return Qf(t,tv(t),e)}function Ab(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var yj=Object.getOwnPropertySymbols,bb=yj?function(t){for(var e=[];t;)Ab(e,tv(t)),t=Y_(t);return e}:Sb;function _j(t,e){return Qf(t,bb(t),e)}function Cb(t,e,n){var r=e(t);return Dc(t)?r:Ab(r,n(t))}function vj(t){return Cb(t,Z_,tv)}function wj(t){return Cb(t,ev,bb)}var qg=Zo(ti,"DataView"),Hg=Zo(ti,"Promise"),Wg=Zo(ti,"Set"),Gg=Zo(ti,"WeakMap"),KE="[object Map]",Ej="[object Object]",QE="[object Promise]",YE="[object Set]",XE="[object WeakMap]",JE="[object DataView]",Tj=Jo(qg),Ij=Jo(dc),Sj=Jo(Hg),Aj=Jo(Wg),bj=Jo(Gg),gi=Yo;(qg&&gi(new qg(new ArrayBuffer(1)))!=JE||dc&&gi(new dc)!=KE||Hg&&gi(Hg.resolve())!=QE||Wg&&gi(new Wg)!=YE||Gg&&gi(new Gg)!=XE)&&(gi=function(t){var e=Yo(t),n=e==Ej?t.constructor:void 0,r=n?Jo(n):"";if(r)switch(r){case Tj:return JE;case Ij:return KE;case Sj:return QE;case Aj:return YE;case bj:return XE}return e});var Cj=Object.prototype,kj=Cj.hasOwnProperty;function Rj(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&kj.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var ZE=ti.Uint8Array;function nv(t){var e=new t.constructor(t.byteLength);return new ZE(e).set(new ZE(t)),e}function Pj(t,e){var n=e?nv(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var xj=/\w*$/;function Nj(t){var e=new t.constructor(t.source,xj.exec(t));return e.lastIndex=t.lastIndex,e}var eT=Us?Us.prototype:void 0,tT=eT?eT.valueOf:void 0;function Oj(t){return tT?Object(tT.call(t)):{}}function Dj(t,e){var n=e?nv(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Lj="[object Boolean]",Vj="[object Date]",Mj="[object Map]",Fj="[object Number]",$j="[object RegExp]",jj="[object Set]",Uj="[object String]",Bj="[object Symbol]",zj="[object ArrayBuffer]",qj="[object DataView]",Hj="[object Float32Array]",Wj="[object Float64Array]",Gj="[object Int8Array]",Kj="[object Int16Array]",Qj="[object Int32Array]",Yj="[object Uint8Array]",Xj="[object Uint8ClampedArray]",Jj="[object Uint16Array]",Zj="[object Uint32Array]";function eU(t,e,n){var r=t.constructor;switch(e){case zj:return nv(t);case Lj:case Vj:return new r(+t);case qj:return Pj(t,n);case Hj:case Wj:case Gj:case Kj:case Qj:case Yj:case Xj:case Jj:case Zj:return Dj(t,n);case Mj:return new r;case Fj:case Uj:return new r(t);case $j:return Nj(t);case jj:return new r;case Bj:return Oj(t)}}var nT=Object.create,tU=function(){function t(){}return function(e){if(!Oc(e))return{};if(nT)return nT(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function nU(t){return typeof t.constructor=="function"&&!J_(t)?tU(Y_(t)):{}}var rU="[object Map]";function iU(t){return Xo(t)&&gi(t)==rU}var rT=yl&&yl.isMap,sU=rT?X_(rT):iU,oU="[object Set]";function aU(t){return Xo(t)&&gi(t)==oU}var iT=yl&&yl.isSet,lU=iT?X_(iT):aU,uU=1,cU=2,hU=4,kb="[object Arguments]",dU="[object Array]",fU="[object Boolean]",pU="[object Date]",mU="[object Error]",Rb="[object Function]",gU="[object GeneratorFunction]",yU="[object Map]",_U="[object Number]",Pb="[object Object]",vU="[object RegExp]",wU="[object Set]",EU="[object String]",TU="[object Symbol]",IU="[object WeakMap]",SU="[object ArrayBuffer]",AU="[object DataView]",bU="[object Float32Array]",CU="[object Float64Array]",kU="[object Int8Array]",RU="[object Int16Array]",PU="[object Int32Array]",xU="[object Uint8Array]",NU="[object Uint8ClampedArray]",OU="[object Uint16Array]",DU="[object Uint32Array]",rt={};rt[kb]=rt[dU]=rt[SU]=rt[AU]=rt[fU]=rt[pU]=rt[bU]=rt[CU]=rt[kU]=rt[RU]=rt[PU]=rt[yU]=rt[_U]=rt[Pb]=rt[vU]=rt[wU]=rt[EU]=rt[TU]=rt[xU]=rt[NU]=rt[OU]=rt[DU]=!0;rt[mU]=rt[Rb]=rt[IU]=!1;function Lu(t,e,n,r,i,s){var o,l=e&uU,u=e&cU,h=e&hU;if(o!==void 0)return o;if(!Oc(t))return t;var p=Dc(t);if(p){if(o=Rj(t),!l)return Ib(t,o)}else{var g=gi(t),y=g==Rb||g==gU;if(yb(t))return dj(t,l);if(g==Pb||g==kb||y&&!i){if(o=u||y?{}:nU(t),!l)return u?_j(t,cj(o,t)):gj(t,sj(o,t))}else{if(!rt[g])return i?t:{};o=eU(t,g,l)}}s||(s=new Rl);var C=s.get(t);if(C)return C;s.set(t,o),lU(t)?t.forEach(function(O){o.add(Lu(O,e,n,O,t,s))}):sU(t)&&t.forEach(function(O,I){o.set(I,Lu(O,e,n,I,t,s))});var P=h?u?wj:vj:u?ev:Z_,x=p?void 0:P(t);return c$(x||t,function(O,I){x&&(I=O,O=t[I]),pb(o,I,Lu(O,e,n,I,t,s))}),o}var LU=1,VU=4;function Oh(t){return Lu(t,LU|VU)}var sT=Array.isArray,oT=Object.keys,MU=Object.prototype.hasOwnProperty,FU=typeof Element<"u";function Kg(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=sT(t),r=sT(e),i,s,o;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!Kg(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var l=t instanceof Date,u=e instanceof Date;if(l!=u)return!1;if(l&&u)return t.getTime()==e.getTime();var h=t instanceof RegExp,p=e instanceof RegExp;if(h!=p)return!1;if(h&&p)return t.toString()==e.toString();var g=oT(t);if(s=g.length,s!==oT(e).length)return!1;for(i=s;i--!==0;)if(!MU.call(e,g[i]))return!1;if(FU&&t instanceof Element&&e instanceof Element)return t===e;for(i=s;i--!==0;)if(o=g[i],!(o==="_owner"&&t.$$typeof)&&!Kg(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var $U=function(e,n){try{return Kg(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const To=ry($U);var jU=4;function aT(t){return Lu(t,jU)}function xb(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var UU="[object Symbol]";function rv(t){return typeof t=="symbol"||Xo(t)&&Yo(t)==UU}var BU="Expected a function";function iv(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(BU);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(iv.Cache||Gs),n}iv.Cache=Gs;var zU=500;function qU(t){var e=iv(t,function(r){return n.size===zU&&n.clear(),r}),n=e.cache;return e}var HU=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,WU=/\\(\\)?/g,GU=qU(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(HU,function(n,r,i,s){e.push(i?s.replace(WU,"$1"):r||n)}),e}),KU=1/0;function QU(t){if(typeof t=="string"||rv(t))return t;var e=t+"";return e=="0"&&1/t==-KU?"-0":e}var YU=1/0,lT=Us?Us.prototype:void 0,uT=lT?lT.toString:void 0;function Nb(t){if(typeof t=="string")return t;if(Dc(t))return xb(t,Nb)+"";if(rv(t))return uT?uT.call(t):"";var e=t+"";return e=="0"&&1/t==-YU?"-0":e}function XU(t){return t==null?"":Nb(t)}function Ob(t){return Dc(t)?xb(t,QU):rv(t)?[t]:Ib(GU(XU(t)))}var Db={exports:{}},Qe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ut=typeof Symbol=="function"&&Symbol.for,sv=Ut?Symbol.for("react.element"):60103,ov=Ut?Symbol.for("react.portal"):60106,Yf=Ut?Symbol.for("react.fragment"):60107,Xf=Ut?Symbol.for("react.strict_mode"):60108,Jf=Ut?Symbol.for("react.profiler"):60114,Zf=Ut?Symbol.for("react.provider"):60109,ep=Ut?Symbol.for("react.context"):60110,av=Ut?Symbol.for("react.async_mode"):60111,tp=Ut?Symbol.for("react.concurrent_mode"):60111,np=Ut?Symbol.for("react.forward_ref"):60112,rp=Ut?Symbol.for("react.suspense"):60113,JU=Ut?Symbol.for("react.suspense_list"):60120,ip=Ut?Symbol.for("react.memo"):60115,sp=Ut?Symbol.for("react.lazy"):60116,ZU=Ut?Symbol.for("react.block"):60121,e4=Ut?Symbol.for("react.fundamental"):60117,t4=Ut?Symbol.for("react.responder"):60118,n4=Ut?Symbol.for("react.scope"):60119;function Wn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case sv:switch(t=t.type,t){case av:case tp:case Yf:case Jf:case Xf:case rp:return t;default:switch(t=t&&t.$$typeof,t){case ep:case np:case sp:case ip:case Zf:return t;default:return e}}case ov:return e}}}function Lb(t){return Wn(t)===tp}Qe.AsyncMode=av;Qe.ConcurrentMode=tp;Qe.ContextConsumer=ep;Qe.ContextProvider=Zf;Qe.Element=sv;Qe.ForwardRef=np;Qe.Fragment=Yf;Qe.Lazy=sp;Qe.Memo=ip;Qe.Portal=ov;Qe.Profiler=Jf;Qe.StrictMode=Xf;Qe.Suspense=rp;Qe.isAsyncMode=function(t){return Lb(t)||Wn(t)===av};Qe.isConcurrentMode=Lb;Qe.isContextConsumer=function(t){return Wn(t)===ep};Qe.isContextProvider=function(t){return Wn(t)===Zf};Qe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===sv};Qe.isForwardRef=function(t){return Wn(t)===np};Qe.isFragment=function(t){return Wn(t)===Yf};Qe.isLazy=function(t){return Wn(t)===sp};Qe.isMemo=function(t){return Wn(t)===ip};Qe.isPortal=function(t){return Wn(t)===ov};Qe.isProfiler=function(t){return Wn(t)===Jf};Qe.isStrictMode=function(t){return Wn(t)===Xf};Qe.isSuspense=function(t){return Wn(t)===rp};Qe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Yf||t===tp||t===Jf||t===Xf||t===rp||t===JU||typeof t=="object"&&t!==null&&(t.$$typeof===sp||t.$$typeof===ip||t.$$typeof===Zf||t.$$typeof===ep||t.$$typeof===np||t.$$typeof===e4||t.$$typeof===t4||t.$$typeof===n4||t.$$typeof===ZU)};Qe.typeOf=Wn;Db.exports=Qe;var r4=Db.exports,Vb=r4,i4={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s4={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Mb={};Mb[Vb.ForwardRef]=i4;Mb[Vb.Memo]=s4;function ut(){return ut=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ut.apply(this,arguments)}function Ua(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var op=$.createContext(void 0);op.displayName="FormikContext";var o4=op.Provider;op.Consumer;function Fb(){var t=$.useContext(op);return t}var Ln=function(e){return typeof e=="function"},ap=function(e){return e!==null&&typeof e=="object"},a4=function(e){return String(Math.floor(Number(e)))===e},_m=function(e){return Object.prototype.toString.call(e)==="[object String]"},l4=function(e){return $.Children.count(e)===0},vm=function(e){return ap(e)&&Ln(e.then)};function Dn(t,e,n,r){r===void 0&&(r=0);for(var i=Ob(e);t&&r<i.length;)t=t[i[r++]];return r!==i.length&&!t||t===void 0?n:t}function Oo(t,e,n){for(var r=aT(t),i=r,s=0,o=Ob(e);s<o.length-1;s++){var l=o[s],u=Dn(t,o.slice(0,s+1));if(u&&(ap(u)||Array.isArray(u)))i=i[l]=aT(u);else{var h=o[s+1];i=i[l]=a4(h)&&Number(h)>=0?[]:{}}}return(s===0?t:i)[o[s]]===n?t:(n===void 0?delete i[o[s]]:i[o[s]]=n,s===0&&n===void 0&&delete r[o[s]],r)}function $b(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],l=t[o];ap(l)?n.get(l)||(n.set(l,!0),r[o]=Array.isArray(l)?[]:{},$b(l,e,n,r[o])):r[o]=e}return r}function u4(t,e){switch(e.type){case"SET_VALUES":return ut({},t,{values:e.payload});case"SET_TOUCHED":return ut({},t,{touched:e.payload});case"SET_ERRORS":return To(t.errors,e.payload)?t:ut({},t,{errors:e.payload});case"SET_STATUS":return ut({},t,{status:e.payload});case"SET_ISSUBMITTING":return ut({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return ut({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return ut({},t,{values:Oo(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return ut({},t,{touched:Oo(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return ut({},t,{errors:Oo(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return ut({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return ut({},t,{touched:$b(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return ut({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return ut({},t,{isSubmitting:!1});default:return t}}var _o={},Dh={};function c4(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,s=t.validateOnMount,o=s===void 0?!1:s,l=t.isInitialValid,u=t.enableReinitialize,h=u===void 0?!1:u,p=t.onSubmit,g=Ua(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),y=ut({validateOnChange:n,validateOnBlur:i,validateOnMount:o,onSubmit:p},g),C=$.useRef(y.initialValues),P=$.useRef(y.initialErrors||_o),x=$.useRef(y.initialTouched||Dh),O=$.useRef(y.initialStatus),I=$.useRef(!1),v=$.useRef({});$.useEffect(function(){return I.current=!0,function(){I.current=!1}},[]);var A=$.useState(0),F=A[1],Q=$.useRef({values:Oh(y.initialValues),errors:Oh(y.initialErrors)||_o,touched:Oh(y.initialTouched)||Dh,status:Oh(y.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),H=Q.current,S=$.useCallback(function(U){var te=Q.current;Q.current=u4(te,U),te!==Q.current&&F(function(ie){return ie+1})},[]),w=$.useCallback(function(U,te){return new Promise(function(ie,le){var he=y.validate(U,te);he==null?ie(_o):vm(he)?he.then(function(fe){ie(fe||_o)},function(fe){le(fe)}):ie(he)})},[y.validate]),b=$.useCallback(function(U,te){var ie=y.validationSchema,le=Ln(ie)?ie(te):ie,he=te&&le.validateAt?le.validateAt(te,U):f4(U,le);return new Promise(function(fe,ze){he.then(function(){fe(_o)},function(Rt){Rt.name==="ValidationError"?fe(d4(Rt)):ze(Rt)})})},[y.validationSchema]),R=$.useCallback(function(U,te){return new Promise(function(ie){return ie(v.current[U].validate(te))})},[]),N=$.useCallback(function(U){var te=Object.keys(v.current).filter(function(le){return Ln(v.current[le].validate)}),ie=te.length>0?te.map(function(le){return R(le,Dn(U,le))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(ie).then(function(le){return le.reduce(function(he,fe,ze){return fe==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||fe&&(he=Oo(he,te[ze],fe)),he},{})})},[R]),L=$.useCallback(function(U){return Promise.all([N(U),y.validationSchema?b(U):{},y.validate?w(U):{}]).then(function(te){var ie=te[0],le=te[1],he=te[2],fe=zg.all([ie,le,he],{arrayMerge:p4});return fe})},[y.validate,y.validationSchema,N,w,b]),k=rr(function(U){return U===void 0&&(U=H.values),S({type:"SET_ISVALIDATING",payload:!0}),L(U).then(function(te){return I.current&&(S({type:"SET_ISVALIDATING",payload:!1}),S({type:"SET_ERRORS",payload:te})),te})});$.useEffect(function(){o&&I.current===!0&&To(C.current,y.initialValues)&&k(C.current)},[o,k]);var Ve=$.useCallback(function(U){var te=U&&U.values?U.values:C.current,ie=U&&U.errors?U.errors:P.current?P.current:y.initialErrors||{},le=U&&U.touched?U.touched:x.current?x.current:y.initialTouched||{},he=U&&U.status?U.status:O.current?O.current:y.initialStatus;C.current=te,P.current=ie,x.current=le,O.current=he;var fe=function(){S({type:"RESET_FORM",payload:{isSubmitting:!!U&&!!U.isSubmitting,errors:ie,touched:le,status:he,values:te,isValidating:!!U&&!!U.isValidating,submitCount:U&&U.submitCount&&typeof U.submitCount=="number"?U.submitCount:0}})};if(y.onReset){var ze=y.onReset(H.values,Gn);vm(ze)?ze.then(fe):fe()}else fe()},[y.initialErrors,y.initialStatus,y.initialTouched,y.onReset]);$.useEffect(function(){I.current===!0&&!To(C.current,y.initialValues)&&h&&(C.current=y.initialValues,Ve(),o&&k(C.current))},[h,y.initialValues,Ve,o,k]),$.useEffect(function(){h&&I.current===!0&&!To(P.current,y.initialErrors)&&(P.current=y.initialErrors||_o,S({type:"SET_ERRORS",payload:y.initialErrors||_o}))},[h,y.initialErrors]),$.useEffect(function(){h&&I.current===!0&&!To(x.current,y.initialTouched)&&(x.current=y.initialTouched||Dh,S({type:"SET_TOUCHED",payload:y.initialTouched||Dh}))},[h,y.initialTouched]),$.useEffect(function(){h&&I.current===!0&&!To(O.current,y.initialStatus)&&(O.current=y.initialStatus,S({type:"SET_STATUS",payload:y.initialStatus}))},[h,y.initialStatus,y.initialTouched]);var It=rr(function(U){if(v.current[U]&&Ln(v.current[U].validate)){var te=Dn(H.values,U),ie=v.current[U].validate(te);return vm(ie)?(S({type:"SET_ISVALIDATING",payload:!0}),ie.then(function(le){return le}).then(function(le){S({type:"SET_FIELD_ERROR",payload:{field:U,value:le}}),S({type:"SET_ISVALIDATING",payload:!1})})):(S({type:"SET_FIELD_ERROR",payload:{field:U,value:ie}}),Promise.resolve(ie))}else if(y.validationSchema)return S({type:"SET_ISVALIDATING",payload:!0}),b(H.values,U).then(function(le){return le}).then(function(le){S({type:"SET_FIELD_ERROR",payload:{field:U,value:Dn(le,U)}}),S({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),ln=$.useCallback(function(U,te){var ie=te.validate;v.current[U]={validate:ie}},[]),ot=$.useCallback(function(U){delete v.current[U]},[]),X=rr(function(U,te){S({type:"SET_TOUCHED",payload:U});var ie=te===void 0?i:te;return ie?k(H.values):Promise.resolve()}),ce=$.useCallback(function(U){S({type:"SET_ERRORS",payload:U})},[]),j=rr(function(U,te){var ie=Ln(U)?U(H.values):U;S({type:"SET_VALUES",payload:ie});var le=te===void 0?n:te;return le?k(ie):Promise.resolve()}),Ae=$.useCallback(function(U,te){S({type:"SET_FIELD_ERROR",payload:{field:U,value:te}})},[]),me=rr(function(U,te,ie){S({type:"SET_FIELD_VALUE",payload:{field:U,value:te}});var le=ie===void 0?n:ie;return le?k(Oo(H.values,U,te)):Promise.resolve()}),Ie=$.useCallback(function(U,te){var ie=te,le=U,he;if(!_m(U)){U.persist&&U.persist();var fe=U.target?U.target:U.currentTarget,ze=fe.type,Rt=fe.name,dr=fe.id,Ys=fe.value,fr=fe.checked,Nl=fe.outerHTML,Xs=fe.options,Js=fe.multiple;ie=te||Rt||dr,le=/number|range/.test(ze)?(he=parseFloat(Ys),isNaN(he)?"":he):/checkbox/.test(ze)?g4(Dn(H.values,ie),fr,Ys):Xs&&Js?m4(Xs):Ys}ie&&me(ie,le)},[me,H.values]),xe=rr(function(U){if(_m(U))return function(te){return Ie(te,U)};Ie(U)}),Me=rr(function(U,te,ie){te===void 0&&(te=!0),S({type:"SET_FIELD_TOUCHED",payload:{field:U,value:te}});var le=ie===void 0?i:ie;return le?k(H.values):Promise.resolve()}),$e=$.useCallback(function(U,te){U.persist&&U.persist();var ie=U.target,le=ie.name,he=ie.id,fe=ie.outerHTML,ze=te||le||he;Me(ze,!0)},[Me]),dt=rr(function(U){if(_m(U))return function(te){return $e(te,U)};$e(U)}),ue=$.useCallback(function(U){Ln(U)?S({type:"SET_FORMIK_STATE",payload:U}):S({type:"SET_FORMIK_STATE",payload:function(){return U}})},[]),ni=$.useCallback(function(U){S({type:"SET_STATUS",payload:U})},[]),Or=$.useCallback(function(U){S({type:"SET_ISSUBMITTING",payload:U})},[]),Dr=rr(function(){return S({type:"SUBMIT_ATTEMPT"}),k().then(function(U){var te=U instanceof Error,ie=!te&&Object.keys(U).length===0;if(ie){var le;try{if(le=Bi(),le===void 0)return}catch(he){throw he}return Promise.resolve(le).then(function(he){return I.current&&S({type:"SUBMIT_SUCCESS"}),he}).catch(function(he){if(I.current)throw S({type:"SUBMIT_FAILURE"}),he})}else if(I.current&&(S({type:"SUBMIT_FAILURE"}),te))throw U})}),Ks=rr(function(U){U&&U.preventDefault&&Ln(U.preventDefault)&&U.preventDefault(),U&&U.stopPropagation&&Ln(U.stopPropagation)&&U.stopPropagation(),Dr().catch(function(te){console.warn("Warning: An unhandled error was caught from submitForm()",te)})}),Gn={resetForm:Ve,validateForm:k,validateField:It,setErrors:ce,setFieldError:Ae,setFieldTouched:Me,setFieldValue:me,setStatus:ni,setSubmitting:Or,setTouched:X,setValues:j,setFormikState:ue,submitForm:Dr},Bi=rr(function(){return p(H.values,Gn)}),cr=rr(function(U){U&&U.preventDefault&&Ln(U.preventDefault)&&U.preventDefault(),U&&U.stopPropagation&&Ln(U.stopPropagation)&&U.stopPropagation(),Ve()}),hr=$.useCallback(function(U){return{value:Dn(H.values,U),error:Dn(H.errors,U),touched:!!Dn(H.touched,U),initialValue:Dn(C.current,U),initialTouched:!!Dn(x.current,U),initialError:Dn(P.current,U)}},[H.errors,H.touched,H.values]),Pl=$.useCallback(function(U){return{setValue:function(ie,le){return me(U,ie,le)},setTouched:function(ie,le){return Me(U,ie,le)},setError:function(ie){return Ae(U,ie)}}},[me,Me,Ae]),xl=$.useCallback(function(U){var te=ap(U),ie=te?U.name:U,le=Dn(H.values,ie),he={name:ie,value:le,onChange:xe,onBlur:dt};if(te){var fe=U.type,ze=U.value,Rt=U.as,dr=U.multiple;fe==="checkbox"?ze===void 0?he.checked=!!le:(he.checked=!!(Array.isArray(le)&&~le.indexOf(ze)),he.value=ze):fe==="radio"?(he.checked=le===ze,he.value=ze):Rt==="select"&&dr&&(he.value=he.value||[],he.multiple=!0)}return he},[dt,xe,H.values]),zi=$.useMemo(function(){return!To(C.current,H.values)},[C.current,H.values]),Qs=$.useMemo(function(){return typeof l<"u"?zi?H.errors&&Object.keys(H.errors).length===0:l!==!1&&Ln(l)?l(y):l:H.errors&&Object.keys(H.errors).length===0},[l,zi,H.errors,y]),na=ut({},H,{initialValues:C.current,initialErrors:P.current,initialTouched:x.current,initialStatus:O.current,handleBlur:dt,handleChange:xe,handleReset:cr,handleSubmit:Ks,resetForm:Ve,setErrors:ce,setFormikState:ue,setFieldTouched:Me,setFieldValue:me,setFieldError:Ae,setStatus:ni,setSubmitting:Or,setTouched:X,setValues:j,submitForm:Dr,validateForm:k,validateField:It,isValid:Qs,dirty:zi,unregisterField:ot,registerField:ln,getFieldProps:xl,getFieldMeta:hr,getFieldHelpers:Pl,validateOnBlur:i,validateOnChange:n,validateOnMount:o});return na}function h4(t){var e=c4(t),n=t.component,r=t.children,i=t.render,s=t.innerRef;return $.useImperativeHandle(s,function(){return e}),$.createElement(o4,{value:e},n?$.createElement(n,e):i?i(e):r?Ln(r)?r(e):l4(r)?null:$.Children.only(r):null)}function d4(t){var e={};if(t.inner){if(t.inner.length===0)return Oo(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var o=s;Dn(e,o.path)||(e=Oo(e,o.path,o.message))}}return e}function f4(t,e,n,r){n===void 0&&(n=!1);var i=Qg(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:i})}function Qg(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||ME(i)?Qg(i):i!==""?i:void 0}):ME(t[r])?e[r]=Qg(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function p4(t,e,n){var r=t.slice();return e.forEach(function(s,o){if(typeof r[o]>"u"){var l=n.clone!==!1,u=l&&n.isMergeableObject(s);r[o]=u?zg(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[o]=zg(t[o],s,n):t.indexOf(s)===-1&&r.push(s)}),r}function m4(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function g4(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(t))r=t,s=t.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var y4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?$.useLayoutEffect:$.useEffect;function rr(t){var e=$.useRef(t);return y4(function(){e.current=t}),$.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}function wm(t){var e=t.validate,n=t.name,r=t.render,i=t.children,s=t.as,o=t.component,l=t.className,u=Ua(t,["validate","name","render","children","as","component","className"]),h=Fb(),p=Ua(h,["validate","validationSchema"]),g=p.registerField,y=p.unregisterField;$.useEffect(function(){return g(n,{validate:e}),function(){y(n)}},[g,y,n,e]);var C=p.getFieldProps(ut({name:n},u)),P=p.getFieldMeta(n),x={field:C,form:p};if(r)return r(ut({},x,{meta:P}));if(Ln(i))return i(ut({},x,{meta:P}));if(o){if(typeof o=="string"){var O=u.innerRef,I=Ua(u,["innerRef"]);return $.createElement(o,ut({ref:O},C,I,{className:l}),i)}return $.createElement(o,ut({field:C,form:p},u,{className:l}),i)}var v=s||"input";if(typeof v=="string"){var A=u.innerRef,F=Ua(u,["innerRef"]);return $.createElement(v,ut({ref:A},C,F,{className:l}),i)}return $.createElement(v,ut({},C,u,{className:l}),i)}var jb=$.forwardRef(function(t,e){var n=t.action,r=Ua(t,["action"]),i=n??"#",s=Fb(),o=s.handleReset,l=s.handleSubmit;return $.createElement("form",ut({onSubmit:l,ref:e,onReset:o,action:i},r))});jb.displayName="Form";function ea(t){this._maxSize=t,this.clear()}ea.prototype.clear=function(){this._size=0,this._values=Object.create(null)};ea.prototype.get=function(t){return this._values[t]};ea.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var _4=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Ub=/^\d+$/,v4=/^\d/,w4=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,E4=/^\s*(['"]?)(.*?)(\1)\s*$/,lv=512,cT=new ea(lv),hT=new ea(lv),dT=new ea(lv),Do={Cache:ea,split:Yg,normalizePath:Em,setter:function(t){var e=Em(t);return hT.get(t)||hT.set(t,function(r,i){for(var s=0,o=e.length,l=r;s<o-1;){var u=e[s];if(u==="__proto__"||u==="constructor"||u==="prototype")return r;l=l[e[s++]]}l[e[s]]=i})},getter:function(t,e){var n=Em(t);return dT.get(t)||dT.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(uv(n)||Ub.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){T4(Array.isArray(t)?t:Yg(t),e,n)}};function Em(t){return cT.get(t)||cT.set(t,Yg(t).map(function(e){return e.replace(E4,"$2")}))}function Yg(t){return t.match(_4)||[""]}function T4(t,e,n){var r=t.length,i,s,o,l;for(s=0;s<r;s++)i=t[s],i&&(A4(i)&&(i='"'+i+'"'),l=uv(i),o=!l&&/^\d+$/.test(i),e.call(n,i,l,o,s,t))}function uv(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function I4(t){return t.match(v4)&&!t.match(Ub)}function S4(t){return w4.test(t)}function A4(t){return!uv(t)&&(I4(t)||S4(t))}const b4=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,lp=t=>t.match(b4)||[],up=t=>t[0].toUpperCase()+t.slice(1),cv=(t,e)=>lp(t).join(e).toLowerCase(),Bb=t=>lp(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),C4=t=>up(Bb(t)),k4=t=>cv(t,"_"),R4=t=>cv(t,"-"),P4=t=>up(cv(t," ")),x4=t=>lp(t).map(up).join(" ");var Tm={words:lp,upperFirst:up,camelCase:Bb,pascalCase:C4,snakeCase:k4,kebabCase:R4,sentenceCase:P4,titleCase:x4},hv={exports:{}};hv.exports=function(t){return zb(N4(t),t)};hv.exports.array=zb;function zb(t,e){var n=t.length,r=new Array(n),i={},s=n,o=O4(e),l=D4(t);for(e.forEach(function(h){if(!l.has(h[0])||!l.has(h[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||u(t[s],s,new Set);return r;function u(h,p,g){if(g.has(h)){var y;try{y=", node was:"+JSON.stringify(h)}catch{y=""}throw new Error("Cyclic dependency"+y)}if(!l.has(h))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(h));if(!i[p]){i[p]=!0;var C=o.get(h)||new Set;if(C=Array.from(C),p=C.length){g.add(h);do{var P=C[--p];u(P,l.get(P),g)}while(p);g.delete(h)}r[--n]=h}}}function N4(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function O4(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function D4(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var L4=hv.exports;const V4=ry(L4),M4=Object.prototype.toString,F4=Error.prototype.toString,$4=RegExp.prototype.toString,j4=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",U4=/^Symbol\((.*)\)(.*)$/;function B4(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function fT(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return B4(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return j4.call(t).replace(U4,"Symbol($1)");const r=M4.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+F4.call(t)+"]":r==="RegExp"?$4.call(t):null}function Os(t,e){let n=fT(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=fT(this[r],e);return s!==null?s:i},2)}function qb(t){return t==null?[]:[].concat(t)}let Hb,Wb,Gb,z4=/\$\{\s*(\w+)\s*\}/g;Hb=Symbol.toStringTag;class pT{constructor(e,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Hb]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],qb(e).forEach(s=>{if(An.isError(s)){this.errors.push(...s.errors);const o=s.inner.length?s.inner:[s];this.inner.push(...o)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}Wb=Symbol.hasInstance;Gb=Symbol.toStringTag;class An extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(z4,(i,s)=>Os(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){const o=new pT(e,n,r,i);if(s)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Gb]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,An)}static[Wb](e){return pT[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Wr={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${Os(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Os(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${Os(n,!0)}\``+i}},Tn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},as={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Xg={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},q4={isValue:"${path} field must be ${value}"},Jg={noUnknown:"${path} field has unspecified keys: ${unknown}"},H4={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},W4={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${Os(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${Os(n,!0)}\``}return An.formatError(Wr.notType,t)}};Object.assign(Object.create(null),{mixed:Wr,string:Tn,number:as,date:Xg,object:Jg,array:H4,boolean:q4,tuple:W4});const dv=t=>t&&t.__isYupSchema__;class ef{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...l)=>l.every(u=>u===r);return new ef(e,(l,u)=>{var h;let p=o(...l)?i:s;return(h=p==null?void 0:p(u))!=null?h:u})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!dv(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const Lh={context:"$",value:"."};class ta{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Lh.context,this.isValue=this.key[0]===Lh.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Lh.context:this.isValue?Lh.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Do.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}ta.prototype.__isYupRef=!0;const Ai=t=>t==null;function Sa(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},l,u){const{name:h,test:p,params:g,message:y,skipAbsent:C}=t;let{parent:P,context:x,abortEarly:O=o.spec.abortEarly,disableStackTrace:I=o.spec.disableStackTrace}=i;function v(N){return ta.isRef(N)?N.getValue(n,P,x):N}function A(N={}){const L=Object.assign({value:n,originalValue:s,label:o.spec.label,path:N.path||r,spec:o.spec,disableStackTrace:N.disableStackTrace||I},g,N.params);for(const Ve of Object.keys(L))L[Ve]=v(L[Ve]);const k=new An(An.formatError(N.message||y,L),n,L.path,N.type||h,L.disableStackTrace);return k.params=L,k}const F=O?l:u;let Q={path:r,parent:P,type:h,from:i.from,createError:A,resolve:v,options:i,originalValue:s,schema:o};const H=N=>{An.isError(N)?F(N):N?u(null):F(A())},S=N=>{An.isError(N)?F(N):l(N)};if(C&&Ai(n))return H(!0);let b;try{var R;if(b=p.call(Q,n,Q),typeof((R=b)==null?void 0:R.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${Q.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(b).then(H,S)}}catch(N){S(N);return}H(b)}return e.OPTIONS=t,e}function G4(t,e,n,r=n){let i,s,o;return e?(Do.forEach(e,(l,u,h)=>{let p=u?l.slice(1,l.length-1):l;t=t.resolve({context:r,parent:i,value:n});let g=t.type==="tuple",y=h?parseInt(p,10):0;if(t.innerType||g){if(g&&!h)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&y>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[y],t=g?t.spec.types[y]:t.innerType}if(!h){if(!t.fields||!t.fields[p])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[p],t=t.fields[p]}s=p,o=u?"["+l+"]":"."+l}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class tf extends Set{describe(){const e=[];for(const n of this.values())e.push(ta.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new tf(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function Ba(t,e=new Map){if(dv(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=Ba(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,Ba(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(Ba(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=Ba(i,e)}else throw Error(`Unable to clone ${t}`);return n}class Nr{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new tf,this._blacklist=new tf,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Wr.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Ba(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&Ai(s))return s;let o=Os(e),l=Os(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(l!==o?`result of cast: ${l}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:l=this.spec.strict}=n,u=e;l||(u=this._cast(u,Object.assign({assert:!1},n)));let h=[];for(let p of Object.values(this.internalTests))p&&h.push(p);this.runTests({path:s,value:u,originalValue:o,options:n,tests:h},r,p=>{if(p.length)return i(p,u);this.runTests({path:s,value:u,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:l,path:u,options:h}=e,p=x=>{i||(i=!0,n(x,o))},g=x=>{i||(i=!0,r(x,o))},y=s.length,C=[];if(!y)return g([]);let P={value:o,originalValue:l,path:u,options:h,schema:this};for(let x=0;x<s.length;x++){const O=s[x];O(P,p,function(v){v&&(Array.isArray(v)?C.push(...v):C.push(v)),--y<=0&&g(C)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const l=e??n;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const u=typeof l=="number";let h=r[l];const p=Object.assign({},o,{strict:!0,parent:r,value:h,originalValue:s[l],key:void 0,[u?"index":"key"]:l,path:u||l.includes(".")?`${i||""}[${u?l:`"${l}"`}]`:(i?`${i}.`:"")+e});return(g,y,C)=>this.resolve(p)._validate(h,p,y,C)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((o,l)=>i._validate(e,n,(u,h)=>{An.isError(u)&&(u.value=h),l(u)},(u,h)=>{u.length?l(new An(u,h,void 0,void 0,s)):o(h)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(l,u)=>{throw An.isError(l)&&(l.value=u),l},(l,u)=>{if(l.length)throw new An(l,e,void 0,void 0,o);s=u}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(An.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(An.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Ba(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=Sa({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=Sa({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Wr.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Wr.notNull){return this.nullability(!1,e)}required(e=Wr.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Wr.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=Sa(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=qb(e).map(s=>new ta(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new ef(i,n):ef.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=Sa({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Wr.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=Sa({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=Wr.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=Sa({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(u=>({name:u.OPTIONS.name,params:u.OPTIONS.params})).filter((u,h,p)=>p.findIndex(g=>g.name===u.name)===h)}}}Nr.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Nr.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=G4(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])Nr.prototype[t]=Nr.prototype.oneOf;for(const t of["not","nope"])Nr.prototype[t]=Nr.prototype.notOneOf;const K4=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Q4(t){const e=Zg(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function Zg(t){var e,n;const r=K4.exec(t);return r?{year:fi(r[1]),month:fi(r[2],1)-1,day:fi(r[3],1),hour:fi(r[4]),minute:fi(r[5]),second:fi(r[6]),millisecond:r[7]?fi(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:fi(r[10]),minuteOffset:fi(r[11])}:null}function fi(t,e=0){return Number(t)||e}let Y4=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,X4=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,J4=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Z4="^\\d{4}-\\d{2}-\\d{2}",e9="\\d{2}:\\d{2}:\\d{2}",t9="(([+-]\\d{2}(:?\\d{2})?)|Z)",n9=new RegExp(`${Z4}T${e9}(\\.\\d+)?${t9}$`),r9=t=>Ai(t)||t===t.trim(),i9={}.toString();function Kb(){return new Qb}class Qb extends Nr{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===i9?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Wr.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Tn.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Tn.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Tn.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||Tn.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=Tn.email){return this.matches(Y4,{name:"email",message:e,excludeEmptyString:!0})}url(e=Tn.url){return this.matches(X4,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Tn.uuid){return this.matches(J4,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,i;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=e:n=e),this.matches(n9,{name:"datetime",message:n||Tn.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Tn.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:s=>{if(!s||r)return!0;const o=Zg(s);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||Tn.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const o=Zg(s);return o?o.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Tn.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:r9})}lowercase(e=Tn.lowercase){return this.transform(n=>Ai(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ai(n)||n===n.toLowerCase()})}uppercase(e=Tn.uppercase){return this.transform(n=>Ai(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ai(n)||n===n.toUpperCase()})}}Kb.prototype=Qb.prototype;let s9=t=>t!=+t;function ey(){return new Yb}class Yb extends Nr{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!s9(e)}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce)return e;let i=e;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return r.isType(i)||i===null?i:parseFloat(i)})})}min(e,n=as.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=as.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=as.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=as.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=as.positive){return this.moreThan(0,e)}negative(e=as.negative){return this.lessThan(0,e)}integer(e=as.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>Ai(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(i=>Ai(i)?i:Math[e](i))}}ey.prototype=Yb.prototype;let o9=new Date(""),a9=t=>Object.prototype.toString.call(t)==="[object Date]";class cp extends Nr{constructor(){super({type:"date",check(e){return a9(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=Q4(e),isNaN(e)?cp.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(ta.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=Xg.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=Xg.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}cp.INVALID_DATE=o9;cp.prototype;function l9(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,l])=>`${o}-${l}`));function s(o,l){let u=Do.split(o)[0];r.add(u),i.has(`${l}-${u}`)||n.push([l,u])}for(const o of Object.keys(t)){let l=t[o];r.add(o),ta.isRef(l)&&l.isSibling?s(l.path,o):dv(l)&&"deps"in l&&l.deps.forEach(u=>s(u,o))}return V4.array(Array.from(r),n).reverse()}function mT(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function Xb(t){return(e,n)=>mT(t,e)-mT(t,n)}const u9=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function ad(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=ad(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=ad(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(ad)}):"optional"in t?t.optional():t}const c9=(t,e)=>{const n=[...Do.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=Do.getter(Do.join(n),!0)(t);return!!(i&&r in i)};let gT=t=>Object.prototype.toString.call(t)==="[object Object]";function h9(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const d9=Xb([]);function Jb(t){return new Zb(t)}class Zb extends Nr{constructor(e){super({type:"object",check(n){return gT(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=d9,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(i).filter(g=>!this._nodes.includes(g))),u={},h=Object.assign({},n,{parent:u,__validating:n.__validating||!1}),p=!1;for(const g of l){let y=s[g],C=g in i;if(y){let P,x=i[g];h.path=(n.path?`${n.path}.`:"")+g,y=y.resolve({value:x,context:n.context,parent:u});let O=y instanceof Nr?y.spec:void 0,I=O==null?void 0:O.strict;if(O!=null&&O.strip){p=p||g in i;continue}P=!n.__validating||!I?y.cast(i[g],h):i[g],P!==void 0&&(u[g]=P)}else C&&!o&&(u[g]=i[g]);(C!==g in u||u[g]!==i[g])&&(p=!0)}return p?u:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:l=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(u,h)=>{if(!l||!gT(h)){i(u,h);return}o=o||h;let p=[];for(let g of this._nodes){let y=this.fields[g];!y||ta.isRef(y)||p.push(y.asNestedTest({options:n,key:g,parent:h,parentPath:n.path,originalParent:o}))}this.runTests({tests:p,value:h,originalValue:o,options:n},r,g=>{i(g.sort(this._sortErrors).concat(u),h)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=l9(e,n),r._sortErrors=Xb(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return ad(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=Do.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return c9(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(u9)}noUnknown(e=!0,n=Jg.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=h9(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=Jg.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(Tm.camelCase)}snakeCase(){return this.transformKeys(Tm.snakeCase)}constantCase(){return this.transformKeys(e=>Tm.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,o]of Object.entries(n.fields)){var i;let l=e;(i=l)!=null&&i.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[s]})),r.fields[s]=o.describe(l)}return r}}Jb.prototype=Zb.prototype;function eC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=eC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ws(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=eC(t))&&(r&&(r+=" "),r+=e);return r}const pc=t=>typeof t=="number"&&!isNaN(t),Lo=t=>typeof t=="string",$n=t=>typeof t=="function",ld=t=>Lo(t)||$n(t)?t:null,ty=t=>$.isValidElement(t)||Lo(t)||$n(t)||pc(t);function f9(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function hp(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:l,position:u,preventExitTransition:h,done:p,nodeRef:g,isIn:y,playToast:C}=o;const P=r?`${e}--${u}`:e,x=r?`${n}--${u}`:n,O=$.useRef(0);return $.useLayoutEffect(()=>{const I=g.current,v=P.split(" "),A=F=>{F.target===g.current&&(C(),I.removeEventListener("animationend",A),I.removeEventListener("animationcancel",A),O.current===0&&F.type!=="animationcancel"&&I.classList.remove(...v))};I.classList.add(...v),I.addEventListener("animationend",A),I.addEventListener("animationcancel",A)},[]),$.useEffect(()=>{const I=g.current,v=()=>{I.removeEventListener("animationend",v),i?f9(I,p,s):p()};y||(h?v():(O.current=1,I.className+=` ${x}`,I.addEventListener("animationend",v)))},[y]),Ze.createElement(Ze.Fragment,null,l)}}function yT(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const pn=new Map;let mc=[];const ny=new Set,p9=t=>ny.forEach(e=>e(t)),tC=()=>pn.size>0;function nC(t,e){var n;if(e)return!((n=pn.get(e))==null||!n.isToastActive(t));let r=!1;return pn.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function rC(t,e){ty(t)&&(tC()||mc.push({content:t,options:e}),pn.forEach(n=>{n.buildToast(t,e)}))}function _T(t,e){pn.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function m9(t){const{subscribe:e,getSnapshot:n,setProps:r}=$.useRef(function(s){const o=s.containerId||1;return{subscribe(l){const u=function(p,g,y){let C=1,P=0,x=[],O=[],I=[],v=g;const A=new Map,F=new Set,Q=()=>{I=Array.from(A.values()),F.forEach(w=>w())},H=w=>{O=w==null?[]:O.filter(b=>b!==w),Q()},S=w=>{const{toastId:b,onOpen:R,updateId:N,children:L}=w.props,k=N==null;w.staleId&&A.delete(w.staleId),A.set(b,w),O=[...O,w.props.toastId].filter(Ve=>Ve!==w.staleId),Q(),y(yT(w,k?"added":"updated")),k&&$n(R)&&R($.isValidElement(L)&&L.props)};return{id:p,props:v,observe:w=>(F.add(w),()=>F.delete(w)),toggle:(w,b)=>{A.forEach(R=>{b!=null&&b!==R.props.toastId||$n(R.toggle)&&R.toggle(w)})},removeToast:H,toasts:A,clearQueue:()=>{P-=x.length,x=[]},buildToast:(w,b)=>{if((me=>{let{containerId:Ie,toastId:xe,updateId:Me}=me;const $e=Ie?Ie!==p:p!==1,dt=A.has(xe)&&Me==null;return $e||dt})(b))return;const{toastId:R,updateId:N,data:L,staleId:k,delay:Ve}=b,It=()=>{H(R)},ln=N==null;ln&&P++;const ot={...v,style:v.toastStyle,key:C++,...Object.fromEntries(Object.entries(b).filter(me=>{let[Ie,xe]=me;return xe!=null})),toastId:R,updateId:N,data:L,closeToast:It,isIn:!1,className:ld(b.className||v.toastClassName),bodyClassName:ld(b.bodyClassName||v.bodyClassName),progressClassName:ld(b.progressClassName||v.progressClassName),autoClose:!b.isLoading&&(X=b.autoClose,ce=v.autoClose,X===!1||pc(X)&&X>0?X:ce),deleteToast(){const me=A.get(R),{onClose:Ie,children:xe}=me.props;$n(Ie)&&Ie($.isValidElement(xe)&&xe.props),y(yT(me,"removed")),A.delete(R),P--,P<0&&(P=0),x.length>0?S(x.shift()):Q()}};var X,ce;ot.closeButton=v.closeButton,b.closeButton===!1||ty(b.closeButton)?ot.closeButton=b.closeButton:b.closeButton===!0&&(ot.closeButton=!ty(v.closeButton)||v.closeButton);let j=w;$.isValidElement(w)&&!Lo(w.type)?j=$.cloneElement(w,{closeToast:It,toastProps:ot,data:L}):$n(w)&&(j=w({closeToast:It,toastProps:ot,data:L}));const Ae={content:j,props:ot,staleId:k};v.limit&&v.limit>0&&P>v.limit&&ln?x.push(Ae):pc(Ve)?setTimeout(()=>{S(Ae)},Ve):S(Ae)},setProps(w){v=w},setToggle:(w,b)=>{A.get(w).toggle=b},isToastActive:w=>O.some(b=>b===w),getSnapshot:()=>I}}(o,s,p9);pn.set(o,u);const h=u.observe(l);return mc.forEach(p=>rC(p.content,p.options)),mc=[],()=>{h(),pn.delete(o)}},setProps(l){var u;(u=pn.get(o))==null||u.setProps(l)},getSnapshot(){var l;return(l=pn.get(o))==null?void 0:l.getSnapshot()}}}(t)).current;r(t);const i=$.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const o=new Map;return t.newestOnTop&&i.reverse(),i.forEach(l=>{const{position:u}=l.props;o.has(u)||o.set(u,[]),o.get(u).push(l)}),Array.from(o,l=>s(l[0],l[1]))},isToastActive:nC,count:i==null?void 0:i.length}}function g9(t){const[e,n]=$.useState(!1),[r,i]=$.useState(!1),s=$.useRef(null),o=$.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:u,closeToast:h,onClick:p,closeOnClick:g}=t;var y,C;function P(){n(!0)}function x(){n(!1)}function O(A){const F=s.current;o.canDrag&&F&&(o.didMove=!0,e&&x(),o.delta=t.draggableDirection==="x"?A.clientX-o.start:A.clientY-o.start,o.start!==A.clientX&&(o.canCloseOnClick=!1),F.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,F.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function I(){document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",I);const A=s.current;if(o.canDrag&&o.didMove&&A){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();A.style.transition="transform 0.2s, opacity 0.2s",A.style.removeProperty("transform"),A.style.removeProperty("opacity")}}(C=pn.get((y={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||C.setToggle(y.id,y.fn),$.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||x(),window.addEventListener("focus",P),window.addEventListener("blur",x),()=>{window.removeEventListener("focus",P),window.removeEventListener("blur",x)}},[t.pauseOnFocusLoss]);const v={onPointerDown:function(A){if(t.draggable===!0||t.draggable===A.pointerType){o.didMove=!1,document.addEventListener("pointermove",O),document.addEventListener("pointerup",I);const F=s.current;o.canCloseOnClick=!0,o.canDrag=!0,F.style.transition="none",t.draggableDirection==="x"?(o.start=A.clientX,o.removalDistance=F.offsetWidth*(t.draggablePercent/100)):(o.start=A.clientY,o.removalDistance=F.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(A){const{top:F,bottom:Q,left:H,right:S}=s.current.getBoundingClientRect();A.nativeEvent.type!=="touchend"&&t.pauseOnHover&&A.clientX>=H&&A.clientX<=S&&A.clientY>=F&&A.clientY<=Q?x():P()}};return l&&u&&(v.onMouseEnter=x,t.stacked||(v.onMouseLeave=P)),g&&(v.onClick=A=>{p&&p(A),o.canCloseOnClick&&h()}),{playToast:P,pauseToast:x,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:v}}function y9(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:l,controlledProgress:u,progress:h,rtl:p,isIn:g,theme:y}=t;const C=s||u&&h===0,P={...l,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};u&&(P.transform=`scaleX(${h})`);const x=ws("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":p}),O=$n(o)?o({rtl:p,type:i,defaultClassName:x}):ws(x,o),I={[u&&h>=1?"onTransitionEnd":"onAnimationEnd"]:u&&h<1?null:()=>{g&&r()}};return Ze.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":C},Ze.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${i}`}),Ze.createElement("div",{role:"progressbar","aria-hidden":C?"true":"false","aria-label":"notification timer",className:O,style:P,...I}))}let _9=1;const iC=()=>""+_9++;function v9(t){return t&&(Lo(t.toastId)||pc(t.toastId))?t.toastId:iC()}function Vu(t,e){return rC(t,e),e.toastId}function nf(t,e){return{...e,type:e&&e.type||t,toastId:v9(e)}}function Vh(t){return(e,n)=>Vu(e,nf(t,n))}function Ue(t,e){return Vu(t,nf("default",e))}Ue.loading=(t,e)=>Vu(t,nf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Ue.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=Lo(i)?Ue.loading(i,n):Ue.loading(i.render,{...n,...i}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(p,g,y)=>{if(g==null)return void Ue.dismiss(r);const C={type:p,...l,...n,data:y},P=Lo(g)?{render:g}:g;return r?Ue.update(r,{...C,...P}):Ue(P.render,{...C,...P}),y},h=$n(t)?t():t;return h.then(p=>u("success",o,p)).catch(p=>u("error",s,p)),h},Ue.success=Vh("success"),Ue.info=Vh("info"),Ue.error=Vh("error"),Ue.warning=Vh("warning"),Ue.warn=Ue.warning,Ue.dark=(t,e)=>Vu(t,nf("default",{theme:"dark",...e})),Ue.dismiss=function(t){(function(e){var n;if(tC()){if(e==null||Lo(n=e)||pc(n))pn.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=pn.get(e.containerId);r?r.removeToast(e.id):pn.forEach(i=>{i.removeToast(e.id)})}}else mc=mc.filter(r=>e!=null&&r.options.toastId!==e)})(t)},Ue.clearWaitingQueue=function(t){t===void 0&&(t={}),pn.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},Ue.isActive=nC,Ue.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:o}=i;return(s=pn.get(o||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:iC()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,Vu(o,s)}},Ue.done=t=>{Ue.update(t,{progress:1})},Ue.onChange=function(t){return ny.add(t),()=>{ny.delete(t)}},Ue.play=t=>_T(!0,t),Ue.pause=t=>_T(!1,t);const w9=typeof window<"u"?$.useLayoutEffect:$.useEffect,Mh=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return Ze.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},Im={info:function(t){return Ze.createElement(Mh,{...t},Ze.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return Ze.createElement(Mh,{...t},Ze.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return Ze.createElement(Mh,{...t},Ze.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return Ze.createElement(Mh,{...t},Ze.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Ze.createElement("div",{className:"Toastify__spinner"})}},E9=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=g9(t),{closeButton:o,children:l,autoClose:u,onClick:h,type:p,hideProgressBar:g,closeToast:y,transition:C,position:P,className:x,style:O,bodyClassName:I,bodyStyle:v,progressClassName:A,progressStyle:F,updateId:Q,role:H,progress:S,rtl:w,toastId:b,deleteToast:R,isIn:N,isLoading:L,closeOnClick:k,theme:Ve}=t,It=ws("Toastify__toast",`Toastify__toast-theme--${Ve}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":w},{"Toastify__toast--close-on-click":k}),ln=$n(x)?x({rtl:w,position:P,type:p,defaultClassName:It}):ws(It,x),ot=function(Ae){let{theme:me,type:Ie,isLoading:xe,icon:Me}=Ae,$e=null;const dt={theme:me,type:Ie};return Me===!1||($n(Me)?$e=Me({...dt,isLoading:xe}):$.isValidElement(Me)?$e=$.cloneElement(Me,dt):xe?$e=Im.spinner():(ue=>ue in Im)(Ie)&&($e=Im[Ie](dt))),$e}(t),X=!!S||!u,ce={closeToast:y,type:p,theme:Ve};let j=null;return o===!1||(j=$n(o)?o(ce):$.isValidElement(o)?$.cloneElement(o,ce):function(Ae){let{closeToast:me,theme:Ie,ariaLabel:xe="close"}=Ae;return Ze.createElement("button",{className:`Toastify__close-button Toastify__close-button--${Ie}`,type:"button",onClick:Me=>{Me.stopPropagation(),me(Me)},"aria-label":xe},Ze.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ze.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(ce)),Ze.createElement(C,{isIn:N,done:R,position:P,preventExitTransition:n,nodeRef:r,playToast:s},Ze.createElement("div",{id:b,onClick:h,"data-in":N,className:ln,...i,style:O,ref:r},Ze.createElement("div",{...N&&{role:H},className:$n(I)?I({type:p}):ws("Toastify__toast-body",I),style:v},ot!=null&&Ze.createElement("div",{className:ws("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!L})},ot),Ze.createElement("div",null,l)),j,Ze.createElement(y9,{...Q&&!X?{key:`pb-${Q}`}:{},rtl:w,theme:Ve,delay:u,isRunning:e,isIn:N,closeToast:y,hide:g,type:p,style:F,className:A,controlledProgress:X,progress:S||0})))},dp=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},T9=hp(dp("bounce",!0));hp(dp("slide",!0));hp(dp("zoom"));hp(dp("flip"));const I9={position:"top-right",transition:T9,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function S9(t){let e={...I9,...t};const n=t.stacked,[r,i]=$.useState(!0),s=$.useRef(null),{getToastToRender:o,isToastActive:l,count:u}=m9(e),{className:h,style:p,rtl:g,containerId:y}=e;function C(x){const O=ws("Toastify__toast-container",`Toastify__toast-container--${x}`,{"Toastify__toast-container--rtl":g});return $n(h)?h({position:x,rtl:g,defaultClassName:O}):ws(O,ld(h))}function P(){n&&(i(!0),Ue.play())}return w9(()=>{if(n){var x;const O=s.current.querySelectorAll('[data-in="true"]'),I=12,v=(x=e.position)==null?void 0:x.includes("top");let A=0,F=0;Array.from(O).reverse().forEach((Q,H)=>{const S=Q;S.classList.add("Toastify__toast--stacked"),H>0&&(S.dataset.collapsed=`${r}`),S.dataset.pos||(S.dataset.pos=v?"top":"bot");const w=A*(r?.2:1)+(r?0:I*H);S.style.setProperty("--y",`${v?w:-1*w}px`),S.style.setProperty("--g",`${I}`),S.style.setProperty("--s",""+(1-(r?F:0))),A+=S.offsetHeight,F+=.025})}},[r,u,n]),Ze.createElement("div",{ref:s,className:"Toastify",id:y,onMouseEnter:()=>{n&&(i(!1),Ue.pause())},onMouseLeave:P},o((x,O)=>{const I=O.length?{...p}:{...p,pointerEvents:"none"};return Ze.createElement("div",{className:C(x),style:I,key:`container-${x}`},O.map(v=>{let{content:A,props:F}=v;return Ze.createElement(E9,{...F,stacked:n,collapseAll:P,isIn:l(F.toastId,F.containerId),style:F.style,key:`toast-${F.key}`},A)}))}))}const A9=Jb().shape({name:Kb().min(6,"Too Short!").required("Required"),yearOfBirth:ey().min(1920).max(2008).required("Required"),countRoom:ey().min(0).required("Required")}),vT=()=>{const t=Tf(),{userId:e}=Rx(),n=e?"Sa ngi dng":"Thm mi ngi dng",[r,i]=$.useState({name:"",yearOfBirth:"",countRoom:""});$.useEffect(()=>{const o=async()=>{const l=await _i.GetByUserId(e);console.log(l),i(l.data)};try{e&&o()}catch(l){console.log(l)}},[]);const s=async o=>{if(e){const l=await _i.UpdateUser(e,o);console.log(l),l.ok&&t("/business")}else(await _i.CreateUser(o)).ok?(Ue.success("Thm mi thanh cng"),t("/business")):Ue.error("Thm mi tht bi")};return B.jsxs(B.Fragment,{children:[B.jsx("h3",{children:n}),B.jsx(h4,{enableReinitialize:!0,initialValues:r,validationSchema:A9,onSubmit:o=>s(o),children:({errors:o,touched:l})=>B.jsxs(jb,{children:[B.jsxs("div",{className:"mb-3",children:[B.jsx("label",{className:"form-label",children:"Tn"}),B.jsx(wm,{name:"name",className:"form-control",placeholder:"Nhp tn",type:"text"}),o.name&&l.name?B.jsxs("i",{className:"text-danger",children:["*",o.name]}):null]}),B.jsxs("div",{className:"mb-3",children:[B.jsx("label",{className:"form-label",children:"Nm sinh"}),B.jsx(wm,{name:"yearOfBirth",className:"form-control",placeholder:"Nhp nm sinh",type:"number"}),o.yearOfBirth&&l.yearOfBirth?B.jsxs("i",{className:"text-danger",children:["*",o.yearOfBirth]}):null]}),B.jsxs("div",{className:"mb-3",children:[B.jsx("label",{className:"form-label",children:"S bui"}),B.jsx(wm,{name:"countRoom",className:"form-control",placeholder:"Nhp s bui",type:"number"}),o.countRoom&&l.countRoom?B.jsxs("i",{className:"text-danger",children:["*",o.countRoom]}):null]}),B.jsx("button",{type:"submit",className:"btn btn-primary",children:e?"Lu thay i":"Thm mi"})]})})]})},b9=()=>{const{user:t}=$.useContext(wf);return t.auth?B.jsx(qx,{}):B.jsx(KI,{to:"/login",replace:!0})},Sm=YA(Ou,"log");class C9{async getLog(e,n){const r=Bg(Sm,OE("timeCheckin","desc")),i=await Jd(r),s=i.docs.length,o=e*n+1,l=i.docs[o-1],u=Bg(Sm,OE("timeCheckin","desc"),NM(l),xM(e)),h=await Jd(u);return{total:s,data:h}}createLog(e){return ob(Sm,e)}}const wT=new C9;class k9{async checkinUser(e){let r=(await cs.getByUserId(e)).data();r.countRoom--,await cs.updateUser(e,r);const i={userId:e,timeCheckin:new Date};await wT.createLog(i)}async getHisCheckin(e,n){const r=await wT.getLog(e,n),i=r.total,s=r.data.docs.map((o,l)=>{let u={...o.data()};return u.time=u.timeCheckin.toDate().toLocaleString(),u.index=e*n+l+1,u});return{total:i,data:s}}}const ET=new k9;class R9{constructor(){dn(this,"CheckinByUserId",async e=>{try{return await ET.checkinUser(e),{ok:!0}}catch(n){return{meassage:n,ok:!1}}});dn(this,"GetLogCheckin",async(e,n)=>{try{return{data:await ET.getHisCheckin(e,n),ok:!0}}catch(r){return{meassage:r,ok:!1}}})}}const sC=new R9,P9=()=>{const[t,e]=$.useState(!1),[n,r]=$.useState([]),[i,s]=$.useState(2),[o,l]=$.useState(0),[u,h]=$.useState(0),[p,g]=$.useState(!0),[y,C]=$.useState(!1),P=async()=>{e(!0);const v=await sC.GetLogCheckin(i,u);let A=v.data.data;const F=await Promise.all(A.map(Q=>_i.GetByUserId(Q.userId)));console.log(F),A=A.map((Q,H)=>{let S={...Q};return S.userName=F[H].data.name,S}),r(A),l(v.data.total),u==0?g(!0):g(!1),(u+1)*i>v.data.total?C(!0):C(!1),e(!1)};$.useEffect(()=>{P()},[i,u]);const x=v=>{s(Number(v.target.value)),h(0),g(!0)},O=()=>{p||h(u-1)},I=()=>{y||h(u+1)};return B.jsxs(B.Fragment,{children:[t?B.jsx(B.Fragment,{children:B.jsx("div",{className:"d-flex justify-content-center modal fade show py-5",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.7)"},children:B.jsx("div",{className:"spinner-border",role:"status",children:B.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}):B.jsx(B.Fragment,{}),B.jsx("h3",{children:"Lich s checkin"}),B.jsx("div",{children:n.map((v,A)=>B.jsxs("p",{children:[v.index," - ",v.time," - Checkin cho khach ",v.userName]},A))}),B.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[B.jsxs("label",{children:[B.jsx("span",{children:"Hin thi:"}),B.jsxs("select",{value:i,onChange:x,children:[B.jsx("option",{value:2,children:"2"}),B.jsx("option",{value:5,children:"5"}),B.jsx("option",{value:10,children:"10"}),B.jsx("option",{value:20,children:"20"})]})," Tng s ",o," ban ghi"]}),B.jsx("nav",{"aria-label":"Page navigation example",children:B.jsxs("ul",{className:"pagination",children:[B.jsx("li",{className:`page-item ${p?"disabled":""}`,onClick:O,children:B.jsx("a",{className:"page-link",href:"#",children:"Previous"})}),B.jsx("li",{className:`page-item ${y?"disabled":""}`,onClick:I,children:B.jsx("a",{className:"page-link",href:"#",children:"Next"})})]})})]})]})},TT=({show:t,onClose:e,children:n,title:r,onSave:i})=>t?B.jsx("div",{className:"modal fade show",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.7)"},tabIndex:"-1","aria-hidden":"true",children:B.jsx("div",{className:"modal-dialog",children:B.jsxs("div",{className:"modal-content",children:[B.jsxs("div",{className:"modal-header",children:[B.jsx("h5",{className:"modal-title",children:r}),B.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:e})]}),B.jsxs("div",{className:"modal-body",children:[n,"  "]}),B.jsxs("div",{className:"modal-footer",children:[B.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,children:"ng"}),B.jsx("button",{type:"button",className:"btn btn-primary",onClick:i,children:"Lu"})]})]})})}):null,x9=()=>{const t=Tf(),[e,n]=$.useState(""),[r,i]=$.useState([]),[s,o]=$.useState({name:"",yearOfBirth:"",countRoom:""}),[l,u]=$.useState(!1),[h,p]=$.useState(!1);$.useEffect(()=>{const v=async()=>{const A=await _i.GetAllUsers();i(A.data)};try{v()}catch(A){console.log(A)}},[]);const g=v=>{v.key==="Enter"&&(v.preventDefault(),y())},y=async()=>{console.log(e);const v=await _i.GetByUserName(e);v.ok&&i(v.data)},C=v=>{t(`/business/user/${v}`)},P=v=>{if(v.countRoom<=0){Ue.warning("Khch  ht s bui");return}else u(!0),o(v)},x=v=>{p(!0),o(v)},O=async()=>{if((await _i.DeleteUser(s.id)).ok){const A=await _i.GetAllUsers();i(A.data),Ue.success("Xoa thanh cng")}else Ue.error("Xoa tht bai");p(!1)},I=async()=>{if((await sC.CheckinByUserId(s.id)).ok){const A=await _i.GetAllUsers();i(A.data),Ue.success("Check in thanh cng")}else Ue.error("Check in tht bai");u(!1)};return B.jsxs(B.Fragment,{children:[B.jsxs("div",{className:"row mt-1",children:[B.jsx("div",{className:"col-md-6 com-sm-12",children:B.jsx("h3",{children:"Qun l khch hng"})}),B.jsx("div",{className:"col-md-6 col-sm-12 text-end",children:B.jsx("button",{type:"button",className:"btn btn-info",onClick:()=>C(""),children:"Thm mi"})})]}),B.jsxs("div",{className:"row my-2",children:[B.jsx("div",{className:"col-md-6 col sm-12"}),B.jsx("div",{className:"col-md-6 col sm-12",children:B.jsxs("div",{className:"d-flex",children:[B.jsx("input",{className:"form-control me-2",type:"search",placeholder:"Search",value:e,onChange:v=>n(v.target.value),onKeyDown:g}),B.jsx("button",{className:"btn btn-outline-success",onClick:()=>y(),children:"Search"})]})})]}),B.jsxs("table",{className:"table table-success table-striped",children:[B.jsx("thead",{children:B.jsxs("tr",{children:[B.jsx("th",{scope:"col",children:"#"}),B.jsx("th",{scope:"col",children:"Tn"}),B.jsx("th",{scope:"col",children:"Nm sinh"}),B.jsx("th",{scope:"col",children:"S bui"}),B.jsx("th",{scope:"col",children:"Chc nng"})]})}),B.jsx("tbody",{children:r.map((v,A)=>B.jsxs("tr",{children:[B.jsx("th",{scope:"row",children:A+1}),B.jsx("td",{children:v.name}),B.jsx("td",{children:v.yearOfBirth}),B.jsx("td",{children:v.countRoom}),B.jsxs("td",{children:[B.jsx("button",{type:"button",className:"btn btn-success me-2",onClick:()=>P(v),children:"Check in"}),B.jsx("button",{type:"button",className:"btn btn-danger me-2",onClick:()=>C(v.id),children:"Sa"}),B.jsx("button",{type:"button",className:"btn btn-warning",onClick:()=>x(v),children:"Xa"})]})]},A))})]}),B.jsx(TT,{show:l,onClose:()=>u(!1),onSave:()=>I(),title:"CHECK IN",children:B.jsxs("p",{children:["Ban co chc chn check in cho khach ",s.name]})}),B.jsx(TT,{show:h,onClose:()=>p(!1),onSave:()=>O(),title:"XOA",children:B.jsxs("p",{children:["Ban co chc chn mun xoa khach ",s.name]})})]})},N9=()=>B.jsx(B.Fragment,{children:B.jsx(Qx,{children:B.jsxs(Wx,{children:[B.jsx(os,{path:"/",element:B.jsx(KI,{to:"/business/home",replace:!0})}),B.jsx(os,{path:"/login",element:B.jsx(HM,{})}),B.jsxs(os,{path:"/business/*",element:B.jsx(b9,{}),children:[B.jsx(os,{path:"home",element:B.jsx(x9,{})}),B.jsx(os,{path:"user/:userId",element:B.jsx(vT,{})}),B.jsx(os,{path:"user",element:B.jsx(vT,{})}),B.jsx(os,{path:"log",element:B.jsx(P9,{})})]})]})})});var O9={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){t.exports=r()})(Ak,function(){const n=new Map,r={set(_,c,f){n.has(_)||n.set(_,new Map);const E=n.get(_);E.has(c)||E.size===0?E.set(c,f):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(E.keys())[0]}.`)},get:(_,c)=>n.has(_)&&n.get(_).get(c)||null,remove(_,c){if(!n.has(_))return;const f=n.get(_);f.delete(c),f.size===0&&n.delete(_)}},i="transitionend",s=_=>(_&&window.CSS&&window.CSS.escape&&(_=_.replace(/#([^\s"#']+)/g,(c,f)=>`#${CSS.escape(f)}`)),_),o=_=>{_.dispatchEvent(new Event(i))},l=_=>!(!_||typeof _!="object")&&(_.jquery!==void 0&&(_=_[0]),_.nodeType!==void 0),u=_=>l(_)?_.jquery?_[0]:_:typeof _=="string"&&_.length>0?document.querySelector(s(_)):null,h=_=>{if(!l(_)||_.getClientRects().length===0)return!1;const c=getComputedStyle(_).getPropertyValue("visibility")==="visible",f=_.closest("details:not([open])");if(!f)return c;if(f!==_){const E=_.closest("summary");if(E&&E.parentNode!==f||E===null)return!1}return c},p=_=>!_||_.nodeType!==Node.ELEMENT_NODE||!!_.classList.contains("disabled")||(_.disabled!==void 0?_.disabled:_.hasAttribute("disabled")&&_.getAttribute("disabled")!=="false"),g=_=>{if(!document.documentElement.attachShadow)return null;if(typeof _.getRootNode=="function"){const c=_.getRootNode();return c instanceof ShadowRoot?c:null}return _ instanceof ShadowRoot?_:_.parentNode?g(_.parentNode):null},y=()=>{},C=_=>{_.offsetHeight},P=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,x=[],O=()=>document.documentElement.dir==="rtl",I=_=>{var c;c=()=>{const f=P();if(f){const E=_.NAME,D=f.fn[E];f.fn[E]=_.jQueryInterface,f.fn[E].Constructor=_,f.fn[E].noConflict=()=>(f.fn[E]=D,_.jQueryInterface)}},document.readyState==="loading"?(x.length||document.addEventListener("DOMContentLoaded",()=>{for(const f of x)f()}),x.push(c)):c()},v=(_,c=[],f=_)=>typeof _=="function"?_(...c):f,A=(_,c,f=!0)=>{if(!f)return void v(_);const E=(q=>{if(!q)return 0;let{transitionDuration:K,transitionDelay:Z}=window.getComputedStyle(q);const se=Number.parseFloat(K),ae=Number.parseFloat(Z);return se||ae?(K=K.split(",")[0],Z=Z.split(",")[0],1e3*(Number.parseFloat(K)+Number.parseFloat(Z))):0})(c)+5;let D=!1;const V=({target:q})=>{q===c&&(D=!0,c.removeEventListener(i,V),v(_))};c.addEventListener(i,V),setTimeout(()=>{D||o(c)},E)},F=(_,c,f,E)=>{const D=_.length;let V=_.indexOf(c);return V===-1?!f&&E?_[D-1]:_[0]:(V+=f?1:-1,E&&(V=(V+D)%D),_[Math.max(0,Math.min(V,D-1))])},Q=/[^.]*(?=\..*)\.|.*/,H=/\..*/,S=/::\d+$/,w={};let b=1;const R={mouseenter:"mouseover",mouseleave:"mouseout"},N=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function L(_,c){return c&&`${c}::${b++}`||_.uidEvent||b++}function k(_){const c=L(_);return _.uidEvent=c,w[c]=w[c]||{},w[c]}function Ve(_,c,f=null){return Object.values(_).find(E=>E.callable===c&&E.delegationSelector===f)}function It(_,c,f){const E=typeof c=="string",D=E?f:c||f;let V=ce(_);return N.has(V)||(V=_),[E,D,V]}function ln(_,c,f,E,D){if(typeof c!="string"||!_)return;let[V,q,K]=It(c,f,E);c in R&&(q=(we=>function(ye){if(!ye.relatedTarget||ye.relatedTarget!==ye.delegateTarget&&!ye.delegateTarget.contains(ye.relatedTarget))return we.call(this,ye)})(q));const Z=k(_),se=Z[K]||(Z[K]={}),ae=Ve(se,q,V?f:null);if(ae)return void(ae.oneOff=ae.oneOff&&D);const ne=L(q,c.replace(Q,"")),Se=V?function(pe,we,ye){return function Ee(Xe){const nt=pe.querySelectorAll(we);for(let{target:Ce}=Xe;Ce&&Ce!==this;Ce=Ce.parentNode)for(const Be of nt)if(Be===Ce)return Ae(Xe,{delegateTarget:Ce}),Ee.oneOff&&j.off(pe,Xe.type,we,ye),ye.apply(Ce,[Xe])}}(_,f,q):function(pe,we){return function ye(Ee){return Ae(Ee,{delegateTarget:pe}),ye.oneOff&&j.off(pe,Ee.type,we),we.apply(pe,[Ee])}}(_,q);Se.delegationSelector=V?f:null,Se.callable=q,Se.oneOff=D,Se.uidEvent=ne,se[ne]=Se,_.addEventListener(K,Se,V)}function ot(_,c,f,E,D){const V=Ve(c[f],E,D);V&&(_.removeEventListener(f,V,!!D),delete c[f][V.uidEvent])}function X(_,c,f,E){const D=c[f]||{};for(const[V,q]of Object.entries(D))V.includes(E)&&ot(_,c,f,q.callable,q.delegationSelector)}function ce(_){return _=_.replace(H,""),R[_]||_}const j={on(_,c,f,E){ln(_,c,f,E,!1)},one(_,c,f,E){ln(_,c,f,E,!0)},off(_,c,f,E){if(typeof c!="string"||!_)return;const[D,V,q]=It(c,f,E),K=q!==c,Z=k(_),se=Z[q]||{},ae=c.startsWith(".");if(V===void 0){if(ae)for(const ne of Object.keys(Z))X(_,Z,ne,c.slice(1));for(const[ne,Se]of Object.entries(se)){const pe=ne.replace(S,"");K&&!c.includes(pe)||ot(_,Z,q,Se.callable,Se.delegationSelector)}}else{if(!Object.keys(se).length)return;ot(_,Z,q,V,D?f:null)}},trigger(_,c,f){if(typeof c!="string"||!_)return null;const E=P();let D=null,V=!0,q=!0,K=!1;c!==ce(c)&&E&&(D=E.Event(c,f),E(_).trigger(D),V=!D.isPropagationStopped(),q=!D.isImmediatePropagationStopped(),K=D.isDefaultPrevented());const Z=Ae(new Event(c,{bubbles:V,cancelable:!0}),f);return K&&Z.preventDefault(),q&&_.dispatchEvent(Z),Z.defaultPrevented&&D&&D.preventDefault(),Z}};function Ae(_,c={}){for(const[f,E]of Object.entries(c))try{_[f]=E}catch{Object.defineProperty(_,f,{configurable:!0,get:()=>E})}return _}function me(_){if(_==="true")return!0;if(_==="false")return!1;if(_===Number(_).toString())return Number(_);if(_===""||_==="null")return null;if(typeof _!="string")return _;try{return JSON.parse(decodeURIComponent(_))}catch{return _}}function Ie(_){return _.replace(/[A-Z]/g,c=>`-${c.toLowerCase()}`)}const xe={setDataAttribute(_,c,f){_.setAttribute(`data-bs-${Ie(c)}`,f)},removeDataAttribute(_,c){_.removeAttribute(`data-bs-${Ie(c)}`)},getDataAttributes(_){if(!_)return{};const c={},f=Object.keys(_.dataset).filter(E=>E.startsWith("bs")&&!E.startsWith("bsConfig"));for(const E of f){let D=E.replace(/^bs/,"");D=D.charAt(0).toLowerCase()+D.slice(1,D.length),c[D]=me(_.dataset[E])}return c},getDataAttribute:(_,c)=>me(_.getAttribute(`data-bs-${Ie(c)}`))};class Me{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(c){return c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c}_mergeConfigObj(c,f){const E=l(f)?xe.getDataAttribute(f,"config"):{};return{...this.constructor.Default,...typeof E=="object"?E:{},...l(f)?xe.getDataAttributes(f):{},...typeof c=="object"?c:{}}}_typeCheckConfig(c,f=this.constructor.DefaultType){for(const[D,V]of Object.entries(f)){const q=c[D],K=l(q)?"element":(E=q)==null?`${E}`:Object.prototype.toString.call(E).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(V).test(K))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${D}" provided type "${K}" but expected type "${V}".`)}var E}}class $e extends Me{constructor(c,f){super(),(c=u(c))&&(this._element=c,this._config=this._getConfig(f),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),j.off(this._element,this.constructor.EVENT_KEY);for(const c of Object.getOwnPropertyNames(this))this[c]=null}_queueCallback(c,f,E=!0){A(c,f,E)}_getConfig(c){return c=this._mergeConfigObj(c,this._element),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}static getInstance(c){return r.get(u(c),this.DATA_KEY)}static getOrCreateInstance(c,f={}){return this.getInstance(c)||new this(c,typeof f=="object"?f:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(c){return`${c}${this.EVENT_KEY}`}}const dt=_=>{let c=_.getAttribute("data-bs-target");if(!c||c==="#"){let f=_.getAttribute("href");if(!f||!f.includes("#")&&!f.startsWith("."))return null;f.includes("#")&&!f.startsWith("#")&&(f=`#${f.split("#")[1]}`),c=f&&f!=="#"?f.trim():null}return c?c.split(",").map(f=>s(f)).join(","):null},ue={find:(_,c=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(c,_)),findOne:(_,c=document.documentElement)=>Element.prototype.querySelector.call(c,_),children:(_,c)=>[].concat(..._.children).filter(f=>f.matches(c)),parents(_,c){const f=[];let E=_.parentNode.closest(c);for(;E;)f.push(E),E=E.parentNode.closest(c);return f},prev(_,c){let f=_.previousElementSibling;for(;f;){if(f.matches(c))return[f];f=f.previousElementSibling}return[]},next(_,c){let f=_.nextElementSibling;for(;f;){if(f.matches(c))return[f];f=f.nextElementSibling}return[]},focusableChildren(_){const c=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(f=>`${f}:not([tabindex^="-"])`).join(",");return this.find(c,_).filter(f=>!p(f)&&h(f))},getSelectorFromElement(_){const c=dt(_);return c&&ue.findOne(c)?c:null},getElementFromSelector(_){const c=dt(_);return c?ue.findOne(c):null},getMultipleElementsFromSelector(_){const c=dt(_);return c?ue.find(c):[]}},ni=(_,c="hide")=>{const f=`click.dismiss${_.EVENT_KEY}`,E=_.NAME;j.on(document,f,`[data-bs-dismiss="${E}"]`,function(D){if(["A","AREA"].includes(this.tagName)&&D.preventDefault(),p(this))return;const V=ue.getElementFromSelector(this)||this.closest(`.${E}`);_.getOrCreateInstance(V)[c]()})},Or=".bs.alert",Dr=`close${Or}`,Ks=`closed${Or}`;class Gn extends $e{static get NAME(){return"alert"}close(){if(j.trigger(this._element,Dr).defaultPrevented)return;this._element.classList.remove("show");const c=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,c)}_destroyElement(){this._element.remove(),j.trigger(this._element,Ks),this.dispose()}static jQueryInterface(c){return this.each(function(){const f=Gn.getOrCreateInstance(this);if(typeof c=="string"){if(f[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);f[c](this)}})}}ni(Gn,"close"),I(Gn);const Bi='[data-bs-toggle="button"]';class cr extends $e{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(c){return this.each(function(){const f=cr.getOrCreateInstance(this);c==="toggle"&&f[c]()})}}j.on(document,"click.bs.button.data-api",Bi,_=>{_.preventDefault();const c=_.target.closest(Bi);cr.getOrCreateInstance(c).toggle()}),I(cr);const hr=".bs.swipe",Pl=`touchstart${hr}`,xl=`touchmove${hr}`,zi=`touchend${hr}`,Qs=`pointerdown${hr}`,na=`pointerup${hr}`,U={endCallback:null,leftCallback:null,rightCallback:null},te={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ie extends Me{constructor(c,f){super(),this._element=c,c&&ie.isSupported()&&(this._config=this._getConfig(f),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return U}static get DefaultType(){return te}static get NAME(){return"swipe"}dispose(){j.off(this._element,hr)}_start(c){this._supportPointerEvents?this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX):this._deltaX=c.touches[0].clientX}_end(c){this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX-this._deltaX),this._handleSwipe(),v(this._config.endCallback)}_move(c){this._deltaX=c.touches&&c.touches.length>1?0:c.touches[0].clientX-this._deltaX}_handleSwipe(){const c=Math.abs(this._deltaX);if(c<=40)return;const f=c/this._deltaX;this._deltaX=0,f&&v(f>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(j.on(this._element,Qs,c=>this._start(c)),j.on(this._element,na,c=>this._end(c)),this._element.classList.add("pointer-event")):(j.on(this._element,Pl,c=>this._start(c)),j.on(this._element,xl,c=>this._move(c)),j.on(this._element,zi,c=>this._end(c)))}_eventIsPointerPenTouch(c){return this._supportPointerEvents&&(c.pointerType==="pen"||c.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const le=".bs.carousel",he=".data-api",fe="next",ze="prev",Rt="left",dr="right",Ys=`slide${le}`,fr=`slid${le}`,Nl=`keydown${le}`,Xs=`mouseenter${le}`,Js=`mouseleave${le}`,fp=`dragstart${le}`,pp=`load${le}${he}`,Ol=`click${le}${he}`,Dl="carousel",Zs="active",qi=".active",ra=".carousel-item",Ll=qi+ra,ri={ArrowLeft:dr,ArrowRight:Rt},Lc={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ia={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ii extends $e{constructor(c,f){super(c,f),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ue.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Dl&&this.cycle()}static get Default(){return Lc}static get DefaultType(){return ia}static get NAME(){return"carousel"}next(){this._slide(fe)}nextWhenVisible(){!document.hidden&&h(this._element)&&this.next()}prev(){this._slide(ze)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?j.one(this._element,fr,()=>this.cycle()):this.cycle())}to(c){const f=this._getItems();if(c>f.length-1||c<0)return;if(this._isSliding)return void j.one(this._element,fr,()=>this.to(c));const E=this._getItemIndex(this._getActive());if(E===c)return;const D=c>E?fe:ze;this._slide(D,f[c])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(c){return c.defaultInterval=c.interval,c}_addEventListeners(){this._config.keyboard&&j.on(this._element,Nl,c=>this._keydown(c)),this._config.pause==="hover"&&(j.on(this._element,Xs,()=>this.pause()),j.on(this._element,Js,()=>this._maybeEnableCycle())),this._config.touch&&ie.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const f of ue.find(".carousel-item img",this._element))j.on(f,fp,E=>E.preventDefault());const c={leftCallback:()=>this._slide(this._directionToOrder(Rt)),rightCallback:()=>this._slide(this._directionToOrder(dr)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new ie(this._element,c)}_keydown(c){if(/input|textarea/i.test(c.target.tagName))return;const f=ri[c.key];f&&(c.preventDefault(),this._slide(this._directionToOrder(f)))}_getItemIndex(c){return this._getItems().indexOf(c)}_setActiveIndicatorElement(c){if(!this._indicatorsElement)return;const f=ue.findOne(qi,this._indicatorsElement);f.classList.remove(Zs),f.removeAttribute("aria-current");const E=ue.findOne(`[data-bs-slide-to="${c}"]`,this._indicatorsElement);E&&(E.classList.add(Zs),E.setAttribute("aria-current","true"))}_updateInterval(){const c=this._activeElement||this._getActive();if(!c)return;const f=Number.parseInt(c.getAttribute("data-bs-interval"),10);this._config.interval=f||this._config.defaultInterval}_slide(c,f=null){if(this._isSliding)return;const E=this._getActive(),D=c===fe,V=f||F(this._getItems(),E,D,this._config.wrap);if(V===E)return;const q=this._getItemIndex(V),K=ne=>j.trigger(this._element,ne,{relatedTarget:V,direction:this._orderToDirection(c),from:this._getItemIndex(E),to:q});if(K(Ys).defaultPrevented||!E||!V)return;const Z=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(q),this._activeElement=V;const se=D?"carousel-item-start":"carousel-item-end",ae=D?"carousel-item-next":"carousel-item-prev";V.classList.add(ae),C(V),E.classList.add(se),V.classList.add(se),this._queueCallback(()=>{V.classList.remove(se,ae),V.classList.add(Zs),E.classList.remove(Zs,ae,se),this._isSliding=!1,K(fr)},E,this._isAnimated()),Z&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ue.findOne(Ll,this._element)}_getItems(){return ue.find(ra,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(c){return O()?c===Rt?ze:fe:c===Rt?fe:ze}_orderToDirection(c){return O()?c===ze?Rt:dr:c===ze?dr:Rt}static jQueryInterface(c){return this.each(function(){const f=ii.getOrCreateInstance(this,c);if(typeof c!="number"){if(typeof c=="string"){if(f[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);f[c]()}}else f.to(c)})}}j.on(document,Ol,"[data-bs-slide], [data-bs-slide-to]",function(_){const c=ue.getElementFromSelector(this);if(!c||!c.classList.contains(Dl))return;_.preventDefault();const f=ii.getOrCreateInstance(c),E=this.getAttribute("data-bs-slide-to");return E?(f.to(E),void f._maybeEnableCycle()):xe.getDataAttribute(this,"slide")==="next"?(f.next(),void f._maybeEnableCycle()):(f.prev(),void f._maybeEnableCycle())}),j.on(window,pp,()=>{const _=ue.find('[data-bs-ride="carousel"]');for(const c of _)ii.getOrCreateInstance(c)}),I(ii);const pr=".bs.collapse",Vc=`show${pr}`,Bt=`shown${pr}`,Mc=`hide${pr}`,eo=`hidden${pr}`,to=`click${pr}.data-api`,Vl="show",Hi="collapse",mr="collapsing",mp=`:scope .${Hi} .${Hi}`,Ml='[data-bs-toggle="collapse"]',sa={parent:null,toggle:!0},Fc={parent:"(null|element)",toggle:"boolean"};class Lr extends $e{constructor(c,f){super(c,f),this._isTransitioning=!1,this._triggerArray=[];const E=ue.find(Ml);for(const D of E){const V=ue.getSelectorFromElement(D),q=ue.find(V).filter(K=>K===this._element);V!==null&&q.length&&this._triggerArray.push(D)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return sa}static get DefaultType(){return Fc}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let c=[];if(this._config.parent&&(c=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(D=>D!==this._element).map(D=>Lr.getOrCreateInstance(D,{toggle:!1}))),c.length&&c[0]._isTransitioning||j.trigger(this._element,Vc).defaultPrevented)return;for(const D of c)D.hide();const f=this._getDimension();this._element.classList.remove(Hi),this._element.classList.add(mr),this._element.style[f]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const E=`scroll${f[0].toUpperCase()+f.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(mr),this._element.classList.add(Hi,Vl),this._element.style[f]="",j.trigger(this._element,Bt)},this._element,!0),this._element.style[f]=`${this._element[E]}px`}hide(){if(this._isTransitioning||!this._isShown()||j.trigger(this._element,Mc).defaultPrevented)return;const c=this._getDimension();this._element.style[c]=`${this._element.getBoundingClientRect()[c]}px`,C(this._element),this._element.classList.add(mr),this._element.classList.remove(Hi,Vl);for(const f of this._triggerArray){const E=ue.getElementFromSelector(f);E&&!this._isShown(E)&&this._addAriaAndCollapsedClass([f],!1)}this._isTransitioning=!0,this._element.style[c]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(mr),this._element.classList.add(Hi),j.trigger(this._element,eo)},this._element,!0)}_isShown(c=this._element){return c.classList.contains(Vl)}_configAfterMerge(c){return c.toggle=!!c.toggle,c.parent=u(c.parent),c}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const c=this._getFirstLevelChildren(Ml);for(const f of c){const E=ue.getElementFromSelector(f);E&&this._addAriaAndCollapsedClass([f],this._isShown(E))}}_getFirstLevelChildren(c){const f=ue.find(mp,this._config.parent);return ue.find(c,this._config.parent).filter(E=>!f.includes(E))}_addAriaAndCollapsedClass(c,f){if(c.length)for(const E of c)E.classList.toggle("collapsed",!f),E.setAttribute("aria-expanded",f)}static jQueryInterface(c){const f={};return typeof c=="string"&&/show|hide/.test(c)&&(f.toggle=!1),this.each(function(){const E=Lr.getOrCreateInstance(this,f);if(typeof c=="string"){if(E[c]===void 0)throw new TypeError(`No method named "${c}"`);E[c]()}})}}j.on(document,to,Ml,function(_){(_.target.tagName==="A"||_.delegateTarget&&_.delegateTarget.tagName==="A")&&_.preventDefault();for(const c of ue.getMultipleElementsFromSelector(this))Lr.getOrCreateInstance(c,{toggle:!1}).toggle()}),I(Lr);var St="top",yt="bottom",Qt="right",Lt="left",Wi="auto",Vr=[St,yt,Qt,Lt],Mr="start",si="end",$c="clippingParents",Gi="viewport",oi="popper",oa="reference",ai=Vr.reduce(function(_,c){return _.concat([c+"-"+Mr,c+"-"+si])},[]),gr=[].concat(Vr,[Wi]).reduce(function(_,c){return _.concat([c,c+"-"+Mr,c+"-"+si])},[]),aa="beforeRead",jc="read",Fl="afterRead",$l="beforeMain",jl="main",la="afterMain",ua="beforeWrite",Ul="write",Bl="afterWrite",Uc=[aa,jc,Fl,$l,jl,la,ua,Ul,Bl];function Kn(_){return _?(_.nodeName||"").toLowerCase():null}function Yt(_){if(_==null)return window;if(_.toString()!=="[object Window]"){var c=_.ownerDocument;return c&&c.defaultView||window}return _}function Fr(_){return _ instanceof Yt(_).Element||_ instanceof Element}function _n(_){return _ instanceof Yt(_).HTMLElement||_ instanceof HTMLElement}function yr(_){return typeof ShadowRoot<"u"&&(_ instanceof Yt(_).ShadowRoot||_ instanceof ShadowRoot)}const Nn={name:"applyStyles",enabled:!0,phase:"write",fn:function(_){var c=_.state;Object.keys(c.elements).forEach(function(f){var E=c.styles[f]||{},D=c.attributes[f]||{},V=c.elements[f];_n(V)&&Kn(V)&&(Object.assign(V.style,E),Object.keys(D).forEach(function(q){var K=D[q];K===!1?V.removeAttribute(q):V.setAttribute(q,K===!0?"":K)}))})},effect:function(_){var c=_.state,f={popper:{position:c.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(c.elements.popper.style,f.popper),c.styles=f,c.elements.arrow&&Object.assign(c.elements.arrow.style,f.arrow),function(){Object.keys(c.elements).forEach(function(E){var D=c.elements[E],V=c.attributes[E]||{},q=Object.keys(c.styles.hasOwnProperty(E)?c.styles[E]:f[E]).reduce(function(K,Z){return K[Z]="",K},{});_n(D)&&Kn(D)&&(Object.assign(D.style,q),Object.keys(V).forEach(function(K){D.removeAttribute(K)}))})}},requires:["computeStyles"]};function un(_){return _.split("-")[0]}var Qn=Math.max,no=Math.min,je=Math.round;function Ki(){var _=navigator.userAgentData;return _!=null&&_.brands&&Array.isArray(_.brands)?_.brands.map(function(c){return c.brand+"/"+c.version}).join(" "):navigator.userAgent}function Qi(){return!/^((?!chrome|android).)*safari/i.test(Ki())}function Yn(_,c,f){c===void 0&&(c=!1),f===void 0&&(f=!1);var E=_.getBoundingClientRect(),D=1,V=1;c&&_n(_)&&(D=_.offsetWidth>0&&je(E.width)/_.offsetWidth||1,V=_.offsetHeight>0&&je(E.height)/_.offsetHeight||1);var q=(Fr(_)?Yt(_):window).visualViewport,K=!Qi()&&f,Z=(E.left+(K&&q?q.offsetLeft:0))/D,se=(E.top+(K&&q?q.offsetTop:0))/V,ae=E.width/D,ne=E.height/V;return{width:ae,height:ne,top:se,right:Z+ae,bottom:se+ne,left:Z,x:Z,y:se}}function zl(_){var c=Yn(_),f=_.offsetWidth,E=_.offsetHeight;return Math.abs(c.width-f)<=1&&(f=c.width),Math.abs(c.height-E)<=1&&(E=c.height),{x:_.offsetLeft,y:_.offsetTop,width:f,height:E}}function ql(_,c){var f=c.getRootNode&&c.getRootNode();if(_.contains(c))return!0;if(f&&yr(f)){var E=c;do{if(E&&_.isSameNode(E))return!0;E=E.parentNode||E.host}while(E)}return!1}function _r(_){return Yt(_).getComputedStyle(_)}function gp(_){return["table","td","th"].indexOf(Kn(_))>=0}function $r(_){return((Fr(_)?_.ownerDocument:_.document)||window.document).documentElement}function ca(_){return Kn(_)==="html"?_:_.assignedSlot||_.parentNode||(yr(_)?_.host:null)||$r(_)}function Yi(_){return _n(_)&&_r(_).position!=="fixed"?_.offsetParent:null}function vn(_){for(var c=Yt(_),f=Yi(_);f&&gp(f)&&_r(f).position==="static";)f=Yi(f);return f&&(Kn(f)==="html"||Kn(f)==="body"&&_r(f).position==="static")?c:f||function(E){var D=/firefox/i.test(Ki());if(/Trident/i.test(Ki())&&_n(E)&&_r(E).position==="fixed")return null;var V=ca(E);for(yr(V)&&(V=V.host);_n(V)&&["html","body"].indexOf(Kn(V))<0;){var q=_r(V);if(q.transform!=="none"||q.perspective!=="none"||q.contain==="paint"||["transform","perspective"].indexOf(q.willChange)!==-1||D&&q.willChange==="filter"||D&&q.filter&&q.filter!=="none")return V;V=V.parentNode}return null}(_)||c}function ha(_){return["top","bottom"].indexOf(_)>=0?"x":"y"}function Xi(_,c,f){return Qn(_,no(c,f))}function Hl(_){return Object.assign({},{top:0,right:0,bottom:0,left:0},_)}function li(_,c){return c.reduce(function(f,E){return f[E]=_,f},{})}const Bc={name:"arrow",enabled:!0,phase:"main",fn:function(_){var c,f=_.state,E=_.name,D=_.options,V=f.elements.arrow,q=f.modifiersData.popperOffsets,K=un(f.placement),Z=ha(K),se=[Lt,Qt].indexOf(K)>=0?"height":"width";if(V&&q){var ae=function(Je,Ge){return Hl(typeof(Je=typeof Je=="function"?Je(Object.assign({},Ge.rects,{placement:Ge.placement})):Je)!="number"?Je:li(Je,Vr))}(D.padding,f),ne=zl(V),Se=Z==="y"?St:Lt,pe=Z==="y"?yt:Qt,we=f.rects.reference[se]+f.rects.reference[Z]-q[Z]-f.rects.popper[se],ye=q[Z]-f.rects.reference[Z],Ee=vn(V),Xe=Ee?Z==="y"?Ee.clientHeight||0:Ee.clientWidth||0:0,nt=we/2-ye/2,Ce=ae[Se],Be=Xe-ne[se]-ae[pe],be=Xe/2-ne[se]/2+nt,Ne=Xi(Ce,be,Be),We=Z;f.modifiersData[E]=((c={})[We]=Ne,c.centerOffset=Ne-be,c)}},effect:function(_){var c=_.state,f=_.options.element,E=f===void 0?"[data-popper-arrow]":f;E!=null&&(typeof E!="string"||(E=c.elements.popper.querySelector(E)))&&ql(c.elements.popper,E)&&(c.elements.arrow=E)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ji(_){return _.split("-")[1]}var yp={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vr(_){var c,f=_.popper,E=_.popperRect,D=_.placement,V=_.variation,q=_.offsets,K=_.position,Z=_.gpuAcceleration,se=_.adaptive,ae=_.roundOffsets,ne=_.isFixed,Se=q.x,pe=Se===void 0?0:Se,we=q.y,ye=we===void 0?0:we,Ee=typeof ae=="function"?ae({x:pe,y:ye}):{x:pe,y:ye};pe=Ee.x,ye=Ee.y;var Xe=q.hasOwnProperty("x"),nt=q.hasOwnProperty("y"),Ce=Lt,Be=St,be=window;if(se){var Ne=vn(f),We="clientHeight",Je="clientWidth";Ne===Yt(f)&&_r(Ne=$r(f)).position!=="static"&&K==="absolute"&&(We="scrollHeight",Je="scrollWidth"),(D===St||(D===Lt||D===Qt)&&V===si)&&(Be=yt,ye-=(ne&&Ne===be&&be.visualViewport?be.visualViewport.height:Ne[We])-E.height,ye*=Z?1:-1),D!==Lt&&(D!==St&&D!==yt||V!==si)||(Ce=Qt,pe-=(ne&&Ne===be&&be.visualViewport?be.visualViewport.width:Ne[Je])-E.width,pe*=Z?1:-1)}var Ge,wt=Object.assign({position:K},se&&yp),On=ae===!0?function(Er,cn){var er=Er.x,tr=Er.y,_t=cn.devicePixelRatio||1;return{x:je(er*_t)/_t||0,y:je(tr*_t)/_t||0}}({x:pe,y:ye},Yt(f)):{x:pe,y:ye};return pe=On.x,ye=On.y,Z?Object.assign({},wt,((Ge={})[Be]=nt?"0":"",Ge[Ce]=Xe?"0":"",Ge.transform=(be.devicePixelRatio||1)<=1?"translate("+pe+"px, "+ye+"px)":"translate3d("+pe+"px, "+ye+"px, 0)",Ge)):Object.assign({},wt,((c={})[Be]=nt?ye+"px":"",c[Ce]=Xe?pe+"px":"",c.transform="",c))}const Wl={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(_){var c=_.state,f=_.options,E=f.gpuAcceleration,D=E===void 0||E,V=f.adaptive,q=V===void 0||V,K=f.roundOffsets,Z=K===void 0||K,se={placement:un(c.placement),variation:Ji(c.placement),popper:c.elements.popper,popperRect:c.rects.popper,gpuAcceleration:D,isFixed:c.options.strategy==="fixed"};c.modifiersData.popperOffsets!=null&&(c.styles.popper=Object.assign({},c.styles.popper,vr(Object.assign({},se,{offsets:c.modifiersData.popperOffsets,position:c.options.strategy,adaptive:q,roundOffsets:Z})))),c.modifiersData.arrow!=null&&(c.styles.arrow=Object.assign({},c.styles.arrow,vr(Object.assign({},se,{offsets:c.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Z})))),c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-placement":c.placement})},data:{}};var da={passive:!0};const Zi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(_){var c=_.state,f=_.instance,E=_.options,D=E.scroll,V=D===void 0||D,q=E.resize,K=q===void 0||q,Z=Yt(c.elements.popper),se=[].concat(c.scrollParents.reference,c.scrollParents.popper);return V&&se.forEach(function(ae){ae.addEventListener("scroll",f.update,da)}),K&&Z.addEventListener("resize",f.update,da),function(){V&&se.forEach(function(ae){ae.removeEventListener("scroll",f.update,da)}),K&&Z.removeEventListener("resize",f.update,da)}},data:{}};var fa={left:"right",right:"left",bottom:"top",top:"bottom"};function ro(_){return _.replace(/left|right|bottom|top/g,function(c){return fa[c]})}var io={start:"end",end:"start"};function es(_){return _.replace(/start|end/g,function(c){return io[c]})}function pa(_){var c=Yt(_);return{scrollLeft:c.pageXOffset,scrollTop:c.pageYOffset}}function so(_){return Yn($r(_)).left+pa(_).scrollLeft}function tt(_){var c=_r(_),f=c.overflow,E=c.overflowX,D=c.overflowY;return/auto|scroll|overlay|hidden/.test(f+D+E)}function zc(_){return["html","body","#document"].indexOf(Kn(_))>=0?_.ownerDocument.body:_n(_)&&tt(_)?_:zc(ca(_))}function oo(_,c){var f;c===void 0&&(c=[]);var E=zc(_),D=E===((f=_.ownerDocument)==null?void 0:f.body),V=Yt(E),q=D?[V].concat(V.visualViewport||[],tt(E)?E:[]):E,K=c.concat(q);return D?K:K.concat(oo(ca(q)))}function ma(_){return Object.assign({},_,{left:_.x,top:_.y,right:_.x+_.width,bottom:_.y+_.height})}function Gl(_,c,f){return c===Gi?ma(function(E,D){var V=Yt(E),q=$r(E),K=V.visualViewport,Z=q.clientWidth,se=q.clientHeight,ae=0,ne=0;if(K){Z=K.width,se=K.height;var Se=Qi();(Se||!Se&&D==="fixed")&&(ae=K.offsetLeft,ne=K.offsetTop)}return{width:Z,height:se,x:ae+so(E),y:ne}}(_,f)):Fr(c)?function(E,D){var V=Yn(E,!1,D==="fixed");return V.top=V.top+E.clientTop,V.left=V.left+E.clientLeft,V.bottom=V.top+E.clientHeight,V.right=V.left+E.clientWidth,V.width=E.clientWidth,V.height=E.clientHeight,V.x=V.left,V.y=V.top,V}(c,f):ma(function(E){var D,V=$r(E),q=pa(E),K=(D=E.ownerDocument)==null?void 0:D.body,Z=Qn(V.scrollWidth,V.clientWidth,K?K.scrollWidth:0,K?K.clientWidth:0),se=Qn(V.scrollHeight,V.clientHeight,K?K.scrollHeight:0,K?K.clientHeight:0),ae=-q.scrollLeft+so(E),ne=-q.scrollTop;return _r(K||V).direction==="rtl"&&(ae+=Qn(V.clientWidth,K?K.clientWidth:0)-Z),{width:Z,height:se,x:ae,y:ne}}($r(_)))}function Kl(_){var c,f=_.reference,E=_.element,D=_.placement,V=D?un(D):null,q=D?Ji(D):null,K=f.x+f.width/2-E.width/2,Z=f.y+f.height/2-E.height/2;switch(V){case St:c={x:K,y:f.y-E.height};break;case yt:c={x:K,y:f.y+f.height};break;case Qt:c={x:f.x+f.width,y:Z};break;case Lt:c={x:f.x-E.width,y:Z};break;default:c={x:f.x,y:f.y}}var se=V?ha(V):null;if(se!=null){var ae=se==="y"?"height":"width";switch(q){case Mr:c[se]=c[se]-(f[ae]/2-E[ae]/2);break;case si:c[se]=c[se]+(f[ae]/2-E[ae]/2)}}return c}function wr(_,c){c===void 0&&(c={});var f=c,E=f.placement,D=E===void 0?_.placement:E,V=f.strategy,q=V===void 0?_.strategy:V,K=f.boundary,Z=K===void 0?$c:K,se=f.rootBoundary,ae=se===void 0?Gi:se,ne=f.elementContext,Se=ne===void 0?oi:ne,pe=f.altBoundary,we=pe!==void 0&&pe,ye=f.padding,Ee=ye===void 0?0:ye,Xe=Hl(typeof Ee!="number"?Ee:li(Ee,Vr)),nt=Se===oi?oa:oi,Ce=_.rects.popper,Be=_.elements[we?nt:Se],be=function(cn,er,tr,_t){var Br=er==="clippingParents"?function(et){var hn=oo(ca(et)),nr=["absolute","fixed"].indexOf(_r(et).position)>=0&&_n(et)?vn(et):et;return Fr(nr)?hn.filter(function(rs){return Fr(rs)&&ql(rs,nr)&&Kn(rs)!=="body"}):[]}(cn):[].concat(er),zr=[].concat(Br,[tr]),Ea=zr[0],Vt=zr.reduce(function(et,hn){var nr=Gl(cn,hn,_t);return et.top=Qn(nr.top,et.top),et.right=no(nr.right,et.right),et.bottom=no(nr.bottom,et.bottom),et.left=Qn(nr.left,et.left),et},Gl(cn,Ea,_t));return Vt.width=Vt.right-Vt.left,Vt.height=Vt.bottom-Vt.top,Vt.x=Vt.left,Vt.y=Vt.top,Vt}(Fr(Be)?Be:Be.contextElement||$r(_.elements.popper),Z,ae,q),Ne=Yn(_.elements.reference),We=Kl({reference:Ne,element:Ce,strategy:"absolute",placement:D}),Je=ma(Object.assign({},Ce,We)),Ge=Se===oi?Je:Ne,wt={top:be.top-Ge.top+Xe.top,bottom:Ge.bottom-be.bottom+Xe.bottom,left:be.left-Ge.left+Xe.left,right:Ge.right-be.right+Xe.right},On=_.modifiersData.offset;if(Se===oi&&On){var Er=On[D];Object.keys(wt).forEach(function(cn){var er=[Qt,yt].indexOf(cn)>=0?1:-1,tr=[St,yt].indexOf(cn)>=0?"y":"x";wt[cn]+=Er[tr]*er})}return wt}function qc(_,c){c===void 0&&(c={});var f=c,E=f.placement,D=f.boundary,V=f.rootBoundary,q=f.padding,K=f.flipVariations,Z=f.allowedAutoPlacements,se=Z===void 0?gr:Z,ae=Ji(E),ne=ae?K?ai:ai.filter(function(we){return Ji(we)===ae}):Vr,Se=ne.filter(function(we){return se.indexOf(we)>=0});Se.length===0&&(Se=ne);var pe=Se.reduce(function(we,ye){return we[ye]=wr(_,{placement:ye,boundary:D,rootBoundary:V,padding:q})[un(ye)],we},{});return Object.keys(pe).sort(function(we,ye){return pe[we]-pe[ye]})}const Xn={name:"flip",enabled:!0,phase:"main",fn:function(_){var c=_.state,f=_.options,E=_.name;if(!c.modifiersData[E]._skip){for(var D=f.mainAxis,V=D===void 0||D,q=f.altAxis,K=q===void 0||q,Z=f.fallbackPlacements,se=f.padding,ae=f.boundary,ne=f.rootBoundary,Se=f.altBoundary,pe=f.flipVariations,we=pe===void 0||pe,ye=f.allowedAutoPlacements,Ee=c.options.placement,Xe=un(Ee),nt=Z||(Xe!==Ee&&we?function(et){if(un(et)===Wi)return[];var hn=ro(et);return[es(et),hn,es(hn)]}(Ee):[ro(Ee)]),Ce=[Ee].concat(nt).reduce(function(et,hn){return et.concat(un(hn)===Wi?qc(c,{placement:hn,boundary:ae,rootBoundary:ne,padding:se,flipVariations:we,allowedAutoPlacements:ye}):hn)},[]),Be=c.rects.reference,be=c.rects.popper,Ne=new Map,We=!0,Je=Ce[0],Ge=0;Ge<Ce.length;Ge++){var wt=Ce[Ge],On=un(wt),Er=Ji(wt)===Mr,cn=[St,yt].indexOf(On)>=0,er=cn?"width":"height",tr=wr(c,{placement:wt,boundary:ae,rootBoundary:ne,altBoundary:Se,padding:se}),_t=cn?Er?Qt:Lt:Er?yt:St;Be[er]>be[er]&&(_t=ro(_t));var Br=ro(_t),zr=[];if(V&&zr.push(tr[On]<=0),K&&zr.push(tr[_t]<=0,tr[Br]<=0),zr.every(function(et){return et})){Je=wt,We=!1;break}Ne.set(wt,zr)}if(We)for(var Ea=function(et){var hn=Ce.find(function(nr){var rs=Ne.get(nr);if(rs)return rs.slice(0,et).every(function(lh){return lh})});if(hn)return Je=hn,"break"},Vt=we?3:1;Vt>0&&Ea(Vt)!=="break";Vt--);c.placement!==Je&&(c.modifiersData[E]._skip=!0,c.placement=Je,c.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ql(_,c,f){return f===void 0&&(f={x:0,y:0}),{top:_.top-c.height-f.y,right:_.right-c.width+f.x,bottom:_.bottom-c.height+f.y,left:_.left-c.width-f.x}}function Hc(_){return[St,Qt,yt,Lt].some(function(c){return _[c]>=0})}const ts={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(_){var c=_.state,f=_.name,E=c.rects.reference,D=c.rects.popper,V=c.modifiersData.preventOverflow,q=wr(c,{elementContext:"reference"}),K=wr(c,{altBoundary:!0}),Z=Ql(q,E),se=Ql(K,D,V),ae=Hc(Z),ne=Hc(se);c.modifiersData[f]={referenceClippingOffsets:Z,popperEscapeOffsets:se,isReferenceHidden:ae,hasPopperEscaped:ne},c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-reference-hidden":ae,"data-popper-escaped":ne})}},Yl={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(_){var c=_.state,f=_.options,E=_.name,D=f.offset,V=D===void 0?[0,0]:D,q=gr.reduce(function(ae,ne){return ae[ne]=function(Se,pe,we){var ye=un(Se),Ee=[Lt,St].indexOf(ye)>=0?-1:1,Xe=typeof we=="function"?we(Object.assign({},pe,{placement:Se})):we,nt=Xe[0],Ce=Xe[1];return nt=nt||0,Ce=(Ce||0)*Ee,[Lt,Qt].indexOf(ye)>=0?{x:Ce,y:nt}:{x:nt,y:Ce}}(ne,c.rects,V),ae},{}),K=q[c.placement],Z=K.x,se=K.y;c.modifiersData.popperOffsets!=null&&(c.modifiersData.popperOffsets.x+=Z,c.modifiersData.popperOffsets.y+=se),c.modifiersData[E]=q}},ao={name:"popperOffsets",enabled:!0,phase:"read",fn:function(_){var c=_.state,f=_.name;c.modifiersData[f]=Kl({reference:c.rects.reference,element:c.rects.popper,strategy:"absolute",placement:c.placement})},data:{}},lo={name:"preventOverflow",enabled:!0,phase:"main",fn:function(_){var c=_.state,f=_.options,E=_.name,D=f.mainAxis,V=D===void 0||D,q=f.altAxis,K=q!==void 0&&q,Z=f.boundary,se=f.rootBoundary,ae=f.altBoundary,ne=f.padding,Se=f.tether,pe=Se===void 0||Se,we=f.tetherOffset,ye=we===void 0?0:we,Ee=wr(c,{boundary:Z,rootBoundary:se,padding:ne,altBoundary:ae}),Xe=un(c.placement),nt=Ji(c.placement),Ce=!nt,Be=ha(Xe),be=Be==="x"?"y":"x",Ne=c.modifiersData.popperOffsets,We=c.rects.reference,Je=c.rects.popper,Ge=typeof ye=="function"?ye(Object.assign({},c.rects,{placement:c.placement})):ye,wt=typeof Ge=="number"?{mainAxis:Ge,altAxis:Ge}:Object.assign({mainAxis:0,altAxis:0},Ge),On=c.modifiersData.offset?c.modifiersData.offset[c.placement]:null,Er={x:0,y:0};if(Ne){if(V){var cn,er=Be==="y"?St:Lt,tr=Be==="y"?yt:Qt,_t=Be==="y"?"height":"width",Br=Ne[Be],zr=Br+Ee[er],Ea=Br-Ee[tr],Vt=pe?-Je[_t]/2:0,et=nt===Mr?We[_t]:Je[_t],hn=nt===Mr?-Je[_t]:-We[_t],nr=c.elements.arrow,rs=pe&&nr?zl(nr):{width:0,height:0},lh=c.modifiersData["arrow#persistent"]?c.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Bv=lh[er],zv=lh[tr],uh=Xi(0,We[_t],rs[_t]),fk=Ce?We[_t]/2-Vt-uh-Bv-wt.mainAxis:et-uh-Bv-wt.mainAxis,pk=Ce?-We[_t]/2+Vt+uh+zv+wt.mainAxis:hn+uh+zv+wt.mainAxis,kp=c.elements.arrow&&vn(c.elements.arrow),mk=kp?Be==="y"?kp.clientTop||0:kp.clientLeft||0:0,qv=(cn=On==null?void 0:On[Be])!=null?cn:0,gk=Br+pk-qv,Hv=Xi(pe?no(zr,Br+fk-qv-mk):zr,Br,pe?Qn(Ea,gk):Ea);Ne[Be]=Hv,Er[Be]=Hv-Br}if(K){var Wv,yk=Be==="x"?St:Lt,_k=Be==="x"?yt:Qt,yo=Ne[be],ch=be==="y"?"height":"width",Gv=yo+Ee[yk],Kv=yo-Ee[_k],Rp=[St,Lt].indexOf(Xe)!==-1,Qv=(Wv=On==null?void 0:On[be])!=null?Wv:0,Yv=Rp?Gv:yo-We[ch]-Je[ch]-Qv+wt.altAxis,Xv=Rp?yo+We[ch]+Je[ch]-Qv-wt.altAxis:Kv,Jv=pe&&Rp?function(vk,wk,Pp){var Zv=Xi(vk,wk,Pp);return Zv>Pp?Pp:Zv}(Yv,yo,Xv):Xi(pe?Yv:Gv,yo,pe?Xv:Kv);Ne[be]=Jv,Er[be]=Jv-yo}c.modifiersData[E]=Er}},requiresIfExists:["offset"]};function Wc(_,c,f){f===void 0&&(f=!1);var E,D,V=_n(c),q=_n(c)&&function(ne){var Se=ne.getBoundingClientRect(),pe=je(Se.width)/ne.offsetWidth||1,we=je(Se.height)/ne.offsetHeight||1;return pe!==1||we!==1}(c),K=$r(c),Z=Yn(_,q,f),se={scrollLeft:0,scrollTop:0},ae={x:0,y:0};return(V||!V&&!f)&&((Kn(c)!=="body"||tt(K))&&(se=(E=c)!==Yt(E)&&_n(E)?{scrollLeft:(D=E).scrollLeft,scrollTop:D.scrollTop}:pa(E)),_n(c)?((ae=Yn(c,!0)).x+=c.clientLeft,ae.y+=c.clientTop):K&&(ae.x=so(K))),{x:Z.left+se.scrollLeft-ae.x,y:Z.top+se.scrollTop-ae.y,width:Z.width,height:Z.height}}function ga(_){var c=new Map,f=new Set,E=[];function D(V){f.add(V.name),[].concat(V.requires||[],V.requiresIfExists||[]).forEach(function(q){if(!f.has(q)){var K=c.get(q);K&&D(K)}}),E.push(V)}return _.forEach(function(V){c.set(V.name,V)}),_.forEach(function(V){f.has(V.name)||D(V)}),E}var Gc={placement:"bottom",modifiers:[],strategy:"absolute"};function Xl(){for(var _=arguments.length,c=new Array(_),f=0;f<_;f++)c[f]=arguments[f];return!c.some(function(E){return!(E&&typeof E.getBoundingClientRect=="function")})}function jr(_){_===void 0&&(_={});var c=_,f=c.defaultModifiers,E=f===void 0?[]:f,D=c.defaultOptions,V=D===void 0?Gc:D;return function(q,K,Z){Z===void 0&&(Z=V);var se,ae,ne={placement:"bottom",orderedModifiers:[],options:Object.assign({},Gc,V),modifiersData:{},elements:{reference:q,popper:K},attributes:{},styles:{}},Se=[],pe=!1,we={state:ne,setOptions:function(Ee){var Xe=typeof Ee=="function"?Ee(ne.options):Ee;ye(),ne.options=Object.assign({},V,ne.options,Xe),ne.scrollParents={reference:Fr(q)?oo(q):q.contextElement?oo(q.contextElement):[],popper:oo(K)};var nt,Ce,Be=function(be){var Ne=ga(be);return Uc.reduce(function(We,Je){return We.concat(Ne.filter(function(Ge){return Ge.phase===Je}))},[])}((nt=[].concat(E,ne.options.modifiers),Ce=nt.reduce(function(be,Ne){var We=be[Ne.name];return be[Ne.name]=We?Object.assign({},We,Ne,{options:Object.assign({},We.options,Ne.options),data:Object.assign({},We.data,Ne.data)}):Ne,be},{}),Object.keys(Ce).map(function(be){return Ce[be]})));return ne.orderedModifiers=Be.filter(function(be){return be.enabled}),ne.orderedModifiers.forEach(function(be){var Ne=be.name,We=be.options,Je=We===void 0?{}:We,Ge=be.effect;if(typeof Ge=="function"){var wt=Ge({state:ne,name:Ne,instance:we,options:Je});Se.push(wt||function(){})}}),we.update()},forceUpdate:function(){if(!pe){var Ee=ne.elements,Xe=Ee.reference,nt=Ee.popper;if(Xl(Xe,nt)){ne.rects={reference:Wc(Xe,vn(nt),ne.options.strategy==="fixed"),popper:zl(nt)},ne.reset=!1,ne.placement=ne.options.placement,ne.orderedModifiers.forEach(function(Ge){return ne.modifiersData[Ge.name]=Object.assign({},Ge.data)});for(var Ce=0;Ce<ne.orderedModifiers.length;Ce++)if(ne.reset!==!0){var Be=ne.orderedModifiers[Ce],be=Be.fn,Ne=Be.options,We=Ne===void 0?{}:Ne,Je=Be.name;typeof be=="function"&&(ne=be({state:ne,options:We,name:Je,instance:we})||ne)}else ne.reset=!1,Ce=-1}}},update:(se=function(){return new Promise(function(Ee){we.forceUpdate(),Ee(ne)})},function(){return ae||(ae=new Promise(function(Ee){Promise.resolve().then(function(){ae=void 0,Ee(se())})})),ae}),destroy:function(){ye(),pe=!0}};if(!Xl(q,K))return we;function ye(){Se.forEach(function(Ee){return Ee()}),Se=[]}return we.setOptions(Z).then(function(Ee){!pe&&Z.onFirstUpdate&&Z.onFirstUpdate(Ee)}),we}}var Kc=jr(),Qc=jr({defaultModifiers:[Zi,ao,Wl,Nn]}),uo=jr({defaultModifiers:[Zi,ao,Wl,Nn,Yl,Xn,lo,Bc,ts]});const ya=Object.freeze(Object.defineProperty({__proto__:null,afterMain:la,afterRead:Fl,afterWrite:Bl,applyStyles:Nn,arrow:Bc,auto:Wi,basePlacements:Vr,beforeMain:$l,beforeRead:aa,beforeWrite:ua,bottom:yt,clippingParents:$c,computeStyles:Wl,createPopper:uo,createPopperBase:Kc,createPopperLite:Qc,detectOverflow:wr,end:si,eventListeners:Zi,flip:Xn,hide:ts,left:Lt,main:jl,modifierPhases:Uc,offset:Yl,placements:gr,popper:oi,popperGenerator:jr,popperOffsets:ao,preventOverflow:lo,read:jc,reference:oa,right:Qt,start:Mr,top:St,variationPlacements:ai,viewport:Gi,write:Ul},Symbol.toStringTag,{value:"Module"})),Jl="dropdown",Jn=".bs.dropdown",_a=".data-api",Yc="ArrowUp",Ur="ArrowDown",Xc=`hide${Jn}`,Jc=`hidden${Jn}`,Zc=`show${Jn}`,eh=`shown${Jn}`,co=`click${Jn}${_a}`,Xt=`keydown${Jn}${_a}`,th=`keyup${Jn}${_a}`,ui="show",wn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',a=`${wn}.${ui}`,d=".dropdown-menu",m=O()?"top-end":"top-start",T=O()?"top-start":"top-end",M=O()?"bottom-end":"bottom-start",z=O()?"bottom-start":"bottom-end",J=O()?"left-start":"right-start",He=O()?"right-start":"left-start",Pt={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Oe={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ye extends $e{constructor(c,f){super(c,f),this._popper=null,this._parent=this._element.parentNode,this._menu=ue.next(this._element,d)[0]||ue.prev(this._element,d)[0]||ue.findOne(d,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Pt}static get DefaultType(){return Oe}static get NAME(){return Jl}toggle(){return this._isShown()?this.hide():this.show()}show(){if(p(this._element)||this._isShown())return;const c={relatedTarget:this._element};if(!j.trigger(this._element,Zc,c).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const f of[].concat(...document.body.children))j.on(f,"mouseover",y);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ui),this._element.classList.add(ui),j.trigger(this._element,eh,c)}}hide(){if(p(this._element)||!this._isShown())return;const c={relatedTarget:this._element};this._completeHide(c)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(c){if(!j.trigger(this._element,Xc,c).defaultPrevented){if("ontouchstart"in document.documentElement)for(const f of[].concat(...document.body.children))j.off(f,"mouseover",y);this._popper&&this._popper.destroy(),this._menu.classList.remove(ui),this._element.classList.remove(ui),this._element.setAttribute("aria-expanded","false"),xe.removeDataAttribute(this._menu,"popper"),j.trigger(this._element,Jc,c)}}_getConfig(c){if(typeof(c=super._getConfig(c)).reference=="object"&&!l(c.reference)&&typeof c.reference.getBoundingClientRect!="function")throw new TypeError(`${Jl.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return c}_createPopper(){if(ya===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let c=this._element;this._config.reference==="parent"?c=this._parent:l(this._config.reference)?c=u(this._config.reference):typeof this._config.reference=="object"&&(c=this._config.reference);const f=this._getPopperConfig();this._popper=uo(c,this._menu,f)}_isShown(){return this._menu.classList.contains(ui)}_getPlacement(){const c=this._parent;if(c.classList.contains("dropend"))return J;if(c.classList.contains("dropstart"))return He;if(c.classList.contains("dropup-center"))return"top";if(c.classList.contains("dropdown-center"))return"bottom";const f=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return c.classList.contains("dropup")?f?T:m:f?z:M}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(f=>Number.parseInt(f,10)):typeof c=="function"?f=>c(f,this._element):c}_getPopperConfig(){const c={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(xe.setDataAttribute(this._menu,"popper","static"),c.modifiers=[{name:"applyStyles",enabled:!1}]),{...c,...v(this._config.popperConfig,[c])}}_selectMenuItem({key:c,target:f}){const E=ue.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(D=>h(D));E.length&&F(E,f,c===Ur,!E.includes(f)).focus()}static jQueryInterface(c){return this.each(function(){const f=Ye.getOrCreateInstance(this,c);if(typeof c=="string"){if(f[c]===void 0)throw new TypeError(`No method named "${c}"`);f[c]()}})}static clearMenus(c){if(c.button===2||c.type==="keyup"&&c.key!=="Tab")return;const f=ue.find(a);for(const E of f){const D=Ye.getInstance(E);if(!D||D._config.autoClose===!1)continue;const V=c.composedPath(),q=V.includes(D._menu);if(V.includes(D._element)||D._config.autoClose==="inside"&&!q||D._config.autoClose==="outside"&&q||D._menu.contains(c.target)&&(c.type==="keyup"&&c.key==="Tab"||/input|select|option|textarea|form/i.test(c.target.tagName)))continue;const K={relatedTarget:D._element};c.type==="click"&&(K.clickEvent=c),D._completeHide(K)}}static dataApiKeydownHandler(c){const f=/input|textarea/i.test(c.target.tagName),E=c.key==="Escape",D=[Yc,Ur].includes(c.key);if(!D&&!E||f&&!E)return;c.preventDefault();const V=this.matches(wn)?this:ue.prev(this,wn)[0]||ue.next(this,wn)[0]||ue.findOne(wn,c.delegateTarget.parentNode),q=Ye.getOrCreateInstance(V);if(D)return c.stopPropagation(),q.show(),void q._selectMenuItem(c);q._isShown()&&(c.stopPropagation(),q.hide(),V.focus())}}j.on(document,Xt,wn,Ye.dataApiKeydownHandler),j.on(document,Xt,d,Ye.dataApiKeydownHandler),j.on(document,co,Ye.clearMenus),j.on(document,th,Ye.clearMenus),j.on(document,co,wn,function(_){_.preventDefault(),Ye.getOrCreateInstance(this).toggle()}),I(Ye);const xt="backdrop",ci="show",En=`mousedown.bs.${xt}`,va={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Zl={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class fv extends Me{constructor(c){super(),this._config=this._getConfig(c),this._isAppended=!1,this._element=null}static get Default(){return va}static get DefaultType(){return Zl}static get NAME(){return xt}show(c){if(!this._config.isVisible)return void v(c);this._append();const f=this._getElement();this._config.isAnimated&&C(f),f.classList.add(ci),this._emulateAnimation(()=>{v(c)})}hide(c){this._config.isVisible?(this._getElement().classList.remove(ci),this._emulateAnimation(()=>{this.dispose(),v(c)})):v(c)}dispose(){this._isAppended&&(j.off(this._element,En),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const c=document.createElement("div");c.className=this._config.className,this._config.isAnimated&&c.classList.add("fade"),this._element=c}return this._element}_configAfterMerge(c){return c.rootElement=u(c.rootElement),c}_append(){if(this._isAppended)return;const c=this._getElement();this._config.rootElement.append(c),j.on(c,En,()=>{v(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(c){A(c,this._getElement(),this._config.isAnimated)}}const nh=".bs.focustrap",oC=`focusin${nh}`,aC=`keydown.tab${nh}`,pv="backward",lC={autofocus:!0,trapElement:null},uC={autofocus:"boolean",trapElement:"element"};class mv extends Me{constructor(c){super(),this._config=this._getConfig(c),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return lC}static get DefaultType(){return uC}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),j.off(document,nh),j.on(document,oC,c=>this._handleFocusin(c)),j.on(document,aC,c=>this._handleKeydown(c)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,j.off(document,nh))}_handleFocusin(c){const{trapElement:f}=this._config;if(c.target===document||c.target===f||f.contains(c.target))return;const E=ue.focusableChildren(f);E.length===0?f.focus():this._lastTabNavDirection===pv?E[E.length-1].focus():E[0].focus()}_handleKeydown(c){c.key==="Tab"&&(this._lastTabNavDirection=c.shiftKey?pv:"forward")}}const gv=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",yv=".sticky-top",rh="padding-right",_v="margin-right";class _p{constructor(){this._element=document.body}getWidth(){const c=document.documentElement.clientWidth;return Math.abs(window.innerWidth-c)}hide(){const c=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,rh,f=>f+c),this._setElementAttributes(gv,rh,f=>f+c),this._setElementAttributes(yv,_v,f=>f-c)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,rh),this._resetElementAttributes(gv,rh),this._resetElementAttributes(yv,_v)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(c,f,E){const D=this.getWidth();this._applyManipulationCallback(c,V=>{if(V!==this._element&&window.innerWidth>V.clientWidth+D)return;this._saveInitialAttribute(V,f);const q=window.getComputedStyle(V).getPropertyValue(f);V.style.setProperty(f,`${E(Number.parseFloat(q))}px`)})}_saveInitialAttribute(c,f){const E=c.style.getPropertyValue(f);E&&xe.setDataAttribute(c,f,E)}_resetElementAttributes(c,f){this._applyManipulationCallback(c,E=>{const D=xe.getDataAttribute(E,f);D!==null?(xe.removeDataAttribute(E,f),E.style.setProperty(f,D)):E.style.removeProperty(f)})}_applyManipulationCallback(c,f){if(l(c))f(c);else for(const E of ue.find(c,this._element))f(E)}}const Zn=".bs.modal",cC=`hide${Zn}`,hC=`hidePrevented${Zn}`,vv=`hidden${Zn}`,wv=`show${Zn}`,dC=`shown${Zn}`,fC=`resize${Zn}`,pC=`click.dismiss${Zn}`,mC=`mousedown.dismiss${Zn}`,gC=`keydown.dismiss${Zn}`,yC=`click${Zn}.data-api`,Ev="modal-open",Tv="show",vp="modal-static",_C={backdrop:!0,focus:!0,keyboard:!0},vC={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ho extends $e{constructor(c,f){super(c,f),this._dialog=ue.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new _p,this._addEventListeners()}static get Default(){return _C}static get DefaultType(){return vC}static get NAME(){return"modal"}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||this._isTransitioning||j.trigger(this._element,wv,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Ev),this._adjustDialog(),this._backdrop.show(()=>this._showElement(c)))}hide(){this._isShown&&!this._isTransitioning&&(j.trigger(this._element,cC).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Tv),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){j.off(window,Zn),j.off(this._dialog,Zn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new fv({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new mv({trapElement:this._element})}_showElement(c){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const f=ue.findOne(".modal-body",this._dialog);f&&(f.scrollTop=0),C(this._element),this._element.classList.add(Tv),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,j.trigger(this._element,dC,{relatedTarget:c})},this._dialog,this._isAnimated())}_addEventListeners(){j.on(this._element,gC,c=>{c.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),j.on(window,fC,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),j.on(this._element,mC,c=>{j.one(this._element,pC,f=>{this._element===c.target&&this._element===f.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Ev),this._resetAdjustments(),this._scrollBar.reset(),j.trigger(this._element,vv)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(j.trigger(this._element,hC).defaultPrevented)return;const c=this._element.scrollHeight>document.documentElement.clientHeight,f=this._element.style.overflowY;f==="hidden"||this._element.classList.contains(vp)||(c||(this._element.style.overflowY="hidden"),this._element.classList.add(vp),this._queueCallback(()=>{this._element.classList.remove(vp),this._queueCallback(()=>{this._element.style.overflowY=f},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const c=this._element.scrollHeight>document.documentElement.clientHeight,f=this._scrollBar.getWidth(),E=f>0;if(E&&!c){const D=O()?"paddingLeft":"paddingRight";this._element.style[D]=`${f}px`}if(!E&&c){const D=O()?"paddingRight":"paddingLeft";this._element.style[D]=`${f}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(c,f){return this.each(function(){const E=ho.getOrCreateInstance(this,c);if(typeof c=="string"){if(E[c]===void 0)throw new TypeError(`No method named "${c}"`);E[c](f)}})}}j.on(document,yC,'[data-bs-toggle="modal"]',function(_){const c=ue.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&_.preventDefault(),j.one(c,wv,E=>{E.defaultPrevented||j.one(c,vv,()=>{h(this)&&this.focus()})});const f=ue.findOne(".modal.show");f&&ho.getInstance(f).hide(),ho.getOrCreateInstance(c).toggle(this)}),ni(ho),I(ho);const hi=".bs.offcanvas",Iv=".data-api",wC=`load${hi}${Iv}`,Sv="show",Av="showing",bv="hiding",Cv=".offcanvas.show",EC=`show${hi}`,TC=`shown${hi}`,IC=`hide${hi}`,kv=`hidePrevented${hi}`,Rv=`hidden${hi}`,SC=`resize${hi}`,AC=`click${hi}${Iv}`,bC=`keydown.dismiss${hi}`,CC={backdrop:!0,keyboard:!0,scroll:!1},kC={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class di extends $e{constructor(c,f){super(c,f),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return CC}static get DefaultType(){return kC}static get NAME(){return"offcanvas"}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||j.trigger(this._element,EC,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new _p().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Av),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Sv),this._element.classList.remove(Av),j.trigger(this._element,TC,{relatedTarget:c})},this._element,!0))}hide(){this._isShown&&(j.trigger(this._element,IC).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(bv),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Sv,bv),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new _p().reset(),j.trigger(this._element,Rv)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const c=!!this._config.backdrop;return new fv({className:"offcanvas-backdrop",isVisible:c,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:c?()=>{this._config.backdrop!=="static"?this.hide():j.trigger(this._element,kv)}:null})}_initializeFocusTrap(){return new mv({trapElement:this._element})}_addEventListeners(){j.on(this._element,bC,c=>{c.key==="Escape"&&(this._config.keyboard?this.hide():j.trigger(this._element,kv))})}static jQueryInterface(c){return this.each(function(){const f=di.getOrCreateInstance(this,c);if(typeof c=="string"){if(f[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);f[c](this)}})}}j.on(document,AC,'[data-bs-toggle="offcanvas"]',function(_){const c=ue.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&_.preventDefault(),p(this))return;j.one(c,Rv,()=>{h(this)&&this.focus()});const f=ue.findOne(Cv);f&&f!==c&&di.getInstance(f).hide(),di.getOrCreateInstance(c).toggle(this)}),j.on(window,wC,()=>{for(const _ of ue.find(Cv))di.getOrCreateInstance(_).show()}),j.on(window,SC,()=>{for(const _ of ue.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(_).position!=="fixed"&&di.getOrCreateInstance(_).hide()}),ni(di),I(di);const Pv={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},RC=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),PC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,xC=(_,c)=>{const f=_.nodeName.toLowerCase();return c.includes(f)?!RC.has(f)||!!PC.test(_.nodeValue):c.filter(E=>E instanceof RegExp).some(E=>E.test(f))},NC={allowList:Pv,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},OC={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},DC={entry:"(string|element|function|null)",selector:"(string|element)"};class LC extends Me{constructor(c){super(),this._config=this._getConfig(c)}static get Default(){return NC}static get DefaultType(){return OC}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(c=>this._resolvePossibleFunction(c)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(c){return this._checkContent(c),this._config.content={...this._config.content,...c},this}toHtml(){const c=document.createElement("div");c.innerHTML=this._maybeSanitize(this._config.template);for(const[D,V]of Object.entries(this._config.content))this._setContent(c,V,D);const f=c.children[0],E=this._resolvePossibleFunction(this._config.extraClass);return E&&f.classList.add(...E.split(" ")),f}_typeCheckConfig(c){super._typeCheckConfig(c),this._checkContent(c.content)}_checkContent(c){for(const[f,E]of Object.entries(c))super._typeCheckConfig({selector:f,entry:E},DC)}_setContent(c,f,E){const D=ue.findOne(E,c);D&&((f=this._resolvePossibleFunction(f))?l(f)?this._putElementInTemplate(u(f),D):this._config.html?D.innerHTML=this._maybeSanitize(f):D.textContent=f:D.remove())}_maybeSanitize(c){return this._config.sanitize?function(f,E,D){if(!f.length)return f;if(D&&typeof D=="function")return D(f);const V=new window.DOMParser().parseFromString(f,"text/html"),q=[].concat(...V.body.querySelectorAll("*"));for(const K of q){const Z=K.nodeName.toLowerCase();if(!Object.keys(E).includes(Z)){K.remove();continue}const se=[].concat(...K.attributes),ae=[].concat(E["*"]||[],E[Z]||[]);for(const ne of se)xC(ne,ae)||K.removeAttribute(ne.nodeName)}return V.body.innerHTML}(c,this._config.allowList,this._config.sanitizeFn):c}_resolvePossibleFunction(c){return v(c,[this])}_putElementInTemplate(c,f){if(this._config.html)return f.innerHTML="",void f.append(c);f.textContent=c.textContent}}const VC=new Set(["sanitize","allowList","sanitizeFn"]),wp="fade",ih="show",xv=".modal",Nv="hide.bs.modal",eu="hover",Ep="focus",MC={AUTO:"auto",TOP:"top",RIGHT:O()?"left":"right",BOTTOM:"bottom",LEFT:O()?"right":"left"},FC={allowList:Pv,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},$C={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class fo extends $e{constructor(c,f){if(ya===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(c,f),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return FC}static get DefaultType(){return $C}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),j.off(this._element.closest(xv),Nv,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const c=j.trigger(this._element,this.constructor.eventName("show")),f=(g(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(c.defaultPrevented||!f)return;this._disposePopper();const E=this._getTipElement();this._element.setAttribute("aria-describedby",E.getAttribute("id"));const{container:D}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(D.append(E),j.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(E),E.classList.add(ih),"ontouchstart"in document.documentElement)for(const V of[].concat(...document.body.children))j.on(V,"mouseover",y);this._queueCallback(()=>{j.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!j.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(ih),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))j.off(c,"mouseover",y);this._activeTrigger.click=!1,this._activeTrigger[Ep]=!1,this._activeTrigger[eu]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),j.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(c){const f=this._getTemplateFactory(c).toHtml();if(!f)return null;f.classList.remove(wp,ih),f.classList.add(`bs-${this.constructor.NAME}-auto`);const E=(D=>{do D+=Math.floor(1e6*Math.random());while(document.getElementById(D));return D})(this.constructor.NAME).toString();return f.setAttribute("id",E),this._isAnimated()&&f.classList.add(wp),f}setContent(c){this._newContent=c,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(c){return this._templateFactory?this._templateFactory.changeContent(c):this._templateFactory=new LC({...this._config,content:c,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(c){return this.constructor.getOrCreateInstance(c.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(wp)}_isShown(){return this.tip&&this.tip.classList.contains(ih)}_createPopper(c){const f=v(this._config.placement,[this,c,this._element]),E=MC[f.toUpperCase()];return uo(this._element,c,this._getPopperConfig(E))}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(f=>Number.parseInt(f,10)):typeof c=="function"?f=>c(f,this._element):c}_resolvePossibleFunction(c){return v(c,[this._element])}_getPopperConfig(c){const f={placement:c,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:E=>{this._getTipElement().setAttribute("data-popper-placement",E.state.placement)}}]};return{...f,...v(this._config.popperConfig,[f])}}_setListeners(){const c=this._config.trigger.split(" ");for(const f of c)if(f==="click")j.on(this._element,this.constructor.eventName("click"),this._config.selector,E=>{this._initializeOnDelegatedTarget(E).toggle()});else if(f!=="manual"){const E=f===eu?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),D=f===eu?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");j.on(this._element,E,this._config.selector,V=>{const q=this._initializeOnDelegatedTarget(V);q._activeTrigger[V.type==="focusin"?Ep:eu]=!0,q._enter()}),j.on(this._element,D,this._config.selector,V=>{const q=this._initializeOnDelegatedTarget(V);q._activeTrigger[V.type==="focusout"?Ep:eu]=q._element.contains(V.relatedTarget),q._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},j.on(this._element.closest(xv),Nv,this._hideModalHandler)}_fixTitle(){const c=this._element.getAttribute("title");c&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",c),this._element.setAttribute("data-bs-original-title",c),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(c,f){clearTimeout(this._timeout),this._timeout=setTimeout(c,f)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(c){const f=xe.getDataAttributes(this._element);for(const E of Object.keys(f))VC.has(E)&&delete f[E];return c={...f,...typeof c=="object"&&c?c:{}},c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c.container=c.container===!1?document.body:u(c.container),typeof c.delay=="number"&&(c.delay={show:c.delay,hide:c.delay}),typeof c.title=="number"&&(c.title=c.title.toString()),typeof c.content=="number"&&(c.content=c.content.toString()),c}_getDelegateConfig(){const c={};for(const[f,E]of Object.entries(this._config))this.constructor.Default[f]!==E&&(c[f]=E);return c.selector=!1,c.trigger="manual",c}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(c){return this.each(function(){const f=fo.getOrCreateInstance(this,c);if(typeof c=="string"){if(f[c]===void 0)throw new TypeError(`No method named "${c}"`);f[c]()}})}}I(fo);const jC={...fo.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},UC={...fo.DefaultType,content:"(null|string|element|function)"};class sh extends fo{static get Default(){return jC}static get DefaultType(){return UC}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(c){return this.each(function(){const f=sh.getOrCreateInstance(this,c);if(typeof c=="string"){if(f[c]===void 0)throw new TypeError(`No method named "${c}"`);f[c]()}})}}I(sh);const Tp=".bs.scrollspy",BC=`activate${Tp}`,Ov=`click${Tp}`,zC=`load${Tp}.data-api`,wa="active",Ip="[href]",Dv=".nav-link",qC=`${Dv}, .nav-item > ${Dv}, .list-group-item`,HC={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},WC={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class tu extends $e{constructor(c,f){super(c,f),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return HC}static get DefaultType(){return WC}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const c of this._observableSections.values())this._observer.observe(c)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(c){return c.target=u(c.target)||document.body,c.rootMargin=c.offset?`${c.offset}px 0px -30%`:c.rootMargin,typeof c.threshold=="string"&&(c.threshold=c.threshold.split(",").map(f=>Number.parseFloat(f))),c}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(j.off(this._config.target,Ov),j.on(this._config.target,Ov,Ip,c=>{const f=this._observableSections.get(c.target.hash);if(f){c.preventDefault();const E=this._rootElement||window,D=f.offsetTop-this._element.offsetTop;if(E.scrollTo)return void E.scrollTo({top:D,behavior:"smooth"});E.scrollTop=D}}))}_getNewObserver(){const c={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(f=>this._observerCallback(f),c)}_observerCallback(c){const f=q=>this._targetLinks.get(`#${q.target.id}`),E=q=>{this._previousScrollData.visibleEntryTop=q.target.offsetTop,this._process(f(q))},D=(this._rootElement||document.documentElement).scrollTop,V=D>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=D;for(const q of c){if(!q.isIntersecting){this._activeTarget=null,this._clearActiveClass(f(q));continue}const K=q.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(V&&K){if(E(q),!D)return}else V||K||E(q)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const c=ue.find(Ip,this._config.target);for(const f of c){if(!f.hash||p(f))continue;const E=ue.findOne(decodeURI(f.hash),this._element);h(E)&&(this._targetLinks.set(decodeURI(f.hash),f),this._observableSections.set(f.hash,E))}}_process(c){this._activeTarget!==c&&(this._clearActiveClass(this._config.target),this._activeTarget=c,c.classList.add(wa),this._activateParents(c),j.trigger(this._element,BC,{relatedTarget:c}))}_activateParents(c){if(c.classList.contains("dropdown-item"))ue.findOne(".dropdown-toggle",c.closest(".dropdown")).classList.add(wa);else for(const f of ue.parents(c,".nav, .list-group"))for(const E of ue.prev(f,qC))E.classList.add(wa)}_clearActiveClass(c){c.classList.remove(wa);const f=ue.find(`${Ip}.${wa}`,c);for(const E of f)E.classList.remove(wa)}static jQueryInterface(c){return this.each(function(){const f=tu.getOrCreateInstance(this,c);if(typeof c=="string"){if(f[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);f[c]()}})}}j.on(window,zC,()=>{for(const _ of ue.find('[data-bs-spy="scroll"]'))tu.getOrCreateInstance(_)}),I(tu);const po=".bs.tab",GC=`hide${po}`,KC=`hidden${po}`,QC=`show${po}`,YC=`shown${po}`,XC=`click${po}`,JC=`keydown${po}`,ZC=`load${po}`,ek="ArrowLeft",Lv="ArrowRight",tk="ArrowUp",Vv="ArrowDown",Sp="Home",Mv="End",mo="active",Fv="fade",Ap="show",$v=".dropdown-toggle",bp=`:not(${$v})`,jv='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Cp=`.nav-link${bp}, .list-group-item${bp}, [role="tab"]${bp}, ${jv}`,nk=`.${mo}[data-bs-toggle="tab"], .${mo}[data-bs-toggle="pill"], .${mo}[data-bs-toggle="list"]`;class go extends $e{constructor(c){super(c),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),j.on(this._element,JC,f=>this._keydown(f)))}static get NAME(){return"tab"}show(){const c=this._element;if(this._elemIsActive(c))return;const f=this._getActiveElem(),E=f?j.trigger(f,GC,{relatedTarget:c}):null;j.trigger(c,QC,{relatedTarget:f}).defaultPrevented||E&&E.defaultPrevented||(this._deactivate(f,c),this._activate(c,f))}_activate(c,f){c&&(c.classList.add(mo),this._activate(ue.getElementFromSelector(c)),this._queueCallback(()=>{c.getAttribute("role")==="tab"?(c.removeAttribute("tabindex"),c.setAttribute("aria-selected",!0),this._toggleDropDown(c,!0),j.trigger(c,YC,{relatedTarget:f})):c.classList.add(Ap)},c,c.classList.contains(Fv)))}_deactivate(c,f){c&&(c.classList.remove(mo),c.blur(),this._deactivate(ue.getElementFromSelector(c)),this._queueCallback(()=>{c.getAttribute("role")==="tab"?(c.setAttribute("aria-selected",!1),c.setAttribute("tabindex","-1"),this._toggleDropDown(c,!1),j.trigger(c,KC,{relatedTarget:f})):c.classList.remove(Ap)},c,c.classList.contains(Fv)))}_keydown(c){if(![ek,Lv,tk,Vv,Sp,Mv].includes(c.key))return;c.stopPropagation(),c.preventDefault();const f=this._getChildren().filter(D=>!p(D));let E;if([Sp,Mv].includes(c.key))E=f[c.key===Sp?0:f.length-1];else{const D=[Lv,Vv].includes(c.key);E=F(f,c.target,D,!0)}E&&(E.focus({preventScroll:!0}),go.getOrCreateInstance(E).show())}_getChildren(){return ue.find(Cp,this._parent)}_getActiveElem(){return this._getChildren().find(c=>this._elemIsActive(c))||null}_setInitialAttributes(c,f){this._setAttributeIfNotExists(c,"role","tablist");for(const E of f)this._setInitialAttributesOnChild(E)}_setInitialAttributesOnChild(c){c=this._getInnerElement(c);const f=this._elemIsActive(c),E=this._getOuterElement(c);c.setAttribute("aria-selected",f),E!==c&&this._setAttributeIfNotExists(E,"role","presentation"),f||c.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(c,"role","tab"),this._setInitialAttributesOnTargetPanel(c)}_setInitialAttributesOnTargetPanel(c){const f=ue.getElementFromSelector(c);f&&(this._setAttributeIfNotExists(f,"role","tabpanel"),c.id&&this._setAttributeIfNotExists(f,"aria-labelledby",`${c.id}`))}_toggleDropDown(c,f){const E=this._getOuterElement(c);if(!E.classList.contains("dropdown"))return;const D=(V,q)=>{const K=ue.findOne(V,E);K&&K.classList.toggle(q,f)};D($v,mo),D(".dropdown-menu",Ap),E.setAttribute("aria-expanded",f)}_setAttributeIfNotExists(c,f,E){c.hasAttribute(f)||c.setAttribute(f,E)}_elemIsActive(c){return c.classList.contains(mo)}_getInnerElement(c){return c.matches(Cp)?c:ue.findOne(Cp,c)}_getOuterElement(c){return c.closest(".nav-item, .list-group-item")||c}static jQueryInterface(c){return this.each(function(){const f=go.getOrCreateInstance(this);if(typeof c=="string"){if(f[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);f[c]()}})}}j.on(document,XC,jv,function(_){["A","AREA"].includes(this.tagName)&&_.preventDefault(),p(this)||go.getOrCreateInstance(this).show()}),j.on(window,ZC,()=>{for(const _ of ue.find(nk))go.getOrCreateInstance(_)}),I(go);const ns=".bs.toast",rk=`mouseover${ns}`,ik=`mouseout${ns}`,sk=`focusin${ns}`,ok=`focusout${ns}`,ak=`hide${ns}`,lk=`hidden${ns}`,uk=`show${ns}`,ck=`shown${ns}`,Uv="hide",oh="show",ah="showing",hk={animation:"boolean",autohide:"boolean",delay:"number"},dk={animation:!0,autohide:!0,delay:5e3};class nu extends $e{constructor(c,f){super(c,f),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return dk}static get DefaultType(){return hk}static get NAME(){return"toast"}show(){j.trigger(this._element,uk).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Uv),C(this._element),this._element.classList.add(oh,ah),this._queueCallback(()=>{this._element.classList.remove(ah),j.trigger(this._element,ck),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(j.trigger(this._element,ak).defaultPrevented||(this._element.classList.add(ah),this._queueCallback(()=>{this._element.classList.add(Uv),this._element.classList.remove(ah,oh),j.trigger(this._element,lk)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(oh),super.dispose()}isShown(){return this._element.classList.contains(oh)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(c,f){switch(c.type){case"mouseover":case"mouseout":this._hasMouseInteraction=f;break;case"focusin":case"focusout":this._hasKeyboardInteraction=f}if(f)return void this._clearTimeout();const E=c.relatedTarget;this._element===E||this._element.contains(E)||this._maybeScheduleHide()}_setListeners(){j.on(this._element,rk,c=>this._onInteraction(c,!0)),j.on(this._element,ik,c=>this._onInteraction(c,!1)),j.on(this._element,sk,c=>this._onInteraction(c,!0)),j.on(this._element,ok,c=>this._onInteraction(c,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(c){return this.each(function(){const f=nu.getOrCreateInstance(this,c);if(typeof c=="string"){if(f[c]===void 0)throw new TypeError(`No method named "${c}"`);f[c](this)}})}}return ni(nu),I(nu),{Alert:Gn,Button:cr,Carousel:ii,Collapse:Lr,Dropdown:Ye,Modal:ho,Offcanvas:di,Popover:sh,ScrollSpy:tu,Tab:go,Toast:nu,Tooltip:fo}})})(O9);function D9(){const{user:t,logout:e}=$.useContext(wf);return B.jsxs(B.Fragment,{children:[B.jsx("nav",{className:"navbar navbar-expand-lg bg-body-tertiary bg-primary",children:B.jsxs("div",{className:"container-fluid",children:[B.jsx("a",{className:"navbar-brand",href:"/Login",children:"Manage Rooms"}),B.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarScroll","aria-controls":"navbarScroll","aria-expanded":"false","aria-label":"Toggle navigation",children:B.jsx("span",{className:"navbar-toggler-icon"})}),B.jsxs("div",{className:"collapse navbar-collapse",id:"navbarScroll",children:[B.jsxs("ul",{className:"navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll",children:[B.jsx("li",{className:"nav-item",children:B.jsx("a",{className:"nav-link active","aria-current":"page",href:"/business/home",children:"Home"})}),B.jsx("li",{className:"nav-item",children:B.jsx("a",{className:"nav-link",href:"/business/log",children:"Log"})})]}),B.jsxs("div",{className:"d-flex align-items-center",children:[B.jsx(B.Fragment,{children:t.name?B.jsxs("span",{children:["Xin chao ",t.name," "]}):""}),B.jsx("button",{className:"btn btn-outline-success",onClick:e,children:"Logout"})]})]})]})}),B.jsx("div",{className:"container",children:B.jsx(N9,{})}),B.jsx(S9,{position:"bottom-right"})]})}LI(document.getElementById("root")).render(B.jsx($.StrictMode,{children:B.jsx(ZP,{children:B.jsx(D9,{})})}))});export default L9();
